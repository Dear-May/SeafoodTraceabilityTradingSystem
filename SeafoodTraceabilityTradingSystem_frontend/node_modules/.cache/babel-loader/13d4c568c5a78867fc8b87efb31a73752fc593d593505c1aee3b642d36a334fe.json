{"ast":null,"code":"import OceanWaveLogo from \"@/components/OceanWaveLogoComponent.vue\";\nimport { onMounted, ref, watch } from \"vue\";\nimport FooterComponent from \"@/components/FooterComponent.vue\";\nimport { ElMessage } from \"element-plus\";\nimport { Plus } from \"@element-plus/icons-vue\";\nimport Vcode from \"vue3-puzzle-vcode\";\nimport axios from \"axios\";\nimport router from \"@/router\";\nexport default {\n  __name: 'StoreRegisterView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const logoComponent = ref(null);\n    const active = ref(0);\n    function lastStep() {\n      registerForm.value = {\n        shopId: \"\",\n        role: \"\",\n        phone: \"\",\n        userName: \"\",\n        shopName: \"\",\n        email: \"\",\n        description: \"\",\n        code: \"\",\n        avatarUrl: \"\"\n      };\n      active.value = 0;\n    }\n    const next = () => {\n      if (active.value === 0) {\n        if (registerForm.value.role === \"\") {\n          ElMessage.error(\"请选择身份\");\n          return;\n        }\n      } else if (active.value === 1) {\n        if (!isAccessed.value) {\n          ElMessage.error(\"请先验证手机号！\");\n          return;\n        }\n      }\n      if (active.value++ > 2) active.value = 0;\n    };\n    const registerForm = ref({\n      shopId: \"\",\n      role: \"\",\n      phone: \"\",\n      userName: \"\",\n      shopName: \"\",\n      email: \"\",\n      description: \"\",\n      code: \"\",\n      avatarUrl: \"\"\n    });\n    const selectRole = role => {\n      registerForm.value.role = role;\n    };\n    function initLogo() {\n      logoComponent.value.setTitle(\"商家注册\");\n    }\n    const isShow = ref(false);\n    const wait = ref(60);\n    const isButtonDisabled = ref(false);\n    const buttonText = ref(\"获取验证码\");\n    const isAccessed = ref(false);\n    // 监听验证码倒计时\n    watch(wait, newValue => {\n      if (newValue === 0) {\n        isButtonDisabled.value = false;\n        buttonText.value = \"获取验证码\";\n        wait.value = 60; // 重置计时器\n      } else {\n        buttonText.value = `${newValue}秒后可以重新发送`;\n      }\n    });\n\n    // 检查手机号输入\n    const CheckPhoneNumber = () => {\n      if (!registerForm.value.phone) {\n        ElMessage.error(\"请输入手机号码！\");\n      } else if (!/^1[3-9]\\d{9}$/.test(registerForm.value.phone)) {\n        ElMessage.error(\"请输入正确的手机号码！\");\n      }\n      isAccessed.value = false;\n      onShow();\n    };\n\n    // 人机验证部分\n    const onShow = () => {\n      isShow.value = true;\n    };\n    const onClose = () => {\n      isShow.value = false;\n    };\n    const onSuccess = () => {\n      onClose();\n      getMsgNum();\n    };\n\n    // 发送验证码\n    const getMsgNum = async () => {\n      setButtonStatus();\n      try {\n        const response = await axios.post(\"/api/sms/smsXxs\", {\n          phoneNumber: registerForm.value.phone\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.isOk === \"OK\") {\n          ElMessage.success(\"验证码已发送到您的手机，请注意查收！\");\n        } else {\n          ElMessage.error(\"验证码发送失败，请稍后再试！\");\n        }\n      } catch (error) {\n        console.error(\"发送验证码错误:\", error);\n      }\n    };\n\n    // 设置按钮状态\n    const setButtonStatus = () => {\n      isButtonDisabled.value = true;\n      wait.value = wait.value > 0 ? wait.value : 60;\n      countdown();\n    };\n\n    // 倒计时功能\n    const countdown = () => {\n      if (wait.value > 0) {\n        setTimeout(() => {\n          wait.value -= 1;\n          countdown();\n        }, 1000);\n      }\n    };\n\n    // 验证验证码\n    const validateNum = async () => {\n      if (!registerForm.value.phone || !registerForm.value.code) {\n        ElMessage.error(\"请输入手机号码和验证码！\");\n        return;\n      }\n      const data = {\n        verifyCode: registerForm.value.code,\n        phone: registerForm.value.phone\n      };\n      try {\n        const response = await axios.post(\"/api/sms/validateNum\", data, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.result === 404) {\n          ElMessage.error(\"过期验证码已失效!\");\n        } else if (response.data.result === 500) {\n          ElMessage.error(\"验证码错误，请重新输入！\");\n        } else if (response.data.result === 403) {\n          ElMessage.error(\"用户不存在，请注册账号！\");\n        } else {\n          ElMessage.success(\"验证成功！\");\n          isAccessed.value = true;\n        }\n      } catch (error) {\n        console.error(\"验证错误:\", error);\n      }\n    };\n    const beforeAvatarUpload = file => {\n      const isImage = file.type.startsWith('image/');\n      if (!isImage) {\n        ElMessage.error('只能上传图片文件！');\n        return false;\n      }\n      const reader = new FileReader();\n      reader.onload = e => {\n        registerForm.value.avatarUrl = e.target.result;\n      };\n      reader.readAsDataURL(file);\n      return false; // 阻止默认上传行为\n    };\n    async function finishRegister() {\n      if (registerForm.value.role === \"\") {\n        ElMessage.error(\"请选择身份！\");\n        return;\n      } else if (registerForm.value.phone === \"\") {\n        ElMessage.error(\"请输入手机号码！\");\n        return;\n      } else {\n        if (registerForm.value.role === \"merchant\") {\n          if (registerForm.value.shopName === \"\") {\n            ElMessage.error(\"请输入店铺名称！\");\n            return;\n          }\n          if (registerForm.value.userName === \"\") {\n            ElMessage.error(\"请输入用户名称！\");\n            return;\n          }\n          if (registerForm.value.email === \"\") {\n            ElMessage.error(\"请输入邮箱！\");\n            return;\n          }\n          if (registerForm.value.avatarUrl === \"\") {\n            ElMessage.error(\"请上传店铺LOGO！\");\n            return;\n          }\n        } else if (registerForm.value.role === \"staff\") {\n          if (registerForm.value.userName === \"\") {\n            ElMessage.error(\"请输入用户名称！\");\n            return;\n          }\n          if (registerForm.value.email === \"\") {\n            ElMessage.error(\"请输入邮箱！\");\n            return;\n          }\n          if (registerForm.value.shopId === \"\") {\n            ElMessage.error(\"请输入所属商店id！\");\n            return;\n          }\n        }\n      }\n      const re = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      if (!re.test(registerForm.value.email)) {\n        ElMessage.error(\"请输入正确的邮箱格式！\");\n        return;\n      }\n      if (registerForm.value.role === \"staff\") {\n        try {\n          const response = await axios.post(\"/api/shop/user/isAccessShop\", {\n            shopId: registerForm.value.shopId\n          }, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            withCredentials: true\n          });\n          if (response.data.code === 404) {\n            ElMessage.error(\"该商店不存在或未通过审核！\");\n            return;\n          }\n        } catch (err) {\n          ElMessage.error(\"获取商店信息失败！\");\n          return;\n        }\n      }\n      try {\n        const response = await axios.post(\"/api/shop/user/register\", registerForm.value, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          if (registerForm.value.role === \"merchant\") {\n            ElMessage.success(\"注册成功，请登录账号，并完善店铺信息！\");\n            setTimeout(() => {\n              window.location.href = \"/store/login\";\n            }, 1500);\n          } else if (registerForm.value.role === \"staff\") {\n            ElMessage.success(\"注册成功，信息已提交，请等待店主审核！\");\n            setTimeout(() => {\n              window.location.href = \"/store/login\";\n            }, 1500);\n          }\n        } else if (response.data.code === 400) {\n          ElMessage.error(\"注册失败，请检查输入信息！\");\n        } else if (response.data.code === 403) {\n          ElMessage.error(\"注册失败，该手机号已被注册！\");\n        }\n      } catch (error) {\n        console.error(\"注册失败:\", error);\n      }\n    }\n    onMounted(() => {\n      initLogo();\n    });\n    const __returned__ = {\n      logoComponent,\n      active,\n      lastStep,\n      next,\n      registerForm,\n      selectRole,\n      initLogo,\n      isShow,\n      wait,\n      isButtonDisabled,\n      buttonText,\n      isAccessed,\n      CheckPhoneNumber,\n      onShow,\n      onClose,\n      onSuccess,\n      getMsgNum,\n      setButtonStatus,\n      countdown,\n      validateNum,\n      beforeAvatarUpload,\n      finishRegister,\n      OceanWaveLogo,\n      onMounted,\n      ref,\n      watch,\n      FooterComponent,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get Plus() {\n        return Plus;\n      },\n      get Vcode() {\n        return Vcode;\n      },\n      get axios() {\n        return axios;\n      },\n      get router() {\n        return router;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["OceanWaveLogo","onMounted","ref","watch","FooterComponent","ElMessage","Plus","Vcode","axios","router","logoComponent","active","lastStep","registerForm","value","shopId","role","phone","userName","shopName","email","description","code","avatarUrl","next","error","isAccessed","selectRole","initLogo","setTitle","isShow","wait","isButtonDisabled","buttonText","newValue","CheckPhoneNumber","test","onShow","onClose","onSuccess","getMsgNum","setButtonStatus","response","post","phoneNumber","headers","withCredentials","data","isOk","success","console","countdown","setTimeout","validateNum","verifyCode","result","beforeAvatarUpload","file","isImage","type","startsWith","reader","FileReader","onload","e","target","readAsDataURL","finishRegister","re","err","window","location","href"],"sources":["D:/Cache/Java/shopping/shoppping_c_frontend/src/views/Store/StoreRegisterView.vue"],"sourcesContent":["<template>\r\n  <el-header>\r\n    <OceanWaveLogo ref=\"logoComponent\"></OceanWaveLogo>\r\n  </el-header>\r\n  <div class=\"login-container\">\r\n    <div class=\"steps-wrapper\">\r\n      <el-steps :active=\"active\" align-center class=\"full-width-steps\">\r\n        <el-step title=\"Step 1\" description=\"确认身份\"/>\r\n        <el-step title=\"Step 2\" description=\"验证手机号\"/>\r\n        <el-step title=\"Step 3\" description=\"填写商店信息\" v-if=\"registerForm.role === 'merchant'\"/>\r\n        <el-step title=\"Step 3\" description=\"填写加入信息\" v-else-if=\"registerForm.role === 'staff'\"/>\r\n        <el-step title=\"Step 3\" description=\"请选择身份\" v-else/>\r\n      </el-steps>\r\n    </div>\r\n\r\n    <!-- 步骤一 -->\r\n    <transition name=\"fade\" mode=\"out-in\" v-if=\"active === 0\">\r\n      <div class=\"role-selection\" key=\"step-0\">\r\n        <div class=\"role-card\" @click=\"selectRole('merchant')\" :class=\"{'active': registerForm.role === 'merchant'}\">\r\n          <div class=\"role-icon merchant-icon\"></div>\r\n          <h3>我是商家</h3>\r\n          <p>开设您的店铺，管理商品和订单。</p>\r\n        </div>\r\n        <div class=\"role-card\" @click=\"selectRole('staff')\" :class=\"{'active': registerForm.role === 'staff'}\">\r\n          <div class=\"role-icon staff-icon\"></div>\r\n          <h3>我是店员</h3>\r\n          <p>协助商家管理店铺，处理日常工作。</p>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- 步骤二 -->\r\n    <transition name=\"fade\" mode=\"out-in\" v-else-if=\"active === 1\">\r\n      <div class=\"phone-verification\" key=\"step-1\">\r\n        <el-form :model=\"registerForm\" label-width=\"100px\" class=\"form-content\">\r\n          <el-form-item label=\"手机号\">\r\n            <el-input v-model=\"registerForm.phone\" placeholder=\"请输入您的手机号\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"验证码\">\r\n            <div class=\"verification-wrapper\">\r\n              <el-input v-model=\"registerForm.code\" placeholder=\"请输入验证码\" class=\"code-input\"></el-input>\r\n              <el-button type=\"primary\" @click=\"CheckPhoneNumber\" class=\"send-code-btn\" :disabled=\"isButtonDisabled\">\r\n                {{ buttonText }}\r\n              </el-button>\r\n            </div>\r\n          </el-form-item>\r\n          <Vcode :show=\"isShow\" @success=\"onSuccess\" @close=\"onClose\"/>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"validateNum\" v-if=\"!isAccessed\" size=\"large\">验证手机号</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- 步骤三 -->\r\n    <transition name=\"fade\" mode=\"out-in\" v-else-if=\"active === 2\">\r\n      <div class=\"shop-info\" key=\"step-2\">\r\n        <el-form :model=\"registerForm\" label-width=\"100px\" class=\"form-content\">\r\n          <!-- 商家填写信息 -->\r\n          <div v-if=\"registerForm.role === 'merchant'\">\r\n            <el-form-item label=\"店铺名称\">\r\n              <el-input v-model=\"registerForm.shopName\" placeholder=\"请输入店铺名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名称\">\r\n              <el-input v-model=\"registerForm.userName\" placeholder=\"请输入用户名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"店铺LOGO\">\r\n              <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  accept=\"image/*\"\r\n                  :show-file-list=\"false\"\r\n                  :before-upload=\"beforeAvatarUpload\">\r\n                <img v-if=\"registerForm.avatarUrl\" :src=\"registerForm.avatarUrl\" class=\"avatar\" alt=\"\"/>\r\n                <el-icon v-else class=\"avatar-uploader-icon\">\r\n                  <plus/>\r\n                </el-icon>\r\n              </el-upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"简介\">\r\n              <el-input v-model=\"registerForm.description\" type=\"textarea\" placeholder=\"请输入简介\"\r\n                        resize=\"none\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"registerForm.email\" placeholder=\"请输入邮箱\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n\r\n          <!-- 店员填写信息 -->\r\n          <div v-else-if=\"registerForm.role === 'staff'\">\r\n            <el-form-item label=\"用户名称\">\r\n              <el-input v-model=\"registerForm.userName\" placeholder=\"请输入用户名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"registerForm.email\" placeholder=\"请输入邮箱\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属商店\">\r\n              <el-input v-model=\"registerForm.shopId\" placeholder=\"请输入所属商店id\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n        </el-form>\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- 按钮区域 -->\r\n    <div class=\"form-wrapper\">\r\n      <el-button class=\"step-btn\" v-if=\"active===0\" size=\"large\" @click=\"()=> {router.push('/store/login')}\">返回登录\r\n      </el-button>\r\n      <el-button class=\"step-btn\" @click=\"lastStep\" v-if=\"active > 0\" size=\"large\">重新选择身份</el-button>\r\n      <el-button class=\"step-btn\" @click=\"next\" v-if=\"active < 2\" size=\"large\">下一步</el-button>\r\n      <el-button class=\"step-btn\" v-else-if=\"active === 2\" @click=\"finishRegister\" size=\"large\">完成注册</el-button>\r\n    </div>\r\n  </div>\r\n  <!--  <FooterComponent/>-->\r\n</template>\r\n<script setup>\r\nimport OceanWaveLogo from \"@/components/OceanWaveLogoComponent.vue\";\r\nimport {onMounted, ref, watch} from \"vue\";\r\nimport FooterComponent from \"@/components/FooterComponent.vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport {Plus} from \"@element-plus/icons-vue\";\r\nimport Vcode from \"vue3-puzzle-vcode\";\r\nimport axios from \"axios\";\r\nimport router from \"@/router\";\r\n\r\nconst logoComponent = ref(null);\r\nconst active = ref(0);\r\n\r\nfunction lastStep() {\r\n  registerForm.value = {\r\n    shopId: \"\",\r\n    role: \"\",\r\n    phone: \"\",\r\n    userName: \"\",\r\n    shopName: \"\",\r\n    email: \"\",\r\n    description: \"\",\r\n    code: \"\",\r\n    avatarUrl: \"\",\r\n  };\r\n  active.value = 0;\r\n}\r\n\r\nconst next = () => {\r\n  if (active.value === 0) {\r\n    if (registerForm.value.role === \"\") {\r\n      ElMessage.error(\"请选择身份\");\r\n      return;\r\n    }\r\n  } else if (active.value === 1) {\r\n    if (!isAccessed.value) {\r\n      ElMessage.error(\"请先验证手机号！\");\r\n      return;\r\n    }\r\n  }\r\n  if (active.value++ > 2) active.value = 0;\r\n};\r\n\r\nconst registerForm = ref({\r\n  shopId: \"\",\r\n  role: \"\",\r\n  phone: \"\",\r\n  userName: \"\",\r\n  shopName: \"\",\r\n  email: \"\",\r\n  description: \"\",\r\n  code: \"\",\r\n  avatarUrl: \"\",\r\n});\r\n\r\nconst selectRole = (role) => {\r\n  registerForm.value.role = role;\r\n};\r\n\r\nfunction initLogo() {\r\n  logoComponent.value.setTitle(\"商家注册\");\r\n}\r\n\r\nconst isShow = ref(false);\r\nconst wait = ref(60);\r\nconst isButtonDisabled = ref(false);\r\nconst buttonText = ref(\"获取验证码\");\r\nconst isAccessed = ref(false);\r\n// 监听验证码倒计时\r\nwatch(wait, (newValue) => {\r\n  if (newValue === 0) {\r\n    isButtonDisabled.value = false;\r\n    buttonText.value = \"获取验证码\";\r\n    wait.value = 60; // 重置计时器\r\n  } else {\r\n    buttonText.value = `${newValue}秒后可以重新发送`;\r\n  }\r\n});\r\n\r\n// 检查手机号输入\r\nconst CheckPhoneNumber = () => {\r\n  if (!registerForm.value.phone) {\r\n    ElMessage.error(\"请输入手机号码！\");\r\n  } else if (!/^1[3-9]\\d{9}$/.test(registerForm.value.phone)) {\r\n    ElMessage.error(\"请输入正确的手机号码！\");\r\n  }\r\n  isAccessed.value = false;\r\n  onShow();\r\n};\r\n\r\n// 人机验证部分\r\nconst onShow = () => {\r\n  isShow.value = true;\r\n};\r\n\r\nconst onClose = () => {\r\n  isShow.value = false;\r\n};\r\n\r\nconst onSuccess = () => {\r\n  onClose();\r\n  getMsgNum();\r\n};\r\n\r\n// 发送验证码\r\nconst getMsgNum = async () => {\r\n  setButtonStatus();\r\n  try {\r\n    const response = await axios.post(\r\n        \"/api/sms/smsXxs\",\r\n        {\r\n          phoneNumber: registerForm.value.phone,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          withCredentials: true,\r\n        }\r\n    );\r\n\r\n    if (response.data.isOk === \"OK\") {\r\n      ElMessage.success(\"验证码已发送到您的手机，请注意查收！\");\r\n    } else {\r\n      ElMessage.error(\"验证码发送失败，请稍后再试！\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"发送验证码错误:\", error);\r\n  }\r\n};\r\n\r\n// 设置按钮状态\r\nconst setButtonStatus = () => {\r\n  isButtonDisabled.value = true;\r\n  wait.value = wait.value > 0 ? wait.value : 60;\r\n  countdown();\r\n};\r\n\r\n// 倒计时功能\r\nconst countdown = () => {\r\n  if (wait.value > 0) {\r\n    setTimeout(() => {\r\n      wait.value -= 1;\r\n      countdown();\r\n    }, 1000);\r\n  }\r\n};\r\n\r\n// 验证验证码\r\nconst validateNum = async () => {\r\n  if (!registerForm.value.phone || !registerForm.value.code) {\r\n    ElMessage.error(\"请输入手机号码和验证码！\");\r\n    return;\r\n  }\r\n  const data = {\r\n    verifyCode: registerForm.value.code,\r\n    phone: registerForm.value.phone,\r\n  };\r\n\r\n  try {\r\n    const response = await axios.post(\"/api/sms/validateNum\", data, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      withCredentials: true,\r\n    });\r\n\r\n    if (response.data.result === 404) {\r\n      ElMessage.error(\"过期验证码已失效!\");\r\n    } else if (response.data.result === 500) {\r\n      ElMessage.error(\"验证码错误，请重新输入！\");\r\n    } else if (response.data.result === 403) {\r\n      ElMessage.error(\"用户不存在，请注册账号！\");\r\n    } else {\r\n      ElMessage.success(\"验证成功！\");\r\n      isAccessed.value = true;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"验证错误:\", error);\r\n  }\r\n};\r\n\r\nconst beforeAvatarUpload = (file) => {\r\n  const isImage = file.type.startsWith('image/');\r\n  if (!isImage) {\r\n    ElMessage.error('只能上传图片文件！');\r\n    return false;\r\n  }\r\n\r\n  const reader = new FileReader();\r\n  reader.onload = (e) => {\r\n    registerForm.value.avatarUrl = e.target.result;\r\n  };\r\n  reader.readAsDataURL(file);\r\n\r\n  return false; // 阻止默认上传行为\r\n};\r\n\r\nasync function finishRegister() {\r\n  if (registerForm.value.role === \"\") {\r\n    ElMessage.error(\"请选择身份！\");\r\n    return;\r\n  } else if (registerForm.value.phone === \"\") {\r\n    ElMessage.error(\"请输入手机号码！\");\r\n    return;\r\n  } else {\r\n    if (registerForm.value.role === \"merchant\") {\r\n      if (registerForm.value.shopName === \"\") {\r\n        ElMessage.error(\"请输入店铺名称！\");\r\n        return;\r\n      }\r\n      if (registerForm.value.userName === \"\") {\r\n        ElMessage.error(\"请输入用户名称！\");\r\n        return;\r\n      }\r\n      if (registerForm.value.email === \"\") {\r\n        ElMessage.error(\"请输入邮箱！\");\r\n        return;\r\n      }\r\n      if (registerForm.value.avatarUrl === \"\") {\r\n        ElMessage.error(\"请上传店铺LOGO！\");\r\n        return;\r\n      }\r\n    } else if (registerForm.value.role === \"staff\") {\r\n      if (registerForm.value.userName === \"\") {\r\n        ElMessage.error(\"请输入用户名称！\");\r\n        return;\r\n      }\r\n      if (registerForm.value.email === \"\") {\r\n        ElMessage.error(\"请输入邮箱！\");\r\n        return;\r\n      }\r\n      if (registerForm.value.shopId === \"\") {\r\n        ElMessage.error(\"请输入所属商店id！\");\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  const re = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\r\n  if (!re.test(registerForm.value.email)) {\r\n    ElMessage.error(\"请输入正确的邮箱格式！\")\r\n    return;\r\n  }\r\n  if (registerForm.value.role === \"staff\") {\r\n    try {\r\n      const response = await axios.post(\"/api/shop/user/isAccessShop\", {\r\n        shopId: registerForm.value.shopId\r\n      }, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        withCredentials: true,\r\n      });\r\n      if (response.data.code === 404) {\r\n        ElMessage.error(\"该商店不存在或未通过审核！\")\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      ElMessage.error(\"获取商店信息失败！\")\r\n      return;\r\n    }\r\n  }\r\n  try {\r\n    const response = await axios.post(\"/api/shop/user/register\", registerForm.value, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    if (response.data.code === 200) {\r\n      if (registerForm.value.role === \"merchant\") {\r\n        ElMessage.success(\"注册成功，请登录账号，并完善店铺信息！\");\r\n        setTimeout(() => {\r\n          window.location.href = \"/store/login\";\r\n        }, 1500);\r\n      } else if (registerForm.value.role === \"staff\") {\r\n        ElMessage.success(\"注册成功，信息已提交，请等待店主审核！\")\r\n        setTimeout(() => {\r\n          window.location.href = \"/store/login\";\r\n        }, 1500);\r\n      }\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"注册失败，请检查输入信息！\");\r\n    } else if (response.data.code === 403) {\r\n      ElMessage.error(\"注册失败，该手机号已被注册！\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"注册失败:\", error);\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  initLogo();\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 100vh;\r\n  padding: 1.5rem;\r\n  background-color: #e0f7fa; /* 海洋背景颜色 */\r\n}\r\n\r\nbody:after {\r\n  content: \"\";\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: #004d61; /* 深海蓝色 */\r\n  width: 60%;\r\n  height: 100vh;\r\n  clip-path: polygon(0 100%, 0 0, 100% 0, 70% 100%);\r\n  z-index: -1;\r\n}\r\n\r\n.login-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 90vh;\r\n  width: 100%;\r\n}\r\n\r\n.steps-wrapper {\r\n  position: absolute;\r\n  top: 20%;\r\n  width: 75vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.full-width-steps {\r\n  width: 100%;\r\n}\r\n\r\n.role-selection {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 2rem;\r\n  margin-top: 3rem;\r\n}\r\n\r\n.role-card {\r\n  width: 280px;\r\n  height: 30vh;\r\n  background-color: #ffffff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  padding: 2rem;\r\n  cursor: pointer;\r\n  transition: transform 0.3s, box-shadow 0.3s;\r\n  position: relative;\r\n}\r\n\r\n.role-card:hover {\r\n  transform: translateY(-10px);\r\n  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.role-card.active {\r\n  border: 2px solid #0077b6;\r\n}\r\n\r\n.role-icon {\r\n  width: 80px;\r\n  height: 80px;\r\n  margin: 0 auto 1rem;\r\n  background-size: cover;\r\n}\r\n\r\n.merchant-icon {\r\n  background-image: url(\"@/images/merchant-icon.png\");\r\n}\r\n\r\n.staff-icon {\r\n  background-image: url(\"@/images/staff-icon.png\");\r\n}\r\n\r\n.dots {\r\n  position: absolute;\r\n  bottom: 1rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.dots::before, .dots::after, .dots span {\r\n  content: \"\";\r\n  width: 8px;\r\n  height: 8px;\r\n  background-color: #d0d0d0;\r\n  border-radius: 50%;\r\n}\r\n\r\n.step-btn {\r\n  margin-top: 12px;\r\n  padding: 12px 20px;\r\n  background-color: #0077b6;\r\n  color: #fff;\r\n  font-weight: bold;\r\n  border-radius: 8px;\r\n  transition: background 0.3s;\r\n\r\n  &:hover {\r\n    background-color: #005f87;\r\n  }\r\n}\r\n\r\n.phone-verification {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 2rem;\r\n  width: 100%;\r\n\r\n  h2 {\r\n    font-size: 1.8rem;\r\n    color: #333;\r\n    margin-bottom: 1.5rem;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n\r\n  .form-content {\r\n    width: 450px;\r\n    background: #ffffff;\r\n    padding: 2.5rem;\r\n    border-radius: 12px;\r\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\r\n    transition: all 0.3s ease-in-out;\r\n\r\n    &:hover {\r\n      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\r\n      transform: translateY(-5px);\r\n    }\r\n\r\n    .el-form-item {\r\n      margin-bottom: 1.5rem;\r\n\r\n      label {\r\n        font-size: 1rem;\r\n        color: #444;\r\n        font-weight: 600;\r\n      }\r\n\r\n      .el-input {\r\n        :deep(.el-input__wrapper) {\r\n          border-radius: 12px;\r\n          box-shadow: 0 0 0 2px #e0e0e0;\r\n          transition: box-shadow 0.2s ease;\r\n\r\n          &:hover,\r\n          &:focus {\r\n            box-shadow: 0 0 0 2px #0077b6;\r\n          }\r\n        }\r\n\r\n        input {\r\n          font-size: 1rem;\r\n          color: #333;\r\n        }\r\n      }\r\n    }\r\n\r\n    .verification-wrapper {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 1rem;\r\n\r\n      .code-input {\r\n        flex: 1;\r\n\r\n        :deep(.el-input__wrapper) {\r\n          border-radius: 12px;\r\n        }\r\n      }\r\n\r\n      .send-code-btn {\r\n        background-color: #0077b6;\r\n        color: #fff;\r\n        border-radius: 12px;\r\n        font-size: 1rem;\r\n        padding: 0.8rem 1.2rem;\r\n        transition: background 0.3s, transform 0.2s;\r\n\r\n        &:hover {\r\n          background-color: #005f87;\r\n          transform: scale(1.05);\r\n        }\r\n      }\r\n    }\r\n\r\n    .verify-btn {\r\n      width: 100%;\r\n      background-color: #0077b6;\r\n      color: #ffffff;\r\n      border-radius: 12px;\r\n      font-size: 1.1rem;\r\n      font-weight: 600;\r\n      padding: 0.8rem 1.2rem;\r\n      transition: background 0.3s, box-shadow 0.3s;\r\n\r\n      &:hover {\r\n        background-color: #005f87;\r\n        box-shadow: 0 5px 15px rgba(0, 119, 182, 0.3);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.shop-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 2rem;\r\n  width: 100%;\r\n\r\n  .form-content {\r\n    width: 500px;\r\n    background-color: #ffffff;\r\n    padding: 2rem;\r\n    border-radius: 12px;\r\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\r\n    transition: all 0.3s;\r\n\r\n    &:hover {\r\n      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\r\n    }\r\n\r\n    .el-form-item {\r\n      margin-bottom: 1.5rem;\r\n\r\n      label {\r\n        font-size: 1rem;\r\n        color: #444;\r\n        font-weight: 600;\r\n      }\r\n\r\n      .el-input {\r\n        :deep(.el-input__wrapper) {\r\n          border-radius: 8px;\r\n          box-shadow: 0 0 0 2px #e0e0e0;\r\n          transition: box-shadow 0.2s ease;\r\n\r\n          &:hover,\r\n          &:focus {\r\n            box-shadow: 0 0 0 2px #0077b6;\r\n          }\r\n        }\r\n\r\n        input {\r\n          font-size: 1rem;\r\n          color: #333;\r\n        }\r\n      }\r\n    }\r\n\r\n    .avatar-uploader {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n\r\n      .avatar {\r\n        width: 100px;\r\n        height: 100px;\r\n        border-radius: 50%;\r\n        object-fit: cover;\r\n        border: 2px solid #d0d0d0;\r\n      }\r\n\r\n      .avatar-uploader-icon {\r\n        font-size: 2rem;\r\n        color: #ccc;\r\n        border: 1px dashed #ccc;\r\n        border-radius: 50%;\r\n        width: 100px;\r\n        height: 100px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        transition: border 0.3s, color 0.3s;\r\n\r\n        &:hover {\r\n          border: 1px dashed #0077b6;\r\n          color: #0077b6;\r\n        }\r\n      }\r\n    }\r\n\r\n    .el-textarea {\r\n      :deep(.el-textarea__inner) {\r\n        border-radius: 8px;\r\n        box-shadow: 0 0 0 2px #e0e0e0;\r\n\r\n        &:hover,\r\n        &:focus {\r\n          box-shadow: 0 0 0 2px #0077b6;\r\n        }\r\n      }\r\n    }\r\n\r\n    .el-button {\r\n      background-color: #0077b6;\r\n      color: #ffffff;\r\n      font-size: 1rem;\r\n      padding: 0.8rem 1.2rem;\r\n      border-radius: 8px;\r\n      transition: background 0.3s, box-shadow 0.3s;\r\n\r\n      &:hover {\r\n        background-color: #005f87;\r\n        box-shadow: 0 5px 15px rgba(0, 119, 182, 0.3);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 过渡动画 */\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}