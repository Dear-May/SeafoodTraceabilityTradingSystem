{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex justify-content-between flex-wrap\"\n};\nconst _hoisted_2 = {\n  class: \"card mb-3\",\n  style: {\n    \"width\": \"48%\",\n    \"min-width\": \"350px\",\n    \"max-height\": \"168px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"card-body d-flex align-items-center\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"card-title mb-0\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-muted\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"text-muted\"\n};\nconst _hoisted_8 = {\n  class: \"mt-2 text-muted\",\n  style: {\n    \"text-align\": \"left\"\n  }\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"d-flex flex-wrap\",\n  style: {\n    \"width\": \"48%\",\n    \"min-width\": \"350px\"\n  }\n};\nconst _hoisted_10 = {\n  class: \"stat-amount\"\n};\nconst _hoisted_11 = {\n  class: \"stat-desc\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"d-flex flex-wrap\",\n  style: {\n    \"width\": \"48%\",\n    \"min-width\": \"350px\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"calendar-header\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"date-cell\"\n};\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  class: \"row mt-4\"\n};\nconst _hoisted_17 = {\n  class: \"col-12 col-lg-6 mb-3\"\n};\nconst _hoisted_18 = {\n  class: \"card\"\n};\nconst _hoisted_19 = {\n  class: \"card-body p-0\"\n};\nconst _hoisted_20 = {\n  class: \"table mb-0 table-striped\"\n};\nconst _hoisted_21 = {\n  class: \"col-12 col-lg-6 mb-3\"\n};\nconst _hoisted_22 = {\n  class: \"card\"\n};\nconst _hoisted_23 = {\n  class: \"card-body\"\n};\nconst _hoisted_24 = {\n  ref: \"lineChart\",\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"300px\"\n  }\n};\nconst _hoisted_25 = {\n  class: \"row mt-3\"\n};\nconst _hoisted_26 = {\n  class: \"col-12 col-lg-6 mb-3\"\n};\nconst _hoisted_27 = {\n  class: \"card\"\n};\nconst _hoisted_28 = {\n  class: \"card-body\"\n};\nconst _hoisted_29 = {\n  ref: \"barChart\",\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"300px\"\n  }\n};\nconst _hoisted_30 = {\n  class: \"col-12 col-lg-6 mb-3\"\n};\nconst _hoisted_31 = {\n  class: \"card\"\n};\nconst _hoisted_32 = {\n  class: \"card-body\"\n};\nconst _hoisted_33 = {\n  ref: \"pieChart\",\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"300px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_calendar = _resolveComponent(\"el-calendar\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" 顶部用户信息与统计卡片 \"), _createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" 左侧用户信息卡片保持不变 \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    class: \"rounded-circle me-3\",\n    src: $setup.UserForm.avatar,\n    alt: \"Admin\",\n    width: \"80\",\n    height: \"80\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", null, [_createElementVNode(\"h4\", _hoisted_5, _toDisplayString($setup.UserForm.nickname), 1 /* TEXT */), $setup.UserForm.role === 'merchant' ? (_openBlock(), _createElementBlock(\"small\", _hoisted_6, \"店长\")) : $setup.UserForm.role === 'staff' ? (_openBlock(), _createElementBlock(\"small\", _hoisted_7, \"店员\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", null, \"手机号：\" + _toDisplayString($setup.UserForm.phone), 1 /* TEXT */), _createElementVNode(\"div\", null, \"邮箱：\" + _toDisplayString($setup.UserForm.email), 1 /* TEXT */)])])])]), _createCommentVNode(\" 右侧统计卡片区域 \"), $setup.UserForm.role === 'merchant' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.topStats, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.title,\n      class: \"stat-card me-3 mb-3\"\n    }, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString(item.amount), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, _toDisplayString(item.title), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createVNode(_component_el_calendar, {\n    \"model-value\": $setup.currentDate\n  }, {\n    header: _withCtx(({\n      date\n    }) => [_createElementVNode(\"div\", _hoisted_13, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", null, \"员工考勤表\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, \"当前月份：\" + _toDisplayString(date), 1 /* TEXT */)])]),\n    \"date-cell\": _withCtx(({\n      data\n    }) => [!$setup.isFutureDate(data.day) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createCommentVNode(\" 显示日期 \"), _createTextVNode(\" \" + _toDisplayString(data.day.split('-').slice(1).join('-')) + \" \", 1 /* TEXT */), _createCommentVNode(\" 考勤状态 \"), _createElementVNode(\"div\", {\n      style: {\n        \"width\": \"100%\"\n      },\n      onClick: $event => $setup.handleAttendance(data.day)\n    }, [_createVNode(_component_el_tag, {\n      type: $setup.getAttendanceStatus(data.day) === '已签到' ? 'success' : 'info'\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getAttendanceStatus(data.day)), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])], 8 /* PROPS */, _hoisted_15)])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model-value\"])]))]), _createCommentVNode(\" 下方数据表格与图表保持不变 \"), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \" 商品购买情况 \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"table\", _hoisted_20, [_cache[1] || (_cache[1] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"商品\"), _createElementVNode(\"th\", null, \"今日购买\"), _createElementVNode(\"th\", null, \"本月购买\"), _createElementVNode(\"th\", null, \"总购买\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.courseData, course => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: course.name\n    }, [_createElementVNode(\"td\", null, _toDisplayString(course.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(course.today), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(course.month), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(course.total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]), _createCommentVNode(\" 折线图示例 \"), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \" 销量趋势 \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, null, 512 /* NEED_PATCH */)])])])]), _createCommentVNode(\" 底部两个图表 \"), _createElementVNode(\"div\", _hoisted_25, [_createCommentVNode(\" 柱状图 \"), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \" 用户情况 \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, null, 512 /* NEED_PATCH */)])])]), _createCommentVNode(\" 饼图 \"), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \" 订单状态占比 \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"div\", _hoisted_33, null, 512 /* NEED_PATCH */)])])])])])), [[_directive_loading, $setup.loading]]);\n}","map":{"version":3,"names":["class","style","key","ref","_createElementBlock","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","src","$setup","UserForm","avatar","alt","width","height","_hoisted_4","_hoisted_5","_toDisplayString","nickname","role","_hoisted_6","_hoisted_7","_hoisted_8","phone","email","_hoisted_9","_Fragment","_renderList","topStats","item","title","_hoisted_10","amount","_hoisted_11","_hoisted_12","_createVNode","_component_el_calendar","currentDate","header","_withCtx","date","_hoisted_13","data","isFutureDate","day","_hoisted_14","_createTextVNode","split","slice","join","onClick","$event","handleAttendance","_component_el_tag","type","getAttendanceStatus","default","_","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","courseData","course","name","today","month","total","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","loading"],"sources":["D:\\Cache\\Java\\shopping\\shoppping_c_frontend\\src\\components\\DashboardView.vue"],"sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <!-- 顶部用户信息与统计卡片 -->\r\n    <div class=\"d-flex justify-content-between flex-wrap\">\r\n      <!-- 左侧用户信息卡片保持不变 -->\r\n      <div class=\"card mb-3\" style=\"width: 48%; min-width: 350px; max-height: 168px;\">\r\n        <div class=\"card-body d-flex align-items-center\">\r\n          <img class=\"rounded-circle me-3\" :src=\"UserForm.avatar\" alt=\"Admin\" width=\"80\" height=\"80\"/>\r\n          <div>\r\n            <h4 class=\"card-title mb-0\">{{ UserForm.nickname }}</h4>\r\n            <small class=\"text-muted\" v-if=\"UserForm.role==='merchant'\">店长</small>\r\n            <small class=\"text-muted\" v-else-if=\"UserForm.role==='staff'\">店员</small>\r\n            <div class=\"mt-2 text-muted\" style=\"text-align: left;\">\r\n              <div>手机号：{{ UserForm.phone }}</div>\r\n              <div>邮箱：{{ UserForm.email }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 右侧统计卡片区域 -->\r\n      <div class=\"d-flex flex-wrap\" style=\"width: 48%; min-width:350px;\" v-if=\"UserForm.role==='merchant'\">\r\n        <div\r\n            v-for=\"item in topStats\"\r\n            :key=\"item.title\"\r\n            class=\"stat-card me-3 mb-3\"\r\n        >\r\n          <div class=\"stat-amount\">{{ item.amount }}</div>\r\n          <div class=\"stat-desc\">{{ item.title }}</div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"d-flex flex-wrap\" style=\"width: 48%; min-width:350px;\">\r\n        <el-calendar\r\n            :model-value=\"currentDate\"\r\n        >\r\n          <!-- 自定义头部 -->\r\n          <template #header=\"{ date }\">\r\n            <div class=\"calendar-header\">\r\n              <h2>员工考勤表</h2>\r\n              <span>当前月份：{{ date }}</span>\r\n            </div>\r\n          </template>\r\n\r\n          <!-- 自定义日期单元格 -->\r\n          <template #date-cell=\"{ data }\">\r\n            <div v-if=\"!isFutureDate(data.day)\" class=\"date-cell\">\r\n              <!-- 显示日期 -->\r\n              {{ data.day.split('-').slice(1).join('-') }}\r\n\r\n              <!-- 考勤状态 -->\r\n              <div style=\"width: 100%;\" @click=\"handleAttendance(data.day)\">\r\n                <el-tag\r\n                    :type=\"getAttendanceStatus(data.day) === '已签到' ? 'success' : 'info'\"\r\n                >\r\n                  {{ getAttendanceStatus(data.day) }}\r\n                </el-tag>\r\n              </div>\r\n            </div>\r\n          </template>\r\n\r\n        </el-calendar>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 下方数据表格与图表保持不变 -->\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-12 col-lg-6 mb-3\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            商品购买情况\r\n          </div>\r\n          <div class=\"card-body p-0\">\r\n            <table class=\"table mb-0 table-striped\">\r\n              <thead>\r\n              <tr>\r\n                <th>商品</th>\r\n                <th>今日购买</th>\r\n                <th>本月购买</th>\r\n                <th>总购买</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"course in courseData\" :key=\"course.name\">\r\n                <td>{{ course.name }}</td>\r\n                <td>{{ course.today }}</td>\r\n                <td>{{ course.month }}</td>\r\n                <td>{{ course.total }}</td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 折线图示例 -->\r\n      <div class=\"col-12 col-lg-6 mb-3\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            销量趋势\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div ref=\"lineChart\" style=\"width:100%;height:300px;\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 底部两个图表 -->\r\n    <div class=\"row mt-3\">\r\n      <!-- 柱状图 -->\r\n      <div class=\"col-12 col-lg-6 mb-3\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            用户情况\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div ref=\"barChart\" style=\"width:100%;height:300px;\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 饼图 -->\r\n      <div class=\"col-12 col-lg-6 mb-3\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            订单状态占比\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div ref=\"pieChart\" style=\"width:100%;height:300px;\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from 'vue'\r\nimport * as echarts from 'echarts'\r\nimport {useUserShop} from \"@/composables/useShopUser\";\r\nimport axios from 'axios'\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nconst {UserForm, initUserSession, initShopInfo, shopForm} = useUserShop();\r\n\r\n// 顶部小卡片数据\r\nconst topStats = ref([]);\r\nconst loading = ref(false);\r\n\r\nasync function initTopStats() {\r\n  try {\r\n    const response = await axios.post('/api/shop/info/getCardInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    if (response.data != null)\r\n      topStats.value = response.data;\r\n    else\r\n      ElMessage.error(\"统计卡片数据获取失败\")\r\n  } catch (err) {\r\n    ElMessage.error(\"统计卡片数据获取失败\")\r\n  }\r\n}\r\n\r\nconst currentDate = ref(new Date())\r\nconst signedInData = ref([]);\r\n\r\nasync function initAttendanceInfo() {\r\n  try {\r\n    const response = await axios.post('/api/shop/staff/attendance/getShopStaffAttendance', {\r\n      userId: UserForm.value.id\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    if (response.data != null) {\r\n      signedInData.value = response.data;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(\"获取员工考勤信息失败\")\r\n  }\r\n}\r\n\r\nconst isFutureDate = (date) => {\r\n  const givenDate = new Date(date);\r\n  return givenDate > currentDate.value;\r\n};\r\n\r\nconst getAttendanceStatus = (date) => {\r\n  const today = new Date(date).toISOString().split(\"T\")[0];\r\n  const isSignedIn = signedInData.value.some((item) => item.date === today);\r\n  return isSignedIn ? \"已签到\" : \"未签到\";\r\n};\r\n\r\nconst extractDate = (dateString) => {\r\n  const date = new Date(dateString);\r\n  const year = date.getFullYear();\r\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\r\n  const day = String(date.getDate()).padStart(2, \"0\");\r\n  return `${year}-${month}-${day}`;\r\n};\r\n\r\nasync function handleAttendance(date) {\r\n  if (date === extractDate(currentDate.value) && getAttendanceStatus(date) !== \"已签到\") {\r\n    try {\r\n      const response = await axios.post('/api/shop/staff/attendance/signIn', {\r\n        userId: UserForm.value.id,\r\n        date: date,\r\n        shopID: shopForm.value.shopID,\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        withCredentials: true,\r\n      });\r\n      if (response.data.code === 200) {\r\n        ElMessage.success(\"签到成功\")\r\n        await initAttendanceInfo();\r\n      } else if (response.data.code === 400)\r\n        ElMessage.error(\"签到失败\")\r\n      else if (response.data.code === 401)\r\n        ElMessage.error(\"签到时间与服务器时间不符\")\r\n    } catch (error) {\r\n      ElMessage.error(\"签到失败\")\r\n    }\r\n  }\r\n}\r\n\r\nconst courseData = ref([]);\r\n\r\nasync function initCourseData() {\r\n  try {\r\n    const response = await axios.post('/api/shop/info/getProductBuyInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    if (response.data != null)\r\n      courseData.value = response.data;\r\n    else\r\n      ElMessage.error(\"商品购买数据获取失败\")\r\n  } catch (err) {\r\n    ElMessage.error(\"商品购买数据获取失败\")\r\n  }\r\n}\r\n\r\nconst lineChart = ref(null);\r\n\r\nasync function initLineChart() {\r\n  try {\r\n    const response = await axios.post('/api/shop/info/getProductTrendInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    console.log(response.data)\r\n    if (response.data != null) {\r\n      const myLineChart = echarts.init(lineChart.value);\r\n      myLineChart.setOption({\r\n        tooltip: response.data.tooltip,\r\n        legend: response.data.legend,\r\n        xAxis: response.data.xAxis,\r\n        yAxis: response.data.yAxis,\r\n        series: response.data.series\r\n      });\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"销量趋势数据获取失败\")\r\n  }\r\n}\r\n\r\nconst barChart = ref(null)\r\n\r\nasync function initBarChart() {\r\n  try {\r\n    const response = await axios.post('/api/shop/info/getUserInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    if (response.data != null) {\r\n      const myBarChart = echarts.init(barChart.value)\r\n      myBarChart.setOption({\r\n        tooltip: response.data.tooltip,\r\n        legend: response.data.legend,\r\n        xAxis: response.data.xAxis,\r\n        yAxis: response.data.yAxis,\r\n        series: response.data.series\r\n      });\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"用户情况数据获取失败\")\r\n  }\r\n}\r\n\r\nconst pieChart = ref(null)\r\n\r\nasync function initPieChart() {\r\n  try {\r\n    const response = await axios.post('/api/shop/info/getOrderStatusInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    if (response.data != null) {\r\n      const myPieChart = echarts.init(pieChart.value)\r\n      myPieChart.setOption({\r\n        tooltip: response.data.tooltip,\r\n        legend: response.data.legend,\r\n        series: response.data.series\r\n      });\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"订单状态占比数据获取失败\")\r\n  }\r\n}\r\n\r\nasync function initData() {\r\n  if (UserForm.value.role === 'merchant')\r\n    await initTopStats();\r\n  else if (UserForm.value.role === 'staff')\r\n    await initAttendanceInfo();\r\n  await initCourseData();\r\n  await initLineChart();\r\n  await initBarChart();\r\n  await initPieChart();\r\n}\r\n\r\nonMounted(async () => {\r\n  loading.value = true;\r\n  initUserSession();\r\n  await initShopInfo();\r\n  await initData();\r\n  loading.value = false;\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  border-radius: 6px;\r\n}\r\n\r\n.card-header {\r\n  font-weight: 600;\r\n}\r\n\r\n/* 新增：统计卡片样式 */\r\n.stat-card {\r\n  background: #00c1de;\r\n  color: #fff;\r\n  padding: 10px 20px;\r\n  border-radius: 4px;\r\n  width: 150px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n}\r\n\r\n.stat-card .stat-amount {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.stat-card .stat-desc {\r\n  font-size: 14px;\r\n}\r\n\r\n.date-cell {\r\n  position: relative;\r\n  text-align: center;\r\n  font-size: 14px;\r\n}\r\n\r\n.today-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5); /* 半透明黑色遮罩 */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  z-index: 1;\r\n}\r\n\r\n.el-tag {\r\n  margin-top: 5px;\r\n  font-size: 12px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}