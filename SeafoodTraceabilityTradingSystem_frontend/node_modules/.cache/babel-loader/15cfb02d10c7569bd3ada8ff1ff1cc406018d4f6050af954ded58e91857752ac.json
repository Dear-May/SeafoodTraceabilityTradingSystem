{"ast":null,"code":"import { createVNode as _createVNode, resolveComponent as _resolveComponent, withKeys as _withKeys, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createBlock as _createBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex\",\n  style: {\n    \"height\": \"100vh\",\n    \"overflow\": \"hidden\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"flex-grow-1 overflow-auto\",\n  style: {\n    \"background\": \"#f5f7fa\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"p-4\"\n};\nconst _hoisted_4 = {\n  class: \"search-container\"\n};\nconst _hoisted_5 = {\n  class: \"product-header\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"form-title\"\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = {\n  class: \"product-info\"\n};\nconst _hoisted_10 = {\n  class: \"image-preview\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"image-placeholder\"\n};\nconst _hoisted_12 = {\n  class: \"info-fields\"\n};\nconst _hoisted_13 = {\n  class: \"spec-image\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"image-placeholder\"\n};\nconst _hoisted_15 = {\n  class: \"spec-fields\"\n};\nconst _hoisted_16 = {\n  class: \"spec-actions\"\n};\nconst _hoisted_17 = {\n  key: 0\n};\nconst _hoisted_18 = {\n  key: 1\n};\nconst _hoisted_19 = {\n  class: \"product-form-container\"\n};\nconst _hoisted_20 = {\n  class: \"form-title\"\n};\nconst _hoisted_21 = {\n  class: \"product-info\"\n};\nconst _hoisted_22 = {\n  class: \"image-preview\"\n};\nconst _hoisted_23 = {\n  key: 0,\n  class: \"image-placeholder\"\n};\nconst _hoisted_24 = [\"src\"];\nconst _hoisted_25 = {\n  class: \"info-fields\"\n};\nconst _hoisted_26 = {\n  class: \"spec-image\"\n};\nconst _hoisted_27 = {\n  key: 0,\n  class: \"image-placeholder\"\n};\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = {\n  class: \"spec-fields\"\n};\nconst _hoisted_30 = {\n  class: \"add-spec\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  const _component_el_tabs = _resolveComponent(\"el-tabs\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"ShopSliderComponent\"], {\n    ref: \"shopSlider\"\n  }, null, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"StoreHeaderView\"], {\n    ref: \"storeHeader\"\n  }, null, 512 /* NEED_PATCH */), _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_el_tabs, {\n    modelValue: $setup.activeName,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.activeName = $event),\n    class: \"demo-tabs\",\n    onTabClick: $setup.handleTabClick\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_tab_pane, {\n      label: \"已上架商品\",\n      name: \"first\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_input, {\n        class: \"search-input\",\n        modelValue: $setup.searchQuery,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n        placeholder: \"请输入商品名称或商品ID进行搜索\",\n        clearable: \"\",\n        onKeyup: _withKeys($setup.searchProducts, [\"enter\"])\n      }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.searchProducts\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Search\"])]),\n          _: 1 /* STABLE */\n        }), _cache[4] || (_cache[4] = _createTextVNode(\" 搜索 \"))]),\n        _: 1 /* STABLE */\n      })]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredProducts, (product, productIndex) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: productIndex,\n          class: \"product-form-container\"\n        }, [_createElementVNode(\"div\", _hoisted_5, [!product.isEdited ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_6, _toDisplayString(product.name), 1 /* TEXT */)) : (_openBlock(), _createBlock(_component_el_input, {\n          key: 1,\n          modelValue: product.name,\n          \"onUpdate:modelValue\": $event => product.name = $event,\n          type: \"textarea\",\n          placeholder: \"请输入商品名称\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\"])), _createElementVNode(\"div\", null, [!product.isEdited ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [product.status === true ? (_openBlock(), _createBlock(_component_el_button, {\n          key: 0,\n          type: \"danger\",\n          onClick: $event => $setup.removeProduct(product),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"下架 \")]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : (_openBlock(), _createBlock(_component_el_button, {\n          key: 1,\n          type: \"danger\",\n          onClick: $event => $setup.removeProduct(product),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"上架 \")]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $event => $setup.editProduct(product),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createTextVNode(\"修改\")]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $event => $setup.saveProduct(product),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createTextVNode(\"保存\")]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          type: \"danger\",\n          onClick: $event => $setup.cancelEdit(product),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[9] || (_cache[9] = [_createTextVNode(\"取消\")]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]))])]), _createVNode(_component_el_divider), _createCommentVNode(\" 商品信息 \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [product.isEdited ? (_openBlock(), _createBlock(_component_el_upload, {\n          key: 0,\n          class: \"upload-demo\",\n          \"show-file-list\": false,\n          \"on-change\": file => $setup.handleImageChangeMain(file, productIndex),\n          \"before-upload\": $setup.beforeSpecImageUpload,\n          accept: \"image/*\",\n          drag: \"\"\n        }, {\n          default: _withCtx(() => [!product.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n            _: 1 /* STABLE */\n          }), _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"点击上传或拖拽图片\", -1 /* HOISTED */))])) : (_openBlock(), _createBlock(_component_el_image, {\n            key: 1,\n            src: product.imageUrl,\n            alt: \"商品图片预览\",\n            style: {\n              \"width\": \"200px\",\n              \"height\": \"200px\",\n              \"object-fit\": \"cover\",\n              \"border-radius\": \"10px\"\n            }\n          }, null, 8 /* PROPS */, [\"src\"]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"on-change\"])) : (_openBlock(), _createBlock(_component_el_image, {\n          key: 1,\n          style: {\n            \"width\": \"200px\",\n            \"height\": \"200px\",\n            \"object-fit\": \"cover\",\n            \"border-radius\": \"10px\"\n          },\n          src: product.imageUrl,\n          fit: \"cover\"\n        }, null, 8 /* PROPS */, [\"src\"]))]), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_form, {\n          model: product,\n          \"label-width\": \"80px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"生产地\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: product.origin,\n              \"onUpdate:modelValue\": $event => product.origin = $event,\n              placeholder: \"请输入生产地\",\n              disabled: !product.isEdited\n            }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"disabled\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"model\"])])]), _createVNode(_component_el_divider), _createCommentVNode(\" 商品规格 \"), _cache[17] || (_cache[17] = _createElementVNode(\"h3\", {\n          class: \"spec-title\"\n        }, \"商品规格\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(product.specs, (spec, specIndex) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: specIndex,\n            class: \"spec-item\"\n          }, [_createElementVNode(\"div\", _hoisted_13, [spec.isEdited ? (_openBlock(), _createBlock(_component_el_upload, {\n            key: 0,\n            class: \"upload-demo\",\n            \"show-file-list\": false,\n            \"on-change\": file => $setup.handleSpecImageChangeMain(file, productIndex, specIndex),\n            \"before-upload\": $setup.beforeSpecImageUpload,\n            accept: \"image/*\",\n            drag: \"\"\n          }, {\n            default: _withCtx(() => [!spec.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n              _: 1 /* STABLE */\n            }), _cache[11] || (_cache[11] = _createElementVNode(\"p\", null, \"点击上传或拖拽图片\", -1 /* HOISTED */))])) : (_openBlock(), _createBlock(_component_el_image, {\n              key: 1,\n              src: spec.imageUrl,\n              alt: \"规格图片预览\",\n              style: {\n                \"width\": \"100px\",\n                \"height\": \"100px\",\n                \"object-fit\": \"cover\",\n                \"border-radius\": \"10px\"\n              }\n            }, null, 8 /* PROPS */, [\"src\"]))]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"on-change\"])) : (_openBlock(), _createBlock(_component_el_image, {\n            key: 1,\n            style: {\n              \"width\": \"100px\",\n              \"height\": \"100px\",\n              \"object-fit\": \"cover\",\n              \"border-radius\": \"10px\"\n            },\n            src: spec.imageUrl,\n            fit: \"cover\"\n          }, null, 8 /* PROPS */, [\"src\"]))]), _createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_el_form, {\n            \"label-width\": \"80px\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_form_item, {\n              label: \"规格名称\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_input, {\n                modelValue: spec.name,\n                \"onUpdate:modelValue\": $event => spec.name = $event,\n                disabled: !spec.isEdited\n              }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"disabled\"])]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_el_form_item, {\n              label: \"价格\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_input, {\n                modelValue: spec.price,\n                \"onUpdate:modelValue\": $event => spec.price = $event,\n                disabled: !spec.isEdited\n              }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"disabled\"])]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_el_form_item, {\n              label: \"库存\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_input, {\n                modelValue: spec.stock,\n                \"onUpdate:modelValue\": $event => spec.stock = $event,\n                disabled: !spec.isEdited\n              }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"disabled\"])]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]), _createElementVNode(\"div\", _hoisted_16, [!spec.isEdited ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [spec.status === true ? (_openBlock(), _createBlock(_component_el_button, {\n            key: 0,\n            type: \"danger\",\n            size: \"small\",\n            onClick: $event => $setup.removeSpec(product, spec)\n          }, {\n            default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\"下架 \")]))]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : (_openBlock(), _createBlock(_component_el_button, {\n            key: 1,\n            type: \"danger\",\n            size: \"small\",\n            onClick: $event => $setup.removeSpec(product, spec)\n          }, {\n            default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\"上架 \")]))]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])), _createVNode(_component_el_button, {\n            type: \"primary\",\n            size: \"small\",\n            onClick: $event => $setup.editSpec(spec)\n          }, {\n            default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createTextVNode(\"修改\")]))]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createVNode(_component_el_button, {\n            type: \"primary\",\n            size: \"small\",\n            onClick: $event => $setup.saveSpec(product, spec)\n          }, {\n            default: _withCtx(() => [...(_cache[15] || (_cache[15] = [_createTextVNode(\"保存\")]))]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            type: \"danger\",\n            size: \"small\",\n            onClick: $event => $setup.cancelEditSpec(spec)\n          }, {\n            default: _withCtx(() => [...(_cache[16] || (_cache[16] = [_createTextVNode(\"取消\")]))]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]))])]);\n        }), 128 /* KEYED_FRAGMENT */))]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_tab_pane, {\n      label: \"上架商品\",\n      name: \"second\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", null, [_createElementVNode(\"h2\", _hoisted_20, [_cache[19] || (_cache[19] = _createTextVNode(\"填写商品信息 \")), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.submitGood\n      }, {\n        default: _withCtx(() => _cache[18] || (_cache[18] = [_createTextVNode(\" 完成 \")])),\n        _: 1 /* STABLE */\n      })])]), _createVNode(_component_el_divider), _createCommentVNode(\" 商品信息 \"), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createVNode(_component_el_upload, {\n        class: \"upload-demo\",\n        \"show-file-list\": false,\n        \"on-change\": $setup.handleImageChange,\n        accept: \"image/*\",\n        drag: \"\"\n      }, {\n        default: _withCtx(() => [!$setup.productForm.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n          _: 1 /* STABLE */\n        }), _cache[20] || (_cache[20] = _createElementVNode(\"p\", null, \"点击上传或拖拽图片\", -1 /* HOISTED */))])) : (_openBlock(), _createElementBlock(\"img\", {\n          key: 1,\n          src: $setup.productForm.imageUrl,\n          alt: \"商品图片预览\",\n          style: {\n            \"width\": \"200px\",\n            \"height\": \"200px\",\n            \"object-fit\": \"cover\",\n            \"border-radius\": \"10px\",\n            \"cursor\": \"pointer\"\n          }\n        }, null, 8 /* PROPS */, _hoisted_24))]),\n        _: 1 /* STABLE */\n      })]), _createElementVNode(\"div\", _hoisted_25, [_createVNode(_component_el_form, {\n        model: $setup.productForm,\n        \"label-width\": \"80px\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"商品名称\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.productForm.name,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.productForm.name = $event),\n            type: \"textarea\",\n            placeholder: \"请输入商品名称\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"生产地\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.productForm.origin,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.productForm.origin = $event),\n            placeholder: \"请输入生产地\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])])]), _createVNode(_component_el_divider), _createCommentVNode(\" 商品规格 \"), _cache[23] || (_cache[23] = _createElementVNode(\"h3\", {\n        class: \"spec-title\"\n      }, \"商品规格\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.productForm.specs, (spec, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"spec-item\"\n        }, [_createElementVNode(\"div\", _hoisted_26, [_createVNode(_component_el_upload, {\n          class: \"upload-demo\",\n          \"show-file-list\": false,\n          \"on-change\": file => $setup.handleSpecImageChange(file, index),\n          accept: \"image/*\",\n          drag: \"\"\n        }, {\n          default: _withCtx(() => [!spec.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n            _: 1 /* STABLE */\n          }), _cache[21] || (_cache[21] = _createElementVNode(\"p\", null, \"点击上传或拖拽图片\", -1 /* HOISTED */))])) : (_openBlock(), _createElementBlock(\"img\", {\n            key: 1,\n            src: spec.imageUrl,\n            alt: \"规格图片预览\",\n            style: {\n              \"width\": \"100px\",\n              \"height\": \"100px\",\n              \"object-fit\": \"cover\",\n              \"border-radius\": \"10px\"\n            }\n          }, null, 8 /* PROPS */, _hoisted_28))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"on-change\"])]), _createElementVNode(\"div\", _hoisted_29, [_createVNode(_component_el_form, {\n          \"label-width\": \"80px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"规格名称\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: spec.name,\n              \"onUpdate:modelValue\": $event => spec.name = $event,\n              placeholder: \"请输入规格名称\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_el_form_item, {\n            label: \"价格\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: spec.price,\n              \"onUpdate:modelValue\": $event => spec.price = $event,\n              placeholder: \"请输入价格\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_el_form_item, {\n            label: \"库存\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: spec.stock,\n              \"onUpdate:modelValue\": $event => spec.stock = $event,\n              placeholder: \"请输入库存\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)])]);\n      }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_30, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.addSpec,\n        plain: \"\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n          _: 1 /* STABLE */\n        }), _cache[22] || (_cache[22] = _createTextVNode(\" 添加规格 \"))]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])])), [[_directive_loading, $setup.loading]])])]);\n}","map":{"version":3,"names":["class","style","key","_createElementBlock","_hoisted_1","_createVNode","$setup","ref","_createElementVNode","_hoisted_2","_hoisted_3","_component_el_tabs","modelValue","activeName","_cache","$event","onTabClick","handleTabClick","default","_withCtx","_component_el_tab_pane","label","name","_hoisted_4","_component_el_input","searchQuery","placeholder","clearable","onKeyup","_withKeys","searchProducts","_component_el_button","type","onClick","_component_el_icon","_","_createTextVNode","_Fragment","_renderList","filteredProducts","product","productIndex","_hoisted_5","isEdited","_hoisted_6","_toDisplayString","_createBlock","_hoisted_7","status","removeProduct","size","editProduct","_hoisted_8","saveProduct","cancelEdit","_component_el_divider","_createCommentVNode","_hoisted_9","_hoisted_10","_component_el_upload","file","handleImageChangeMain","beforeSpecImageUpload","accept","drag","imageUrl","_hoisted_11","_component_el_image","src","alt","fit","_hoisted_12","_component_el_form","model","_component_el_form_item","origin","disabled","specs","spec","specIndex","_hoisted_13","handleSpecImageChangeMain","_hoisted_14","_hoisted_15","price","stock","_hoisted_16","_hoisted_17","removeSpec","editSpec","_hoisted_18","saveSpec","cancelEditSpec","_hoisted_19","_hoisted_20","submitGood","_hoisted_21","_hoisted_22","handleImageChange","productForm","_hoisted_23","_hoisted_24","_hoisted_25","index","_hoisted_26","handleSpecImageChange","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","addSpec","plain","loading"],"sources":["D:\\Cache\\Java\\shopping\\shoppping_c_frontend\\src\\views\\Store\\StoreGoodView.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex\" style=\"height: 100vh; overflow: hidden;\">\r\n    <ShopSliderComponent ref=\"shopSlider\"></ShopSliderComponent>\r\n    <div class=\"flex-grow-1 overflow-auto\" style=\"background: #f5f7fa;\">\r\n      <StoreHeaderView ref=\"storeHeader\"></StoreHeaderView>\r\n\r\n      <div class=\"p-4\" v-loading=\"loading\">\r\n        <el-tabs v-model=\"activeName\" class=\"demo-tabs\" @tab-click=\"handleTabClick\">\r\n          <el-tab-pane label=\"已上架商品\" name=\"first\">\r\n            <div class=\"search-container \">\r\n              <el-input\r\n                  class=\"search-input\"\r\n                  v-model=\"searchQuery\"\r\n                  placeholder=\"请输入商品名称或商品ID进行搜索\"\r\n                  clearable\r\n                  @keyup.enter=\"searchProducts\"\r\n              />\r\n              <el-button type=\"primary\" @click=\"searchProducts\">\r\n                <el-icon>\r\n                  <Search/>\r\n                </el-icon>\r\n                搜索\r\n              </el-button>\r\n            </div>\r\n            <div v-for=\"(product, productIndex) in filteredProducts\" :key=\"productIndex\" class=\"product-form-container\">\r\n              <div class=\"product-header\">\r\n                <h2 class=\"form-title\" v-if=\"!product.isEdited\">{{ product.name }}</h2>\r\n                <el-input v-model=\"product.name\" type=\"textarea\" placeholder=\"请输入商品名称\" v-else/>\r\n                <div>\r\n                  <div v-if=\"!product.isEdited\">\r\n                    <el-button type=\"danger\" @click=\"removeProduct(product)\" size=\"small\"\r\n                               v-if=\"product.status === true\">下架\r\n                    </el-button>\r\n                    <el-button type=\"danger\" @click=\"removeProduct(product)\" size=\"small\" v-else>上架\r\n                    </el-button>\r\n                    <el-button type=\"primary\" @click=\"editProduct(product)\" size=\"small\">修改</el-button>\r\n                  </div>\r\n                  <div v-else>\r\n                    <el-button type=\"primary\" @click=\"saveProduct(product)\" size=\"small\">保存</el-button>\r\n                    <el-button type=\"danger\" @click=\"cancelEdit(product)\" size=\"small\">取消</el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <el-divider/>\r\n\r\n              <!-- 商品信息 -->\r\n              <div class=\"product-info\">\r\n                <div class=\"image-preview\">\r\n                  <template v-if=\"product.isEdited\">\r\n                    <el-upload\r\n                        class=\"upload-demo\"\r\n                        :show-file-list=\"false\"\r\n                        :on-change=\"(file) =>  handleImageChangeMain(file, productIndex)\"\r\n                        :before-upload=\"beforeSpecImageUpload\"\r\n                        accept=\"image/*\"\r\n                        drag\r\n                    >\r\n                      <div v-if=\"!product.imageUrl\" class=\"image-placeholder\">\r\n                        <el-icon>\r\n                          <plus/>\r\n                        </el-icon>\r\n                        <p>点击上传或拖拽图片</p>\r\n                      </div>\r\n                      <el-image\r\n                          v-else\r\n                          :src=\"product.imageUrl\"\r\n                          alt=\"商品图片预览\"\r\n                          style=\"width: 200px; height: 200px; object-fit: cover; border-radius: 10px;\"\r\n                      />\r\n                    </el-upload>\r\n                  </template>\r\n                  <template v-else>\r\n                    <el-image\r\n                        style=\"width: 200px; height: 200px; object-fit: cover; border-radius: 10px;\"\r\n                        :src=\"product.imageUrl\"\r\n                        fit=\"cover\"\r\n                    />\r\n                  </template>\r\n                </div>\r\n                <div class=\"info-fields\">\r\n                  <el-form :model=\"product\" label-width=\"80px\">\r\n                    <el-form-item label=\"生产地\">\r\n                      <el-input v-model=\"product.origin\" placeholder=\"请输入生产地\"\r\n                                :disabled=\"!product.isEdited\"/>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                </div>\r\n              </div>\r\n\r\n              <el-divider/>\r\n\r\n              <!-- 商品规格 -->\r\n              <h3 class=\"spec-title\">商品规格</h3>\r\n              <div v-for=\"(spec, specIndex) in product.specs\" :key=\"specIndex\" class=\"spec-item\">\r\n                <div class=\"spec-image\">\r\n                  <template v-if=\"spec.isEdited\">\r\n                    <el-upload\r\n                        class=\"upload-demo\"\r\n                        :show-file-list=\"false\"\r\n                        :on-change=\"(file) => handleSpecImageChangeMain(file, productIndex, specIndex)\"\r\n                        :before-upload=\"beforeSpecImageUpload\"\r\n                        accept=\"image/*\"\r\n                        drag\r\n                    >\r\n                      <div v-if=\"!spec.imageUrl\" class=\"image-placeholder\">\r\n                        <el-icon>\r\n                          <plus/>\r\n                        </el-icon>\r\n                        <p>点击上传或拖拽图片</p>\r\n                      </div>\r\n                      <el-image\r\n                          v-else\r\n                          :src=\"spec.imageUrl\"\r\n                          alt=\"规格图片预览\"\r\n                          style=\"width: 100px; height: 100px; object-fit: cover; border-radius: 10px;\"\r\n                      />\r\n                    </el-upload>\r\n                  </template>\r\n                  <template v-else>\r\n                    <el-image\r\n                        style=\"width: 100px; height: 100px; object-fit: cover; border-radius: 10px;\"\r\n                        :src=\"spec.imageUrl\"\r\n                        fit=\"cover\"\r\n                    />\r\n                  </template>\r\n                </div>\r\n                <div class=\"spec-fields\">\r\n                  <el-form label-width=\"80px\">\r\n                    <el-form-item label=\"规格名称\">\r\n                      <el-input v-model=\"spec.name\" :disabled=\"!spec.isEdited\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"价格\">\r\n                      <el-input v-model=\"spec.price\" :disabled=\"!spec.isEdited\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"库存\">\r\n                      <el-input v-model=\"spec.stock\" :disabled=\"!spec.isEdited\"/>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                </div>\r\n                <div class=\"spec-actions\">\r\n                  <div v-if=\"!spec.isEdited\">\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"removeSpec(product,spec)\"\r\n                               v-if=\"spec.status === true\">下架\r\n                    </el-button>\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"removeSpec(product, spec)\" v-else>上架\r\n                    </el-button>\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"editSpec(spec)\">修改</el-button>\r\n                  </div>\r\n                  <div v-else>\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"saveSpec(product, spec)\">保存</el-button>\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"cancelEditSpec(spec)\">取消</el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n\r\n          <el-tab-pane label=\"上架商品\" name=\"second\">\r\n            <div class=\"product-form-container\">\r\n              <div>\r\n                <h2 class=\"form-title\">填写商品信息\r\n                  <el-button type=\"primary\" @click=\"submitGood\">\r\n                    完成\r\n                  </el-button>\r\n                </h2>\r\n              </div>\r\n              <el-divider/>\r\n\r\n              <!-- 商品信息 -->\r\n              <div class=\"product-info\">\r\n                <div class=\"image-preview\">\r\n                  <el-upload\r\n                      class=\"upload-demo\"\r\n                      :show-file-list=\"false\"\r\n                      :on-change=\"handleImageChange\"\r\n                      accept=\"image/*\"\r\n                      drag\r\n                  >\r\n                    <div v-if=\"!productForm.imageUrl\" class=\"image-placeholder\">\r\n                      <el-icon>\r\n                        <plus/>\r\n                      </el-icon>\r\n                      <p>点击上传或拖拽图片</p>\r\n                    </div>\r\n                    <img\r\n                        v-else\r\n                        :src=\"productForm.imageUrl\"\r\n                        alt=\"商品图片预览\"\r\n                        style=\"width: 200px; height: 200px; object-fit: cover; border-radius: 10px; cursor: pointer;\"\r\n                    />\r\n                  </el-upload>\r\n                </div>\r\n                <div class=\"info-fields\">\r\n                  <el-form :model=\"productForm\" label-width=\"80px\">\r\n                    <el-form-item label=\"商品名称\">\r\n                      <el-input v-model=\"productForm.name\" type=\"textarea\" placeholder=\"请输入商品名称\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"生产地\">\r\n                      <el-input v-model=\"productForm.origin\" placeholder=\"请输入生产地\"/>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                </div>\r\n              </div>\r\n\r\n              <el-divider/>\r\n\r\n              <!-- 商品规格 -->\r\n              <h3 class=\"spec-title\">商品规格</h3>\r\n              <div\r\n                  v-for=\"(spec, index) in productForm.specs\"\r\n                  :key=\"index\"\r\n                  class=\"spec-item\"\r\n              >\r\n                <div class=\"spec-image\">\r\n                  <el-upload\r\n                      class=\"upload-demo\"\r\n                      :show-file-list=\"false\"\r\n                      :on-change=\"(file) => handleSpecImageChange(file, index)\"\r\n                      accept=\"image/*\"\r\n                      drag\r\n                  >\r\n                    <div v-if=\"!spec.imageUrl\" class=\"image-placeholder\">\r\n                      <el-icon>\r\n                        <plus/>\r\n                      </el-icon>\r\n                      <p>点击上传或拖拽图片</p>\r\n                    </div>\r\n                    <img\r\n                        v-else\r\n                        :src=\"spec.imageUrl\"\r\n                        alt=\"规格图片预览\"\r\n                        style=\"width: 100px; height: 100px; object-fit: cover; border-radius: 10px;\"\r\n                    />\r\n                  </el-upload>\r\n                </div>\r\n                <div class=\"spec-fields\">\r\n                  <el-form label-width=\"80px\">\r\n                    <el-form-item label=\"规格名称\">\r\n                      <el-input v-model=\"spec.name\" placeholder=\"请输入规格名称\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"价格\">\r\n                      <el-input v-model=\"spec.price\" placeholder=\"请输入价格\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"库存\">\r\n                      <el-input v-model=\"spec.stock\" placeholder=\"请输入库存\"/>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"add-spec\">\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click=\"addSpec\"\r\n                    plain\r\n                    size=\"small\"\r\n                >\r\n                  <el-icon>\r\n                    <plus/>\r\n                  </el-icon>\r\n                  添加规格\r\n                </el-button>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ShopSliderComponent from \"@/components/ShopSliderComponent.vue\";\r\nimport {onMounted, ref} from \"vue\";\r\nimport {useUserShop} from \"@/composables/useShopUser\";\r\nimport {Plus, Search} from \"@element-plus/icons-vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport axios from \"axios\";\r\nimport StoreHeaderView from \"@/components/StoreHeaderView.vue\";\r\n\r\nconst shopSlider = ref(null);\r\nconst storeHeader = ref(null);\r\nconst {shopForm, initUserSession, initShopInfo, UserForm} = useUserShop();\r\nconst activeName = ref(\"first\");\r\n\r\nconst products = ref();\r\nconst loading = ref();\r\n\r\nfunction isMerchant() {\r\n  if (UserForm.value.role !== \"merchant\") {\r\n    ElMessage.error(\"您没有权限访问该页面\");\r\n    setTimeout(() => {\r\n      window.location.href = \"/store/index\";\r\n    }, 1000);\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nasync function initProducts() {\r\n  try {\r\n    const response = await axios.post('/api/shop/getAllGoodInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data != null) {\r\n      products.value = response.data;\r\n      filteredProducts.value = products.value;\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"获取商品信息失败\");\r\n  }\r\n}\r\n\r\nconst filteredProducts = ref([]);\r\n// 搜索框内容\r\nconst searchQuery = ref(\"\");\r\n\r\n// 过滤后的商品列表\r\nfunction searchProducts() {\r\n  if (searchQuery.value === \"\") {\r\n    filteredProducts.value = products.value;\r\n  } else {\r\n    filteredProducts.value = products.value\r\n        .filter(item =>\r\n            item.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n            item.goodID.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n        )\r\n        .map(item => ({\r\n          ...item,\r\n          specs: item.specs.map(spec => ({...spec, imageUrl: spec.imageUrl.replace(\"@\", \"\")}))\r\n        }));\r\n  }\r\n}\r\n\r\n// 下架商品\r\nasync function removeProduct(product) {\r\n  try {\r\n    const response = await axios.post('/api/shop/updateGoodInfo', {\r\n      name: product.name,\r\n      goodID: product.goodID,\r\n      updateStatus: !product.status,\r\n      shopID: shopForm.value.shopID,\r\n      origin: product.origin,\r\n      imageUrl: product.imageUrl,\r\n      type: \"goodStatus\"\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"更改状态成功\");\r\n      await initProducts();\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"更改状态失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"更改状态失败\");\r\n  }\r\n}\r\n\r\n// 修改商品\r\nconst originalProductInfo = ref();\r\n\r\nfunction editProduct(product) {\r\n  originalProductInfo.value = {...product};\r\n  product.isEdited = true;\r\n}\r\n\r\nconst selectedGoodFile = ref(null);\r\n\r\nfunction handleImageChangeMain(file, productIndex) {\r\n  const reader = new FileReader();\r\n  selectedGoodFile.value = file.raw;\r\n  reader.readAsDataURL(file.raw);\r\n  reader.onload = () => {\r\n    products.value[productIndex].imageUrl = reader.result;\r\n  };\r\n}\r\n\r\nasync function uploadProductImage(product) {\r\n  const formData = new FormData();\r\n  formData.append(\"image\", selectedGoodFile.value);\r\n  formData.append(\"goodID\", product.goodID)\r\n  try {\r\n    const response = await axios.post(\"/api/shop/updateGoodImage\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"上传图片成功\");\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"上传图片失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"上传图片失败\");\r\n  }\r\n}\r\n\r\nasync function saveProduct(product) {\r\n  if (product.name === \"\" || product.origin === \"\") {\r\n    ElMessage.error(\"请填写完整商品信息\");\r\n    return;\r\n  }\r\n  const isChanged = product.imageUrl !== originalProductInfo.value.imageUrl;\r\n  try {\r\n    const response = await axios.post('/api/shop/updateGoodInfo', {\r\n      name: product.name,\r\n      goodID: product.goodID,\r\n      shopID: shopForm.value.shopID,\r\n      origin: product.origin,\r\n      imageUrl: product.imageUrl,\r\n      type: \"goodInfo\"\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"修改商品信息成功\");\r\n      if (isChanged)\r\n        await uploadProductImage(product);\r\n      window.location.reload();\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"修改商品信息失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"修改商品信息失败\");\r\n  }\r\n}\r\n\r\nfunction cancelEdit(product) {\r\n  product.isEdited = false;\r\n  // 重置商品信息\r\n  product.name = originalProductInfo.value.name;\r\n  product.origin = originalProductInfo.value.origin;\r\n  product.imageUrl = originalProductInfo.value.imageUrl;\r\n  product.specs = originalProductInfo.value.specs\r\n  originalProductInfo.value = null;\r\n}\r\n\r\n// 下架规格\r\nasync function removeSpec(product, spec) {\r\n  try {\r\n    const response = await axios.post('/api/shop/updateSpecInfo', {\r\n      goodID: product.goodID,\r\n      specID: spec.specID,\r\n      updateStatus: !spec.status,\r\n      specName: spec.name,\r\n      specPrice: spec.price,\r\n      specStock: spec.stock,\r\n      imageUrl: spec.imageUrl,\r\n      type: \"specStatus\"\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"更改规格状态成功\");\r\n      await initProducts();\r\n      spec.isEdited = false;\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"更改规格状态失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"更改规格状态失败\");\r\n  }\r\n}\r\n\r\n// 修改规格\r\nconst originalSpecInfo = ref();\r\n\r\nfunction editSpec(spec) {\r\n  spec.isEdited = true;\r\n  originalSpecInfo.value = {...spec};\r\n}\r\n\r\nfunction beforeSpecImageUpload(file) {\r\n  const isImage = file.type.startsWith(\"image/\");\r\n  if (!isImage) {\r\n    ElMessage.error(\"仅支持图片文件！\");\r\n    return false;\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    ElMessage.error(\"文件大小不能超过 2MB！\");\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nconst selectedFile = ref(null);\r\n\r\nfunction handleSpecImageChangeMain(file, productIndex, specIndex) {\r\n  const reader = new FileReader();\r\n  selectedFile.value = file.raw;\r\n  reader.readAsDataURL(file.raw);\r\n  reader.onload = () => {\r\n    products.value[productIndex].specs[specIndex].imageUrl = reader.result;\r\n  };\r\n}\r\n\r\nasync function uploadSpecImage(spec) {\r\n  const formData = new FormData();\r\n  formData.append(\"image\", selectedFile.value);\r\n  formData.append(\"specID\", spec.specID)\r\n  try {\r\n    const response = await axios.post(\"/api/shop/updateSpecImage\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"上传图片成功\");\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"上传图片失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"上传图片失败\");\r\n  }\r\n}\r\n\r\nasync function saveSpec(product, spec) {\r\n  if (spec.name === \"\" || spec.price === \"\" || spec.stock === \"\") {\r\n    ElMessage.error(\"请填写完整规格信息\");\r\n    return;\r\n  }\r\n  const isChanged = spec.imageUrl !== originalSpecInfo.value.imageUrl;\r\n  try {\r\n    const response = await axios.post('/api/shop/updateSpecInfo', {\r\n      specName: spec.name,\r\n      goodID: product.goodID,\r\n      specID: spec.specID,\r\n      specPrice: spec.price,\r\n      specStock: spec.stock,\r\n      imageUrl: spec.imageUrl,\r\n      type: \"specInfo\"\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"修改规格信息成功\");\r\n      if (isChanged)\r\n        await uploadSpecImage(spec);\r\n      window.location.reload();\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"修改规格信息失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"修改规格信息失败\");\r\n  }\r\n}\r\n\r\nfunction cancelEditSpec(spec) {\r\n  spec.isEdited = false;\r\n  // 重置规格信息\r\n  spec.name = originalSpecInfo.value.name;\r\n  spec.price = originalSpecInfo.value.price;\r\n  spec.stock = originalSpecInfo.value.stock;\r\n  spec.imageUrl = originalSpecInfo.value.imageUrl;\r\n  selectedFile.value = null;\r\n  originalSpecInfo.value = null;\r\n}\r\n\r\nconst productForm = ref({\r\n  shopID: \"\",\r\n  name: \"\",\r\n  origin: \"\",\r\n  imageUrl: \"\", // 商品主图预览URL\r\n  specs: [\r\n    {name: \"\", price: \"\", stock: \"\", imageUrl: \"\"}, // 规格初始项\r\n  ],\r\n});\r\n\r\nconst handleTabClick = () => {\r\n  if (activeName.value === \"second\") {\r\n    productForm.value.name = \"\";\r\n    productForm.value.origin = \"\";\r\n    productForm.value.imageUrl = \"\";\r\n    productForm.value.specs = [\r\n      {name: \"\", price: \"\", stock: \"\", imageUrl: \"\"},\r\n    ];\r\n  }\r\n}\r\n\r\n// 商品主图选择事件\r\nconst handleImageChange = (file) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file.raw);\r\n  reader.onload = () => {\r\n    productForm.value.imageUrl = reader.result;\r\n  };\r\n};\r\n\r\n// 商品规格图片选择事件\r\nconst handleSpecImageChange = (file, index) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file.raw);\r\n  reader.onload = () => {\r\n    productForm.value.specs[index].imageUrl = reader.result;\r\n  };\r\n};\r\n\r\n// 添加规格\r\nconst addSpec = () => {\r\n  productForm.value.specs.push({name: \"\", price: \"\", stock: \"\", imageUrl: \"\"});\r\n};\r\n\r\nasync function submitGood() {\r\n  try {\r\n    const response = await axios.post(\"/api/shop/insertGoodInfo\", {\r\n      shopID: shopForm.value.shopID,\r\n      name: productForm.value.name,\r\n      origin: productForm.value.origin,\r\n      imageUrl: productForm.value.imageUrl,\r\n      specs: productForm.value.specs,\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"商品上架成功\")\r\n      window.location.reload();\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"商品上架失败\")\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"商品上架失败\")\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  loading.value = true;\r\n  initUserSession();\r\n  await initShopInfo();\r\n  shopSlider.value.setActiveIndex(\"2-1\");\r\n  storeHeader.value.setTitle(\"商品管理\");\r\n  if (isMerchant()) {\r\n    productForm.value.shopID = shopForm.value.shopID;\r\n    await initProducts();\r\n    loading.value = false;\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.product-form-container {\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);\r\n  padding: 24px;\r\n  background: #fff;\r\n}\r\n\r\n.search-container {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-right: 20px;\r\n}\r\n\r\n.search-input {\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  border: 2px solid #ccc;\r\n  border-radius: 8px 0 0 8px;\r\n  outline: none;\r\n  width: 200px;\r\n  border-right: none;\r\n}\r\n\r\n.form-title {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  margin-bottom: 16px;\r\n  color: #333;\r\n}\r\n\r\n.product-info {\r\n  display: flex;\r\n  gap: 20px;\r\n  align-items: center;\r\n}\r\n\r\n.image-preview {\r\n  width: 200px;\r\n  height: 200px;\r\n  border: 2px dashed #d9d9d9;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  background: #f5f5f5;\r\n  cursor: pointer;\r\n}\r\n\r\n.image-placeholder {\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 14px;\r\n}\r\n\r\n.spec-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin: 16px 0;\r\n  color: #666;\r\n}\r\n\r\n.spec-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.spec-fields {\r\n  flex: 1;\r\n}\r\n\r\n.add-spec {\r\n  text-align: center;\r\n  margin-top: 16px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}