{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, onBeforeUnmount, onMounted, reactive, ref, watch } from 'vue';\nimport * as THREE from 'three';\nimport WAVES from 'vanta/src/vanta.waves';\nimport banner1 from '@/images/banner1.jpg';\nimport banner2 from '@/images/banner2.jpg';\nimport banner3 from '@/images/banner3.jpg';\nimport { ArrowDown, Plus } from \"@element-plus/icons-vue\";\nimport seafoodCategories from '@/assets/seafoodcategories.json';\nimport router from \"@/router\";\nimport axios from \"axios\";\nimport { useThemeStore } from \"@/store/themeStore\";\nimport { ElMessage } from \"element-plus\";\nimport FooterComponent from \"@/components/FooterComponent.vue\";\nimport RightWidgetComponent from \"@/components/RightWidgetComponent.vue\";\n\n// 检测是否存在cookie，如果存在，则填入session\n\nexport default {\n  __name: 'IndexView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    try {\n      const userBaseInfo = JSON.parse(decodeURIComponent(document.cookie.replace(/(?:^|.*;\\s*)userBaseInfo\\s*=\\s*([^;]*).*$|^.*$/, \"$1\")));\n      if (userBaseInfo) {\n        try {\n          sessionStorage.setItem('userBaseInfo', JSON.stringify(userBaseInfo));\n        } catch (error) {\n          console.log(\"无cookie\");\n        }\n      }\n    } catch (error) {\n      console.log(\"无cookie\");\n    }\n    const UserInfoForm = ref({\n      id: '',\n      name: '',\n      avatar: '',\n      nickname: ''\n    });\n    // 检测是否存在session，如果存在，填写用户信息\n    const userBaseInfoFromSession = JSON.parse(sessionStorage.getItem('userBaseInfo'));\n    if (userBaseInfoFromSession) {\n      UserInfoForm.value.id = userBaseInfoFromSession.id;\n      UserInfoForm.value.name = userBaseInfoFromSession.username;\n      UserInfoForm.value.avatar = userBaseInfoFromSession.avatar;\n      UserInfoForm.value.nickname = userBaseInfoFromSession.nickname;\n    }\n    const themeStore = useThemeStore();\n    const isNightMode = computed(() => themeStore.isNightMode);\n    const searchQuery = ref('');\n    const searchCategory = ref('product');\n    const showImageSearchModal = ref(false);\n    const isScrolled = ref(false);\n    const city = localStorage.getItem('city');\n    const weather = localStorage.getItem('weather');\n    const temperature = localStorage.getItem('temperature');\n    const handleScroll = () => {\n      isScrolled.value = window.scrollY > 200; // 当滚动超过 200px 时，改变搜索栏位置\n\n      // 判断是否到达底部并加载更多商品\n      if (loading_recommend.value) return; // 如果正在加载中，则不触发新的请求\n      const scrollHeight = document.documentElement.scrollHeight;\n      const scrollTop = window.scrollY;\n      const windowHeight = window.innerHeight;\n\n      // 判断是否到达底部\n      if (scrollTop + windowHeight >= scrollHeight - 200) {\n        if (recommendedProducts.value.length < total_recommend.value && activeTabIndex.value === 0) {\n          initRecommendedProducts();\n        }\n        if (shrimpProducts.value.length < total_shrimp.value && activeTabIndex.value === 1) {\n          initProducts(\"虾\");\n        }\n        if (fishProducts.value.length < total_fish.value && activeTabIndex.value === 2) {\n          initProducts(\"鱼\");\n        }\n        if (cowryProducts.value.length < total_cowry.value && activeTabIndex.value === 3) {\n          initProducts(\"贝\");\n        }\n        if (crabProducts.value.length < total_crab.value && activeTabIndex.value === 4) {\n          initProducts(\"螃蟹\");\n        }\n        if (seaCucumberProducts.value.length < total_seaCucumber.value && activeTabIndex.value === 5) {\n          initProducts(\"海参\");\n        }\n      }\n    };\n    watch(isNightMode, newVal => {\n      if (newVal) {\n        document.body.classList.add('night-mode');\n      } else {\n        document.body.classList.remove('night-mode');\n      }\n    });\n    async function fetchWeather() {\n      try {\n        const response = await axios.post('/api/other/weather', {\n          city: localStorage.getItem('city')\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.weather !== null) {\n          console.log(\"无天气\");\n          localStorage.setItem('weather', response.data.weather);\n          localStorage.setItem('temperature', response.data.temperature);\n        } else {\n          localStorage.setItem('weather', \"晴\");\n          localStorage.setItem('temperature', \"25\");\n        }\n      } catch (err) {\n        localStorage.setItem('weather', \"晴\");\n        localStorage.setItem('temperature', \"25\");\n      }\n    }\n    const categories = ref(seafoodCategories.categories);\n    const carouselItems = ref([{\n      image: banner1\n    }, {\n      image: banner2\n    }, {\n      image: banner3\n    }]);\n    const showSubcategory = ref(false);\n    const subcategoryStyle = reactive({\n      top: '0px',\n      left: '0px'\n    });\n    const categoryAsideRef = ref(null);\n    const hoveredCategory = reactive({\n      name: '',\n      subcategories: []\n    });\n    const handleCategoryHover = () => {\n      showSubcategory.value = true;\n      subcategoryStyle.top = '203px';\n      subcategoryStyle.left = '200px';\n    };\n    function showCategorySubcategories(category) {\n      hoveredCategory.name = category.name;\n      hoveredCategory.subcategories = category.subcategories;\n    }\n    const handleCategoryLeave = () => {\n      showSubcategory.value = false;\n    };\n    const activeTabIndex = ref(0);\n    const setActiveTab = index => {\n      activeTabIndex.value = index;\n    };\n    const selectionItems = ref([{\n      name: '为你精选',\n      icon: 'bi bi-heart-fill'\n    }, {\n      name: '鲜美大虾',\n      icon: 'bi bi-laptop'\n    }, {\n      name: '优质海鱼',\n      icon: 'bi bi-house-fill'\n    }, {\n      name: '新鲜海贝',\n      icon: 'bi bi-cart4'\n    }, {\n      name: '鲜活螃蟹',\n      icon: 'bi bi-gem'\n    }, {\n      name: '海洋珍品参',\n      icon: 'bi bi-box-seam'\n    }]);\n    const recommendedProducts = ref([]);\n    const shrimpProducts = ref([]);\n    const fishProducts = ref([]);\n    const cowryProducts = ref([]);\n    const crabProducts = ref([]);\n    const seaCucumberProducts = ref([]);\n    const page_recommend = ref(1);\n    const page_shrimp = ref(1);\n    const page_fish = ref(1);\n    const page_cowry = ref(1);\n    const page_crab = ref(1);\n    const page_seaCucumber = ref(1);\n    const pageSize = ref(60);\n    const total_recommend = ref(0);\n    const total_shrimp = ref(0);\n    const total_fish = ref(0);\n    const total_cowry = ref(0);\n    const total_crab = ref(0);\n    const total_seaCucumber = ref(0);\n    const loading_recommend = ref(false); // 用于控制加载状态\n    const loading_shrimp = ref(false);\n    const loading_fish = ref(false);\n    const loading_cowry = ref(false);\n    const loading_crab = ref(false);\n    const loading_seaCucumber = ref(false);\n    async function getCount() {\n      try {\n        const response = await axios.post('/api/good/getCount', {}, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data !== null) {\n          total_recommend.value = response.data;\n        }\n      } catch (error) {\n        ElMessage.error('获取商品总数失败');\n      }\n    }\n    async function initRecommendedProducts() {\n      if (loading_recommend.value) return; // 防止重复加载\n      loading_recommend.value = true; // 设置加载状态为 true，表示正在加载\n\n      try {\n        const response = await axios.post('/api/good/getGoods', {\n          userId: UserInfoForm.value.id,\n          page: page_recommend.value,\n          pageSize: pageSize.value\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.length > 0) {\n          response.data.forEach(good => {\n            recommendedProducts.value.push({\n              id: good.goodID,\n              name: good.goodName,\n              price: good.price.toString(),\n              image: good.showURL,\n              commentCount: good.comments\n            });\n          });\n          page_recommend.value++;\n        }\n      } catch (error) {\n        ElMessage.error('获取推荐商品失败');\n      } finally {\n        loading_recommend.value = false; // 请求完成后重置加载状态\n      }\n    }\n    async function getCountByCategory(category) {\n      try {\n        const response = await axios.post('/api/good/getCountByName', {\n          goodName: category\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data != null) {\n          if (category === \"虾\") total_shrimp.value = response.data;else if (category === \"鱼\") total_fish.value = response.data;else if (category === \"贝\") total_cowry.value = response.data;else if (category === \"螃蟹\") total_crab.value = response.data;else if (category === \"海参\") total_seaCucumber.value = response.data;\n        }\n      } catch (error) {\n        ElMessage.error('获取商品总数失败');\n      }\n    }\n    async function initProducts(name) {\n      const page_1 = ref(0);\n      if (name === \"虾\") {\n        if (loading_shrimp.value) return; // 防止重复加载\n        page_1.value = page_shrimp.value;\n      } else if (name === \"鱼\") {\n        if (loading_fish.value) return;\n        page_1.value = page_fish.value;\n      } else if (name === \"贝\") {\n        if (loading_cowry.value) return;\n        page_1.value = page_cowry.value;\n      } else if (name === \"螃蟹\") {\n        if (loading_crab.value) return;\n        page_1.value = page_crab.value;\n      } else if (name === \"海参\") {\n        if (loading_seaCucumber.value) return;\n        page_1.value = page_seaCucumber.value;\n      }\n      try {\n        const response = await axios.post('/api/good/getGoodByName', {\n          goodName: name,\n          page: page_1.value,\n          pageSize: pageSize.value\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.length > 0) {\n          if (name === \"虾\") {\n            response.data.forEach(good => {\n              shrimpProducts.value.push({\n                id: good.goodID,\n                name: good.goodName,\n                price: good.price.toString(),\n                image: good.showURL,\n                commentCount: good.comments\n              });\n            });\n            page_shrimp.value++;\n          } else if (name === \"鱼\") {\n            response.data.forEach(good => {\n              fishProducts.value.push({\n                id: good.goodID,\n                name: good.goodName,\n                price: good.price.toString(),\n                image: good.showURL,\n                commentCount: good.comments\n              });\n            });\n            page_fish.value++;\n          } else if (name === \"贝\") {\n            response.data.forEach(good => {\n              cowryProducts.value.push({\n                id: good.goodID,\n                name: good.goodName,\n                price: good.price.toString(),\n                image: good.showURL,\n                commentCount: good.comments\n              });\n            });\n            page_cowry.value++;\n          } else if (name === \"螃蟹\") {\n            response.data.forEach(good => {\n              crabProducts.value.push({\n                id: good.goodID,\n                name: good.goodName,\n                price: good.price.toString(),\n                image: good.showURL,\n                commentCount: good.comments\n              });\n            });\n            page_crab.value++;\n          } else if (name === \"海参\") {\n            response.data.forEach(good => {\n              seaCucumberProducts.value.push({\n                id: good.goodID,\n                name: good.goodName,\n                price: good.price.toString(),\n                image: good.showURL,\n                commentCount: good.comments\n              });\n            });\n            page_seaCucumber.value++;\n          }\n        }\n      } catch (error) {\n        ElMessage.error('获取商品失败');\n      } finally {\n        if (name === \"虾\") {\n          loading_shrimp.value = false; // 请求完成后重置加载状态\n        } else if (name === \"鱼\") {\n          loading_fish.value = false;\n        } else if (name === \"贝\") {\n          loading_cowry.value = false;\n        } else if (name === \"螃蟹\") {\n          loading_crab.value = false;\n        } else if (name === \"海参\") {\n          loading_seaCucumber.value = false;\n        }\n      }\n    }\n    const activeIndex = ref(0);\n    const updateActiveIndex = index => {\n      activeIndex.value = index;\n    };\n    const vantaRef = ref(null);\n    let vantaEffect = null;\n    function searchProduct(searchText) {\n      router.push('/search?searchText=' + searchText);\n    }\n    const setSearchCategory = category => {\n      searchCategory.value = category;\n    };\n    function handleShop() {\n      router.push('/store/login');\n    }\n    function handleOrder() {\n      router.push('/mySpace/myOrder');\n    }\n    function handleFavorite() {\n      router.push('/mySpace/myFavorite');\n    }\n    function handleFootMark() {\n      router.push('/mySpace/footMark');\n    }\n    function handleComment() {\n      router.push('/profile/myComment');\n    }\n    function handleLogin() {\n      router.push('/login');\n    }\n    function handleRegister() {\n      router.push('/register');\n    }\n    function handleMySpace() {\n      router.push('/mySpace');\n    }\n    const handleMyMessage = () => {\n      router.push('/talkToStore');\n    };\n    const handleGoodDetail = id => {\n      router.push('/goodDetail?id=' + id);\n    };\n    function logout() {\n      sessionStorage.removeItem('userBaseInfo');\n      //清除cookie\n      const cookies = document.cookie.split(\"; \");\n      for (let cookie of cookies) {\n        const eqPos = cookie.indexOf(\"=\");\n        const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n        document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/\";\n      }\n      ElMessage.success('退出成功');\n      setTimeout(() => {\n        window.location.reload();\n      }, 1500);\n    }\n    const filedata = ref({\n      file: null,\n      url: null\n    });\n    const beforeUpload = async file => {\n      const isImage = file.type.startsWith('image/');\n      if (!isImage) {\n        ElMessage.error('请选择图片文件！');\n        return;\n      }\n      const isLt2M = file.size / 1024 / 1024 < 2; // 限制文件大小为 2MB\n      if (!isLt2M) {\n        ElMessage.error('图片大小不能超过 2MB！');\n        return;\n      }\n      filedata.value.file = file;\n      filedata.value.url = URL.createObjectURL(file);\n    };\n    async function handleImageSearch() {\n      if (filedata.value.file === null) {\n        ElMessage.error('请先上传图片！');\n        return;\n      }\n      const formData = new FormData();\n      formData.append('image', filedata.value.file);\n      try {\n        const response = await axios.post('/api/good/image-search', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          await router.push('/searchByImage?token=' + response.data.token);\n        } else ElMessage.error(\"图片搜索失败\");\n      } catch (error) {\n        ElMessage.error(\"图片搜索失败\");\n      }\n    }\n    onMounted(async () => {\n      vantaEffect = WAVES({\n        el: vantaRef.value,\n        THREE: THREE,\n        mouseControls: true,\n        touchControls: true,\n        gyroControls: false,\n        minHeight: 200.0,\n        minWidth: 200.0,\n        scale: 1.0,\n        scaleMobile: 1.0,\n        color: 0x5f88,\n        shininess: 76.0,\n        waveHeight: 12.0,\n        waveSpeed: 0.95,\n        zoom: 0.89\n      });\n      window.addEventListener('scroll', handleScroll);\n      await initRecommendedProducts();\n      await initProducts(\"虾\");\n      await initProducts(\"鱼\");\n      await initProducts(\"贝\");\n      await initProducts(\"螃蟹\");\n      await initProducts(\"海参\");\n      await getCount();\n      await getCountByCategory(\"虾\");\n      await getCountByCategory(\"鱼\");\n      await getCountByCategory(\"贝\");\n      await getCountByCategory(\"螃蟹\");\n      await getCountByCategory(\"海参\");\n      await fetchWeather();\n    });\n    onBeforeUnmount(() => {\n      if (vantaEffect) {\n        vantaEffect.destroy();\n      }\n      window.removeEventListener('scroll', handleScroll);\n    });\n    const __returned__ = {\n      UserInfoForm,\n      userBaseInfoFromSession,\n      themeStore,\n      isNightMode,\n      searchQuery,\n      searchCategory,\n      showImageSearchModal,\n      isScrolled,\n      city,\n      weather,\n      temperature,\n      handleScroll,\n      fetchWeather,\n      categories,\n      carouselItems,\n      showSubcategory,\n      subcategoryStyle,\n      categoryAsideRef,\n      hoveredCategory,\n      handleCategoryHover,\n      showCategorySubcategories,\n      handleCategoryLeave,\n      activeTabIndex,\n      setActiveTab,\n      selectionItems,\n      recommendedProducts,\n      shrimpProducts,\n      fishProducts,\n      cowryProducts,\n      crabProducts,\n      seaCucumberProducts,\n      page_recommend,\n      page_shrimp,\n      page_fish,\n      page_cowry,\n      page_crab,\n      page_seaCucumber,\n      pageSize,\n      total_recommend,\n      total_shrimp,\n      total_fish,\n      total_cowry,\n      total_crab,\n      total_seaCucumber,\n      loading_recommend,\n      loading_shrimp,\n      loading_fish,\n      loading_cowry,\n      loading_crab,\n      loading_seaCucumber,\n      getCount,\n      initRecommendedProducts,\n      getCountByCategory,\n      initProducts,\n      activeIndex,\n      updateActiveIndex,\n      vantaRef,\n      get vantaEffect() {\n        return vantaEffect;\n      },\n      set vantaEffect(v) {\n        vantaEffect = v;\n      },\n      searchProduct,\n      setSearchCategory,\n      handleShop,\n      handleOrder,\n      handleFavorite,\n      handleFootMark,\n      handleComment,\n      handleLogin,\n      handleRegister,\n      handleMySpace,\n      handleMyMessage,\n      handleGoodDetail,\n      logout,\n      filedata,\n      beforeUpload,\n      handleImageSearch,\n      computed,\n      onBeforeUnmount,\n      onMounted,\n      reactive,\n      ref,\n      watch,\n      get THREE() {\n        return THREE;\n      },\n      get WAVES() {\n        return WAVES;\n      },\n      get banner1() {\n        return banner1;\n      },\n      get banner2() {\n        return banner2;\n      },\n      get banner3() {\n        return banner3;\n      },\n      get ArrowDown() {\n        return ArrowDown;\n      },\n      get Plus() {\n        return Plus;\n      },\n      get seafoodCategories() {\n        return seafoodCategories;\n      },\n      get router() {\n        return router;\n      },\n      get axios() {\n        return axios;\n      },\n      get useThemeStore() {\n        return useThemeStore;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      FooterComponent,\n      RightWidgetComponent\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","onBeforeUnmount","onMounted","reactive","ref","watch","THREE","WAVES","banner1","banner2","banner3","ArrowDown","Plus","seafoodCategories","router","axios","useThemeStore","ElMessage","FooterComponent","RightWidgetComponent","userBaseInfo","JSON","parse","decodeURIComponent","document","cookie","replace","sessionStorage","setItem","stringify","error","console","log","UserInfoForm","id","name","avatar","nickname","userBaseInfoFromSession","getItem","value","username","themeStore","isNightMode","searchQuery","searchCategory","showImageSearchModal","isScrolled","city","localStorage","weather","temperature","handleScroll","window","scrollY","loading_recommend","scrollHeight","documentElement","scrollTop","windowHeight","innerHeight","recommendedProducts","length","total_recommend","activeTabIndex","initRecommendedProducts","shrimpProducts","total_shrimp","initProducts","fishProducts","total_fish","cowryProducts","total_cowry","crabProducts","total_crab","seaCucumberProducts","total_seaCucumber","newVal","body","classList","add","remove","fetchWeather","response","post","headers","withCredentials","data","err","categories","carouselItems","image","showSubcategory","subcategoryStyle","top","left","categoryAsideRef","hoveredCategory","subcategories","handleCategoryHover","showCategorySubcategories","category","handleCategoryLeave","setActiveTab","index","selectionItems","icon","page_recommend","page_shrimp","page_fish","page_cowry","page_crab","page_seaCucumber","pageSize","loading_shrimp","loading_fish","loading_cowry","loading_crab","loading_seaCucumber","getCount","userId","page","forEach","good","push","goodID","goodName","price","toString","showURL","commentCount","comments","getCountByCategory","page_1","activeIndex","updateActiveIndex","vantaRef","vantaEffect","searchProduct","searchText","setSearchCategory","handleShop","handleOrder","handleFavorite","handleFootMark","handleComment","handleLogin","handleRegister","handleMySpace","handleMyMessage","handleGoodDetail","logout","removeItem","cookies","split","eqPos","indexOf","substr","success","setTimeout","location","reload","filedata","file","url","beforeUpload","isImage","type","startsWith","isLt2M","size","URL","createObjectURL","handleImageSearch","formData","FormData","append","code","token","el","mouseControls","touchControls","gyroControls","minHeight","minWidth","scale","scaleMobile","color","shininess","waveHeight","waveSpeed","zoom","addEventListener","destroy","removeEventListener"],"sources":["D:/Cache/Java/shopping/shoppping_c_frontend/src/views/IndexView.vue"],"sourcesContent":["<template>\r\n  <div class=\"homepage\" :class=\"{ 'night-mode': isNightMode }\">\r\n    <header class=\"p-3 mb-3 border-bottom header\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2 d-flex align-items-center justify-content-start\">\r\n            <a href=\"/\" class=\"d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none\">\r\n              <img src=\"../images/logo.png\" alt=\"Bootstrap\" class=\"bi me-2\" width=\"50\" height=\"50\" role=\"img\"\r\n                   aria-label=\"Bootstrap\">\r\n            </a>\r\n            <nav class=\"nav\">\r\n              <a href=\"#\" class=\"nav-link px-2 link-secondary\">主页</a>\r\n              <a href=\"#\" class=\"nav-link px-2 link-body-emphasis\" @click=\"handleShop\">成为商家</a>\r\n            </nav>\r\n          </div>\r\n\r\n          <div class=\"col-6 d-flex align-items-center justify-content-center\" v-if=\"!isScrolled\">\r\n            <i class=\"bi bi-geo-alt-fill me-2\" style=\"font-size: 20px;\"></i>\r\n            <span>{{ city }}</span>\r\n            <i class=\"bi bi-cloud-sun-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='晴'\"></i>\r\n            <i class=\"bi bi-cloud-fog-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='阴'\"></i>\r\n            <i class=\"bi bi-cloud-rain-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='雨'\"></i>\r\n            <i class=\"bi bi-cloud-haze-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='雾'\"></i>\r\n            <i class=\"bi bi-cloud-sun-rain-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='多云'\"></i>\r\n            <i class=\"bi bi-cloud ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='霾'\"></i>\r\n            <div class=\"d-flex flex-column ms-2\">\r\n              <span>{{ weather }}</span>\r\n              <span>{{ temperature }}°C</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col d-flex align-items-center justify-content-center\" v-if=\"isScrolled\">\r\n            <div class=\"search-bar\">\r\n              <el-dropdown>\r\n                <span class=\"el-dropdown-link search-select\">\r\n                  {{ searchCategory === 'product' ? '商品' : '商家' }}\r\n                  <el-icon class=\"el-icon-right\">\r\n                    <arrow-down/>\r\n                  </el-icon>\r\n                </span>\r\n                <template #dropdown>\r\n                  <el-dropdown-menu>\r\n                    <el-dropdown-item @click=\"setSearchCategory('product')\">商品</el-dropdown-item>\r\n                    <el-dropdown-item @click=\"setSearchCategory('store')\">商家</el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </template>\r\n              </el-dropdown>\r\n              <el-input\r\n                  placeholder=\"商品/店铺/品牌\"\r\n                  v-model=\"searchQuery\"\r\n                  @keyup.enter=\"searchProduct(searchQuery)\"\r\n                  clearable\r\n                  class=\"search-input\"\r\n              />\r\n              <el-button type=\"primary\" icon=\"el-icon-search\" class=\"search-button\" @click=\"searchProduct(searchQuery)\">\r\n                搜索\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-4 d-flex align-items-center justify-content-end\" style=\"margin-left: auto;\">\r\n            <template v-if=\"isScrolled\">\r\n              <div class=\"weather-info d-flex align-items-center\">\r\n                <i class=\"bi bi-geo-alt-fill me-2\" style=\"font-size: 20px;\"></i>\r\n                <span>{{ city }}</span>\r\n                <i class=\"bi bi-cloud-sun-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='晴'\"></i>\r\n                <i class=\"bi bi-cloud-fog-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='阴'\"></i>\r\n                <i class=\"bi bi-cloud-rain-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='雨'\"></i>\r\n                <i class=\"bi bi-cloud-haze-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='雾'\"></i>\r\n                <i class=\"bi bi-cloud-sun-rain-fill ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='多云'\"></i>\r\n                <i class=\"bi bi-cloud ms-4\" style=\"font-size: 20px;\" v-if=\"weather==='霾'\"></i>\r\n                <div class=\"d-flex flex-column ms-2\">\r\n                  <span>{{ weather }}</span>\r\n                  <span>{{ temperature }}°C</span>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <template v-if=\"UserInfoForm.id\">\r\n              <nav class=\"nav\">\r\n                <a href=\"#\" class=\"nav-link px-2 link-body-emphasis\" @click=\"handleOrder\">我的订单</a>\r\n                <a href=\"#\" class=\"nav-link px-2 link-body-emphasis\" @click=\"handleFavorite\">宝贝收藏</a>\r\n                <a href=\"#\" class=\"nav-link px-2 link-body-emphasis\" @click=\"handleFootMark\">购物足迹</a>\r\n                <a href=\"#\" class=\"nav-link px-2 link-body-emphasis\" @click=\"handleComment\">评价管理</a>\r\n              </nav>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <div class=\"dropdown text-end margin-right-10\">\r\n                <a href=\"#\" class=\"d-block link-body-emphasis text-decoration-none dropdown-toggle\"\r\n                   data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  <img :src=\"UserInfoForm.avatar\" alt=\"mdo\" width=\"40\" height=\"40\" class=\"rounded-circle\">\r\n                </a>\r\n                <ul class=\"dropdown-menu text-small\">\r\n                  <li><a class=\"dropdown-item\" @click=\"handleMySpace\">我的海潮</a></li>\r\n                  <el-badge :value=\"0\" class=\"item\">\r\n                    <li><a class=\"dropdown-item\" @click=\"handleMyMessage\">我的消息</a></li>\r\n                  </el-badge>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">设置</a></li>\r\n                  <li>\r\n                    <hr class=\"dropdown-divider\">\r\n                  </li>\r\n                  <li><a class=\"dropdown-item\" @click=\"logout\">登出账号</a></li>\r\n                </ul>\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              <el-button type=\"primary\" class=\"me-2 login-button\" @click=\"handleLogin\">登录</el-button>\r\n              <el-button type=\"primary\" class=\"register-button\" @click=\"handleRegister\">免费注册</el-button>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n\r\n    <div class=\"search-bar-section\" style=\"margin-top: 80px;\">\r\n      <div class=\"container\">\r\n        <div class=\"search-bar\">\r\n          <el-dropdown>\r\n            <span class=\"el-dropdown-link search-select\">\r\n              {{ searchCategory === 'product' ? '商品' : '商家' }}\r\n              <el-icon class=\"el-icon--right\">\r\n                <arrow-down/>\r\n              </el-icon>\r\n            </span>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item @click=\"setSearchCategory('product')\">商品</el-dropdown-item>\r\n                <el-dropdown-item @click=\"setSearchCategory('store')\">商家</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n          <el-input\r\n              placeholder=\"商品/店铺/品牌\"\r\n              v-model=\"searchQuery\"\r\n              @keyup.enter=\"searchProduct(searchQuery)\"\r\n              clearable\r\n              class=\"search-input\"\r\n              style=\"width: 500px;\"\r\n          >\r\n            <template #append>\r\n              <el-button @click=\"showImageSearchModal = true\" style=\"background-color: transparent;\">\r\n                <i class=\"bi bi-camera-fill\" style=\"font-size: 20px\"></i>\r\n              </el-button>\r\n              <el-dialog v-model=\"showImageSearchModal\" title=\"按图片搜索\" width=\"30%\">\r\n                <div class=\"upload-container\">\r\n                  <el-upload\r\n                      class=\"avatar-uploader\"\r\n                      :show-file-list=\"false\"\r\n                      :before-upload=\"beforeUpload\"\r\n                  >\r\n                    <el-image v-if=\"filedata.url\" :src=\"filedata.url\" class=\"avatar\" style=\"border-radius: 5px;\"\r\n                              :preview-src-list=\"[filedata.url]\"/>\r\n                    <el-icon v-else class=\"avatar-uploader-icon\">\r\n                      <Plus/>\r\n                    </el-icon>\r\n                  </el-upload>\r\n                  <el-button type=\"primary\" @click=\"handleImageSearch\">搜索</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </template>\r\n          </el-input>\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" class=\"search-button\" @click=\"searchProduct(searchQuery)\">\r\n            搜索\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <el-container>\r\n      <el-aside ref=\"categoryAsideRef\" width=\"200px\" class=\"category-sidebar\"\r\n                style=\"padding: 20px 0 20px 20px; border-right: 1px solid #eaeaea; box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1); font-size: 16px; height: 100%; transition: width 0.3s ease;\">\r\n        <div @mouseover=\"handleCategoryHover()\" @mouseleave=\"handleCategoryLeave\">\r\n          <el-menu default-active=\"1\">\r\n            <el-menu-item index=\"1\" v-for=\"category in categories\" :key=\"category.id\"\r\n                          @mouseover=\"showCategorySubcategories(category)\"\r\n                          style=\"display: flex; align-items: center; padding: 10px; margin-bottom: 10px; transition: background-color 0.3s ease; border-radius: 8px;\">\r\n              <el-icon :name=\"category.icon\" style=\"margin-right: 10px; color: #e02020; font-size: 20px;\"></el-icon>\r\n              <span style=\" color: #333; font-size: 15px; font-weight: bold;\">{{ category.name }}</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n\r\n          <div v-if=\"showSubcategory\" class=\"subcategory-popup\" :style=\"subcategoryStyle\"\r\n               @mouseover=\"handleCategoryHover()\" @mouseleave=\"handleCategoryLeave\">\r\n            <div class=\"subcategory-details\">\r\n              <h4>{{ hoveredCategory.name }}</h4>\r\n              <div class=\"subcategory-links\">\r\n                <a v-for=\"(subcategory) in hoveredCategory.subcategories\" :key=\"subcategory.id\"\r\n                   @click=\"searchProduct(subcategory.name)\">\r\n                  {{ subcategory.name }}\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-aside>\r\n\r\n      <el-main>\r\n        <div class=\"vanta-carousel\" ref=\"vantaRef\">\r\n          <el-carousel interval=\"3000\" type=\"card\" height=\"400px\" class=\"carousel\" @change=\"updateActiveIndex\">\r\n            <el-carousel-item v-for=\"(item, index) in carouselItems\" :key=\"index\"\r\n                              :style=\"{ opacity: activeIndex === index ? 1 : 0.3 }\">\r\n              <img :src=\"item.image\" alt=\"Carousel Item\" class=\"carousel-image\">\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </div>\r\n        <section class=\"recommendation-section\">\r\n          <div class=\"tab-navigation\">\r\n            <div\r\n                v-for=\"(item, index) in selectionItems\"\r\n                :key=\"index\"\r\n                class=\"tab-navigation-item\"\r\n                @click=\"setActiveTab(index)\"\r\n                :class=\"{ active: activeTabIndex === index }\"\r\n            >\r\n              <i :class=\"item.icon\" class=\"tab-icon\"></i>\r\n              <span class=\"tab-label\">{{ item.name }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"tab-content\">\r\n            <div v-if=\"activeTabIndex === 0\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\" v-for=\"product in recommendedProducts\" :key=\"product.id\">\r\n                  <el-tooltip\r\n                      class=\"box-item\"\r\n                      effect=\"dark\"\r\n                      :content=\"product.name\"\r\n                      placement=\"right\"\r\n                  >\r\n                    <el-card shadow=\"hover\" class=\"product-card\" @click=\"handleGoodDetail(product.id)\">\r\n                      <img :src=\"product.image\" class=\"product-image\" alt=\"Product Image\">\r\n                      <div class=\"product-info\">\r\n                        <p v-if=\"product.name.length < 10\">{{ product.name }}</p>\r\n                        <p v-else>{{ product.name.slice(0, 10) }}...</p>\r\n                        <h4 class=\"product-price\">￥{{ product.price }}</h4>\r\n                        <div class=\"row\">\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-if=\"product.commentCount>=100\">\r\n                            {{ product.commentCount }}+人评价</p>\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-else>{{\r\n                              product.commentCount\r\n                            }}人评价</p>\r\n                        </div>\r\n                      </div>\r\n                    </el-card>\r\n                  </el-tooltip>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <div v-if=\"activeTabIndex === 1\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\" v-for=\"product in shrimpProducts\" :key=\"product.id\">\r\n                  <el-tooltip\r\n                      class=\"box-item\"\r\n                      effect=\"dark\"\r\n                      :content=\"product.name\"\r\n                      placement=\"right\"\r\n                  >\r\n                    <el-card shadow=\"hover\" class=\"product-card\" @click=\"handleGoodDetail(product.id)\">\r\n                      <img :src=\"product.image\" class=\"product-image\" alt=\"Product Image\">\r\n                      <div class=\"product-info\">\r\n                        <p v-if=\"product.name.length < 10\">{{ product.name }}</p>\r\n                        <p v-else>{{ product.name.slice(0, 10) }}...</p>\r\n                        <h4 class=\"product-price\">￥{{ product.price }}</h4>\r\n                        <div class=\"row\">\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-if=\"product.commentCount>=100\">\r\n                            {{ product.commentCount }}+人评价</p>\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-else>{{\r\n                              product.commentCount\r\n                            }}人评价</p>\r\n                        </div>\r\n                      </div>\r\n                    </el-card>\r\n                  </el-tooltip>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <div v-if=\"activeTabIndex === 2\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\" v-for=\"product in fishProducts\" :key=\"product.id\">\r\n                  <el-tooltip\r\n                      class=\"box-item\"\r\n                      effect=\"dark\"\r\n                      :content=\"product.name\"\r\n                      placement=\"right\"\r\n                  >\r\n                    <el-card shadow=\"hover\" class=\"product-card\" @click=\"handleGoodDetail(product.id)\">\r\n                      <img :src=\"product.image\" class=\"product-image\" alt=\"Product Image\">\r\n                      <div class=\"product-info\">\r\n                        <p v-if=\"product.name.length < 10\">{{ product.name }}</p>\r\n                        <p v-else>{{ product.name.slice(0, 10) }}...</p>\r\n                        <h4 class=\"product-price\">￥{{ product.price }}</h4>\r\n                        <div class=\"row\">\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-if=\"product.commentCount>=100\">\r\n                            {{ product.commentCount }}+人评价</p>\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-else>{{\r\n                              product.commentCount\r\n                            }}人评价</p>\r\n                        </div>\r\n                      </div>\r\n                    </el-card>\r\n                  </el-tooltip>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <div v-if=\"activeTabIndex === 3\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\" v-for=\"product in cowryProducts\" :key=\"product.id\">\r\n                  <el-tooltip\r\n                      class=\"box-item\"\r\n                      effect=\"dark\"\r\n                      :content=\"product.name\"\r\n                      placement=\"right\"\r\n                  >\r\n                    <el-card shadow=\"hover\" class=\"product-card\" @click=\"handleGoodDetail(product.id)\">\r\n                      <img :src=\"product.image\" class=\"product-image\" alt=\"Product Image\">\r\n                      <div class=\"product-info\">\r\n                        <p v-if=\"product.name.length < 10\">{{ product.name }}</p>\r\n                        <p v-else>{{ product.name.slice(0, 10) }}...</p>\r\n                        <h4 class=\"product-price\">￥{{ product.price }}</h4>\r\n                        <div class=\"row\">\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-if=\"product.commentCount>=100\">\r\n                            {{ product.commentCount }}+人评价</p>\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-else>{{\r\n                              product.commentCount\r\n                            }}人评价</p>\r\n                        </div>\r\n                      </div>\r\n                    </el-card>\r\n                  </el-tooltip>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <div v-if=\"activeTabIndex === 4\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\" v-for=\"product in crabProducts\" :key=\"product.id\">\r\n                  <el-tooltip\r\n                      class=\"box-item\"\r\n                      effect=\"dark\"\r\n                      :content=\"product.name\"\r\n                      placement=\"right\"\r\n                  >\r\n                    <el-card shadow=\"hover\" class=\"product-card\" @click=\"handleGoodDetail(product.id)\">\r\n                      <img :src=\"product.image\" class=\"product-image\" alt=\"Product Image\">\r\n                      <div class=\"product-info\">\r\n                        <p v-if=\"product.name.length < 10\">{{ product.name }}</p>\r\n                        <p v-else>{{ product.name.slice(0, 10) }}...</p>\r\n                        <h4 class=\"product-price\">￥{{ product.price }}</h4>\r\n                        <div class=\"row\">\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-if=\"product.commentCount>=100\">\r\n                            {{ product.commentCount }}+人评价</p>\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-else>{{\r\n                              product.commentCount\r\n                            }}人评价</p>\r\n                        </div>\r\n                      </div>\r\n                    </el-card>\r\n                  </el-tooltip>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <div v-if=\"activeTabIndex === 5\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\" v-for=\"product in seaCucumberProducts\" :key=\"product.id\">\r\n                  <el-tooltip\r\n                      class=\"box-item\"\r\n                      effect=\"dark\"\r\n                      :content=\"product.name\"\r\n                      placement=\"right\"\r\n                  >\r\n                    <el-card shadow=\"hover\" class=\"product-card\" @click=\"handleGoodDetail(product.id)\">\r\n                      <img :src=\"product.image\" class=\"product-image\" alt=\"Product Image\">\r\n                      <div class=\"product-info\">\r\n                        <p v-if=\"product.name.length < 10\">{{ product.name }}</p>\r\n                        <p v-else>{{ product.name.slice(0, 10) }}...</p>\r\n                        <h4 class=\"product-price\">￥{{ product.price }}</h4>\r\n                        <div class=\"row\">\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-if=\"product.commentCount>=100\">\r\n                            {{ product.commentCount }}+人评价</p>\r\n                          <p class=\"col-6\" style=\"color: #999; font-size: 14px;\" v-else>{{\r\n                              product.commentCount\r\n                            }}人评价</p>\r\n                        </div>\r\n                      </div>\r\n                    </el-card>\r\n                  </el-tooltip>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n\r\n        </section>\r\n      </el-main>\r\n    </el-container>\r\n    <RightWidgetComponent/>\r\n    <FooterComponent/>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {computed, onBeforeUnmount, onMounted, reactive, ref, watch} from 'vue';\r\nimport * as THREE from 'three';\r\nimport WAVES from 'vanta/src/vanta.waves';\r\nimport banner1 from '@/images/banner1.jpg';\r\nimport banner2 from '@/images/banner2.jpg';\r\nimport banner3 from '@/images/banner3.jpg';\r\nimport {ArrowDown, Plus} from \"@element-plus/icons-vue\";\r\nimport seafoodCategories from '@/assets/seafoodcategories.json';\r\nimport router from \"@/router\";\r\nimport axios from \"axios\";\r\nimport {useThemeStore} from \"@/store/themeStore\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport FooterComponent from \"@/components/FooterComponent.vue\";\r\nimport RightWidgetComponent from \"@/components/RightWidgetComponent.vue\";\r\n\r\n// 检测是否存在cookie，如果存在，则填入session\r\ntry {\r\n  const userBaseInfo = JSON.parse(decodeURIComponent(document.cookie.replace(/(?:^|.*;\\s*)userBaseInfo\\s*=\\s*([^;]*).*$|^.*$/, \"$1\")));\r\n  if (userBaseInfo) {\r\n    try {\r\n      sessionStorage.setItem('userBaseInfo', JSON.stringify(userBaseInfo));\r\n    } catch (error) {\r\n      console.log(\"无cookie\")\r\n    }\r\n  }\r\n} catch (error) {\r\n  console.log(\"无cookie\");\r\n}\r\n\r\nconst UserInfoForm = ref({\r\n  id: '',\r\n  name: '',\r\n  avatar: '',\r\n  nickname: '',\r\n})\r\n// 检测是否存在session，如果存在，填写用户信息\r\nconst userBaseInfoFromSession = JSON.parse(sessionStorage.getItem('userBaseInfo'));\r\nif (userBaseInfoFromSession) {\r\n  UserInfoForm.value.id = userBaseInfoFromSession.id;\r\n  UserInfoForm.value.name = userBaseInfoFromSession.username;\r\n  UserInfoForm.value.avatar = userBaseInfoFromSession.avatar;\r\n  UserInfoForm.value.nickname = userBaseInfoFromSession.nickname;\r\n}\r\n\r\nconst themeStore = useThemeStore();\r\nconst isNightMode = computed(() => themeStore.isNightMode);\r\nconst searchQuery = ref('');\r\nconst searchCategory = ref('product');\r\nconst showImageSearchModal = ref(false);\r\nconst isScrolled = ref(false);\r\nconst city = localStorage.getItem('city');\r\nconst weather = localStorage.getItem('weather');\r\nconst temperature = localStorage.getItem('temperature');\r\nconst handleScroll = () => {\r\n  isScrolled.value = window.scrollY > 200; // 当滚动超过 200px 时，改变搜索栏位置\r\n\r\n  // 判断是否到达底部并加载更多商品\r\n  if (loading_recommend.value) return; // 如果正在加载中，则不触发新的请求\r\n  const scrollHeight = document.documentElement.scrollHeight;\r\n  const scrollTop = window.scrollY;\r\n  const windowHeight = window.innerHeight;\r\n\r\n  // 判断是否到达底部\r\n  if (scrollTop + windowHeight >= scrollHeight - 200) {\r\n    if (recommendedProducts.value.length < total_recommend.value && activeTabIndex.value === 0) {\r\n      initRecommendedProducts();\r\n    }\r\n    if (shrimpProducts.value.length < total_shrimp.value && activeTabIndex.value === 1) {\r\n      initProducts(\"虾\");\r\n    }\r\n    if (fishProducts.value.length < total_fish.value && activeTabIndex.value === 2) {\r\n      initProducts(\"鱼\");\r\n    }\r\n    if (cowryProducts.value.length < total_cowry.value && activeTabIndex.value === 3) {\r\n      initProducts(\"贝\");\r\n    }\r\n    if (crabProducts.value.length < total_crab.value && activeTabIndex.value === 4) {\r\n      initProducts(\"螃蟹\");\r\n    }\r\n    if (seaCucumberProducts.value.length < total_seaCucumber.value && activeTabIndex.value === 5) {\r\n      initProducts(\"海参\");\r\n    }\r\n  }\r\n};\r\n\r\nwatch(isNightMode, (newVal) => {\r\n  if (newVal) {\r\n    document.body.classList.add('night-mode');\r\n  } else {\r\n    document.body.classList.remove('night-mode');\r\n  }\r\n});\r\n\r\nasync function fetchWeather() {\r\n  try {\r\n    const response = await axios.post('/api/other/weather', {\r\n      city: localStorage.getItem('city'),\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.weather !== null) {\r\n      console.log(\"无天气\");\r\n      localStorage.setItem('weather', response.data.weather);\r\n      localStorage.setItem('temperature', response.data.temperature);\r\n    } else {\r\n      localStorage.setItem('weather', \"晴\");\r\n      localStorage.setItem('temperature', \"25\");\r\n    }\r\n  } catch (err) {\r\n    localStorage.setItem('weather', \"晴\");\r\n    localStorage.setItem('temperature', \"25\");\r\n  }\r\n}\r\n\r\nconst categories = ref(seafoodCategories.categories);\r\n\r\nconst carouselItems = ref([\r\n  {image: banner1},\r\n  {image: banner2},\r\n  {image: banner3},\r\n]);\r\n\r\nconst showSubcategory = ref(false);\r\nconst subcategoryStyle = reactive({top: '0px', left: '0px'});\r\nconst categoryAsideRef = ref(null);\r\nconst hoveredCategory = reactive({name: '', subcategories: []});\r\nconst handleCategoryHover = () => {\r\n  showSubcategory.value = true;\r\n  subcategoryStyle.top = '203px';\r\n  subcategoryStyle.left = '200px';\r\n};\r\n\r\nfunction showCategorySubcategories(category) {\r\n  hoveredCategory.name = category.name;\r\n  hoveredCategory.subcategories = category.subcategories;\r\n}\r\n\r\nconst handleCategoryLeave = () => {\r\n  showSubcategory.value = false;\r\n};\r\n\r\nconst activeTabIndex = ref(0);\r\n\r\nconst setActiveTab = (index) => {\r\n  activeTabIndex.value = index;\r\n};\r\n\r\nconst selectionItems = ref([\r\n  {name: '为你精选', icon: 'bi bi-heart-fill'},\r\n  {name: '鲜美大虾', icon: 'bi bi-laptop'},\r\n  {name: '优质海鱼', icon: 'bi bi-house-fill'},\r\n  {name: '新鲜海贝', icon: 'bi bi-cart4'},\r\n  {name: '鲜活螃蟹', icon: 'bi bi-gem'},\r\n  {name: '海洋珍品参', icon: 'bi bi-box-seam'},\r\n]);\r\n\r\nconst recommendedProducts = ref([]);\r\nconst shrimpProducts = ref([]);\r\nconst fishProducts = ref([]);\r\nconst cowryProducts = ref([]);\r\nconst crabProducts = ref([]);\r\nconst seaCucumberProducts = ref([]);\r\nconst page_recommend = ref(1);\r\nconst page_shrimp = ref(1);\r\nconst page_fish = ref(1);\r\nconst page_cowry = ref(1);\r\nconst page_crab = ref(1);\r\nconst page_seaCucumber = ref(1);\r\nconst pageSize = ref(60);\r\nconst total_recommend = ref(0);\r\nconst total_shrimp = ref(0);\r\nconst total_fish = ref(0);\r\nconst total_cowry = ref(0);\r\nconst total_crab = ref(0);\r\nconst total_seaCucumber = ref(0);\r\nconst loading_recommend = ref(false); // 用于控制加载状态\r\nconst loading_shrimp = ref(false);\r\nconst loading_fish = ref(false);\r\nconst loading_cowry = ref(false);\r\nconst loading_crab = ref(false);\r\nconst loading_seaCucumber = ref(false);\r\n\r\nasync function getCount() {\r\n  try {\r\n    const response = await axios.post('/api/good/getCount', {}, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data !== null) {\r\n      total_recommend.value = response.data;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取商品总数失败');\r\n  }\r\n}\r\n\r\nasync function initRecommendedProducts() {\r\n  if (loading_recommend.value) return; // 防止重复加载\r\n  loading_recommend.value = true; // 设置加载状态为 true，表示正在加载\r\n\r\n  try {\r\n    const response = await axios.post('/api/good/getGoods', {\r\n      userId: UserInfoForm.value.id,\r\n      page: page_recommend.value,\r\n      pageSize: pageSize.value,\r\n    }, {\r\n      headers: {'Content-Type': 'application/json'},\r\n      withCredentials: true\r\n    });\r\n\r\n    if (response.data.length > 0) {\r\n      response.data.forEach(good => {\r\n        recommendedProducts.value.push({\r\n          id: good.goodID,\r\n          name: good.goodName,\r\n          price: good.price.toString(),\r\n          image: good.showURL,\r\n          commentCount: good.comments\r\n        });\r\n      });\r\n      page_recommend.value++;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取推荐商品失败');\r\n  } finally {\r\n    loading_recommend.value = false; // 请求完成后重置加载状态\r\n  }\r\n}\r\n\r\nasync function getCountByCategory(category) {\r\n  try {\r\n    const response = await axios.post('/api/good/getCountByName', {\r\n      goodName: category,\r\n    }, {\r\n      headers: {'Content-Type': 'application/json'},\r\n      withCredentials: true\r\n    });\r\n    if (response.data != null) {\r\n      if (category === \"虾\")\r\n        total_shrimp.value = response.data;\r\n      else if (category === \"鱼\")\r\n        total_fish.value = response.data;\r\n      else if (category === \"贝\")\r\n        total_cowry.value = response.data;\r\n      else if (category === \"螃蟹\")\r\n        total_crab.value = response.data;\r\n      else if (category === \"海参\")\r\n        total_seaCucumber.value = response.data;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取商品总数失败');\r\n  }\r\n}\r\n\r\nasync function initProducts(name) {\r\n  const page_1 = ref(0);\r\n  if (name === \"虾\") {\r\n    if (loading_shrimp.value) return; // 防止重复加载\r\n    page_1.value = page_shrimp.value;\r\n  } else if (name === \"鱼\") {\r\n    if (loading_fish.value) return;\r\n    page_1.value = page_fish.value;\r\n  } else if (name === \"贝\") {\r\n    if (loading_cowry.value) return;\r\n    page_1.value = page_cowry.value;\r\n  } else if (name === \"螃蟹\") {\r\n    if (loading_crab.value) return;\r\n    page_1.value = page_crab.value;\r\n  } else if (name === \"海参\") {\r\n    if (loading_seaCucumber.value) return;\r\n    page_1.value = page_seaCucumber.value;\r\n  }\r\n  try {\r\n    const response = await axios.post('/api/good/getGoodByName', {\r\n      goodName: name,\r\n      page: page_1.value,\r\n      pageSize: pageSize.value,\r\n    }, {\r\n      headers: {'Content-Type': 'application/json'},\r\n      withCredentials: true\r\n    });\r\n    if (response.data.length > 0) {\r\n      if (name === \"虾\") {\r\n        response.data.forEach(good => {\r\n          shrimpProducts.value.push({\r\n            id: good.goodID,\r\n            name: good.goodName,\r\n            price: good.price.toString(),\r\n            image: good.showURL,\r\n            commentCount: good.comments\r\n          })\r\n        })\r\n        page_shrimp.value++;\r\n      } else if (name === \"鱼\") {\r\n        response.data.forEach(good => {\r\n          fishProducts.value.push({\r\n            id: good.goodID,\r\n            name: good.goodName,\r\n            price: good.price.toString(),\r\n            image: good.showURL,\r\n            commentCount: good.comments\r\n          })\r\n        })\r\n        page_fish.value++;\r\n      } else if (name === \"贝\") {\r\n        response.data.forEach(good => {\r\n          cowryProducts.value.push({\r\n            id: good.goodID,\r\n            name: good.goodName,\r\n            price: good.price.toString(),\r\n            image: good.showURL,\r\n            commentCount: good.comments\r\n          })\r\n        })\r\n        page_cowry.value++;\r\n      } else if (name === \"螃蟹\") {\r\n        response.data.forEach(good => {\r\n          crabProducts.value.push({\r\n            id: good.goodID,\r\n            name: good.goodName,\r\n            price: good.price.toString(),\r\n            image: good.showURL,\r\n            commentCount: good.comments\r\n          })\r\n        })\r\n        page_crab.value++;\r\n      } else if (name === \"海参\") {\r\n        response.data.forEach(good => {\r\n          seaCucumberProducts.value.push({\r\n            id: good.goodID,\r\n            name: good.goodName,\r\n            price: good.price.toString(),\r\n            image: good.showURL,\r\n            commentCount: good.comments\r\n          })\r\n        })\r\n        page_seaCucumber.value++;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取商品失败');\r\n  } finally {\r\n    if (name === \"虾\") {\r\n      loading_shrimp.value = false; // 请求完成后重置加载状态\r\n    } else if (name === \"鱼\") {\r\n      loading_fish.value = false;\r\n    } else if (name === \"贝\") {\r\n      loading_cowry.value = false;\r\n    } else if (name === \"螃蟹\") {\r\n      loading_crab.value = false;\r\n    } else if (name === \"海参\") {\r\n      loading_seaCucumber.value = false;\r\n    }\r\n  }\r\n}\r\n\r\nconst activeIndex = ref(0);\r\n\r\nconst updateActiveIndex = (index) => {\r\n  activeIndex.value = index;\r\n};\r\n\r\nconst vantaRef = ref(null);\r\nlet vantaEffect = null;\r\n\r\nfunction searchProduct(searchText) {\r\n  router.push('/search?searchText=' + searchText);\r\n}\r\n\r\nconst setSearchCategory = (category) => {\r\n  searchCategory.value = category;\r\n};\r\n\r\nfunction handleShop() {\r\n  router.push('/store/login');\r\n}\r\n\r\nfunction handleOrder() {\r\n  router.push('/mySpace/myOrder');\r\n}\r\n\r\nfunction handleFavorite() {\r\n  router.push('/mySpace/myFavorite')\r\n}\r\n\r\nfunction handleFootMark() {\r\n  router.push('/mySpace/footMark');\r\n}\r\n\r\nfunction handleComment() {\r\n  router.push('/profile/myComment');\r\n}\r\n\r\nfunction handleLogin() {\r\n  router.push('/login');\r\n}\r\n\r\nfunction handleRegister() {\r\n  router.push('/register');\r\n}\r\n\r\nfunction handleMySpace() {\r\n  router.push('/mySpace');\r\n}\r\n\r\nconst handleMyMessage = () => {\r\n  router.push('/talkToStore');\r\n}\r\n\r\nconst handleGoodDetail = (id) => {\r\n  router.push('/goodDetail?id=' + id);\r\n}\r\n\r\nfunction logout() {\r\n  sessionStorage.removeItem('userBaseInfo');\r\n  //清除cookie\r\n  const cookies = document.cookie.split(\"; \");\r\n  for (let cookie of cookies) {\r\n    const eqPos = cookie.indexOf(\"=\");\r\n    const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n    document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/\";\r\n  }\r\n  ElMessage.success('退出成功');\r\n  setTimeout(() => {\r\n    window.location.reload();\r\n  }, 1500);\r\n}\r\n\r\nconst filedata = ref({\r\n  file: null,\r\n  url: null,\r\n})\r\nconst beforeUpload = async (file) => {\r\n  const isImage = file.type.startsWith('image/');\r\n  if (!isImage) {\r\n    ElMessage.error('请选择图片文件！');\r\n    return;\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;  // 限制文件大小为 2MB\r\n  if (!isLt2M) {\r\n    ElMessage.error('图片大小不能超过 2MB！');\r\n    return;\r\n  }\r\n  filedata.value.file = file;\r\n  filedata.value.url = URL.createObjectURL(file);\r\n};\r\n\r\nasync function handleImageSearch() {\r\n  if (filedata.value.file === null) {\r\n    ElMessage.error('请先上传图片！');\r\n    return;\r\n  }\r\n  const formData = new FormData();\r\n  formData.append('image', filedata.value.file);\r\n  try {\r\n    const response = await axios.post('/api/good/image-search', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      await router.push('/searchByImage?token=' + response.data.token)\r\n    } else\r\n      ElMessage.error(\"图片搜索失败\");\r\n  } catch (error) {\r\n    ElMessage.error(\"图片搜索失败\");\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  vantaEffect = WAVES({\r\n    el: vantaRef.value,\r\n    THREE: THREE,\r\n    mouseControls: true,\r\n    touchControls: true,\r\n    gyroControls: false,\r\n    minHeight: 200.0,\r\n    minWidth: 200.0,\r\n    scale: 1.0,\r\n    scaleMobile: 1.0,\r\n    color: 0x5f88,\r\n    shininess: 76.0,\r\n    waveHeight: 12.0,\r\n    waveSpeed: 0.95,\r\n    zoom: 0.89,\r\n  });\r\n  window.addEventListener('scroll', handleScroll);\r\n  await initRecommendedProducts();\r\n  await initProducts(\"虾\");\r\n  await initProducts(\"鱼\");\r\n  await initProducts(\"贝\");\r\n  await initProducts(\"螃蟹\");\r\n  await initProducts(\"海参\");\r\n  await getCount();\r\n  await getCountByCategory(\"虾\");\r\n  await getCountByCategory(\"鱼\");\r\n  await getCountByCategory(\"贝\");\r\n  await getCountByCategory(\"螃蟹\");\r\n  await getCountByCategory(\"海参\");\r\n  await fetchWeather();\r\n});\r\n\r\n\r\nonBeforeUnmount(() => {\r\n  if (vantaEffect) {\r\n    vantaEffect.destroy();\r\n  }\r\n  window.removeEventListener('scroll', handleScroll);\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.homepage {\r\n  font-family: Arial, sans-serif;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.header {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 1001;\r\n  background-color: #ffffff; // 设置背景色确保内容可见\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); // 添加阴影使其更明显\r\n  transition: all 0.3s ease; // 添加过渡效果\r\n}\r\n\r\n.weather-info {\r\n  margin-right: 20px; // 给天气信息留些间距\r\n}\r\n\r\n.p-3 {\r\n  padding: 1rem;\r\n}\r\n\r\n.mb-3 {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.border-bottom {\r\n  border-bottom: 1px solid #eaeaea;\r\n}\r\n\r\n.login-button {\r\n  background-color: #007bff; // 按钮背景颜色\r\n  border-radius: 20px; // 边框圆角\r\n  padding: 10px 20px; // 内边距\r\n  font-weight: bold; // 字体加粗\r\n  font-size: 16px;\r\n  color: #ffffff; // 字体颜色\r\n  transition: background-color 0.3s ease; // 背景颜色渐变效果\r\n}\r\n\r\n.login-button:hover {\r\n  background-color: #0056b3; // 悬停时的背景颜色\r\n}\r\n\r\n.register-button {\r\n  background-color: #96CDCD; // 按钮背景颜色\r\n  border: 2px solid #96CDCD;\r\n  border-radius: 20px; // 边框圆角\r\n  padding: 10px 20px; // 内边距\r\n  font-weight: bold; // 字体加粗\r\n  font-size: 16px;\r\n  color: #ffffff; // 字体颜色\r\n  transition: background-color 0.3s ease; // 背景颜色渐变效果\r\n}\r\n\r\n.register-button:hover {\r\n  border-color: #668B8B;\r\n  background-color: #668B8B; // 悬停时的背景颜色\r\n}\r\n\r\n.container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.search-bar-section {\r\n  padding: 30px 0;\r\n  background-color: #ffffff;\r\n  text-align: center;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.search-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  max-width: 800px;\r\n  width: 100%;\r\n  border: 2px solid #e02020;\r\n  border-radius: 50px;\r\n  overflow: hidden;\r\n}\r\n\r\n.search-select {\r\n  cursor: pointer;\r\n  padding: 0 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  border-right: 1px solid #e02020;\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  border: none;\r\n  outline: none;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  box-shadow: none;\r\n  background-color: transparent;\r\n  width: 100vw;\r\n}\r\n\r\n.search-button {\r\n  height: 50px;\r\n  background-color: #e02020;\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 0;\r\n  padding: 0 30px;\r\n  font-size: 16px;\r\n}\r\n\r\n.camera-icon {\r\n  background-color: transparent;\r\n  color: #e02020;\r\n  border: none;\r\n}\r\n\r\n.vanta-carousel {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n\r\n.carousel {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.carousel-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.subcategory-popup {\r\n  position: absolute;\r\n  z-index: 1000;\r\n  width: 35%;\r\n  height: 60.3%;\r\n  padding: 10px;\r\n  background: #fff;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  transition: opacity 0.3s ease;\r\n  opacity: 0.9;\r\n}\r\n\r\n.subcategory-details {\r\n  font-size: 14px;\r\n  color: #555;\r\n}\r\n\r\n.subcategory-links {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n  max-width: 800px; // 限制最大宽度，每行最多放置 10 个子类别链接\r\n}\r\n\r\n.subcategory-links a {\r\n  font-size: 16px;\r\n  color: #808080;\r\n  text-decoration: none;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.subcategory-links a:hover {\r\n  color: #e02020 !important;\r\n}\r\n\r\n.recommended-section {\r\n  margin-top: 20px;\r\n  background-color: #ffffff;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.tab-navigation {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 20px 0;\r\n  border-bottom: 1px solid #eaeaea;\r\n}\r\n\r\n.tab-navigation-item {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 10px 20px;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.tab-navigation-item .tab-icon {\r\n  font-size: 30px;\r\n  color: #e02020;\r\n  margin-right: 10px;\r\n}\r\n\r\n.tab-navigation-item .tab-label {\r\n  color: #333;\r\n  font-weight: normal;\r\n}\r\n\r\n.tab-navigation-item.active .tab-label {\r\n  color: #e02020;\r\n  font-weight: bold;\r\n}\r\n\r\n.tab-navigation-item:hover .tab-label {\r\n  color: #e02020;\r\n}\r\n\r\n.tab-content {\r\n  margin-top: 20px;\r\n}\r\n\r\n.recommendation-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.product-card {\r\n  cursor: pointer;\r\n  margin-bottom: 30px;\r\n  border-radius: 10px;\r\n  height: 350px;\r\n}\r\n\r\n.product-card:hover {\r\n  border-color: #e02020;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.product-info {\r\n  margin-top: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.product-price {\r\n  color: #e02020;\r\n  font-weight: bold;\r\n}\r\n\r\n.right-widget {\r\n  position: fixed;\r\n  right: 0;\r\n  top: 30%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: #ffffff;\r\n  padding: 10px;\r\n  border-radius: 10px 0 0 10px;\r\n  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n}\r\n\r\n.right-widget .el-button {\r\n  margin-bottom: 15px;\r\n  color: #333;\r\n}\r\n\r\n.right-widget .el-button:hover {\r\n  color: #e02020;\r\n}\r\n\r\n.night-mode {\r\n  background-color: #121212;\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .header {\r\n  background-color: #1f1f1f;\r\n  border-color: #333;\r\n}\r\n\r\n.night-mode .search-bar-section {\r\n  background-color: #1f1f1f;\r\n  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.night-mode .el-menu {\r\n  background-color: #1f1f1f;\r\n  border-color: #333;\r\n  color: #d3d3d3;\r\n}\r\n\r\n.night-mode .category-sidebar {\r\n  background-color: #1f1f1f;\r\n  border-right: 1px solid #333;\r\n}\r\n\r\n.night-mode .subcategory-popup {\r\n  background-color: #1f1f1f;\r\n  color: #d3d3d3;\r\n}\r\n\r\n.night-mode .vanta-carousel {\r\n  filter: brightness(0.8);\r\n}\r\n\r\n.night-mode .recommendation-section {\r\n  background-color: #1f1f1f;\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .el-card {\r\n  background-color: #1f1f1f;\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .right-widget {\r\n  background-color: #1f1f1f;\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .right-widget.i {\r\n  background-color: #1f1f1f;\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .footer {\r\n  background-color: #1f1f1f;\r\n  border-top: 1px solid #333;\r\n}\r\n\r\n.night-mode .footer-links a {\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .footer-links a:hover {\r\n  color: #e02020;\r\n}\r\n\r\n.el-tooltip__trigger:focus-visible {\r\n  outline: unset;\r\n}\r\n\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed var(--el-border-color);\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: var(--el-transition-duration-fast);\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: var(--el-color-primary);\r\n}\r\n\r\n.el-icon.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}