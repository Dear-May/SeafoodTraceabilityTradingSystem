{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useCssVars as _useCssVars, unref as _unref } from 'vue';\nimport { computed, ref, watch } from 'vue';\nimport router from \"@/router\";\nimport axios from \"axios\";\nimport Vcode from \"vue3-puzzle-vcode\";\nimport { ElMessage } from \"element-plus\";\nimport { useThemeStore } from '@/store/themeStore';\nimport { Message, Phone } from '@element-plus/icons-vue';\nimport FooterLoginComponent from \"@/components/FooterLoginComponent.vue\";\nexport default {\n  __name: 'ForgetPasswordView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    _useCssVars(_ctx => ({\n      \"12e64fa7-usernameCheckMessageColor\": usernameCheckMessageColor.value\n    }));\n    const currentStep = ref(1);\n    const phoneNumber = ref('');\n    const email = ref('');\n    const isEditingPhone = ref(false);\n    const isEditingEmail = ref(false);\n    const isPhoneVerified = ref(false);\n    const password = ref('');\n    const confirmPassword = ref('');\n    const passwordStrength = ref('弱');\n    const themeStore = useThemeStore();\n    const isNightMode = computed(() => themeStore.isNightMode);\n    const usernameCheckMessageColor = ref('');\n    const registerForm = ref({\n      username: '',\n      phone: '',\n      email: '',\n      password: ''\n    });\n    watch(isNightMode, newVal => {\n      if (newVal) {\n        console.log(themeStore.isNightMode);\n        document.body.classList.add('night-mode');\n      } else {\n        console.log(themeStore.isNightMode);\n        document.body.classList.remove('night-mode');\n      }\n    });\n    const canCompleteRegistration = computed(() => {\n      return password.value === confirmPassword.value && passwordStrength.value !== '弱';\n    });\n    const passwordStrengthClass = computed(() => {\n      switch (passwordStrength.value) {\n        case '高':\n          return 'high-strength';\n        case '中':\n          return 'medium-strength';\n        case '弱':\n        default:\n          return 'low-strength';\n      }\n    });\n    const selectedMethod = ref('');\n    function selectMethod(method) {\n      selectedMethod.value = method;\n      nextStep();\n    }\n\n    // 手机验证码部分\n    const waitToSms = ref(120);\n    const isButtonDisabledToSms = ref(false);\n    const buttonTextToSms = ref('获取验证码');\n    const isShowToSms = ref(false);\n    const smsForm = ref({\n      phone: '',\n      code: ''\n    });\n    const smsFormRef = ref(null);\n    watch(waitToSms, newValueToSms => {\n      if (newValueToSms === 0) {\n        isButtonDisabledToSms.value = false;\n        buttonTextToSms.value = '获取验证码';\n        waitToSms.value = 60; // 重置计时器\n      } else {\n        buttonTextToSms.value = `${newValueToSms}秒后可以重新发送`;\n      }\n    });\n    async function SelectPhone(phone) {\n      try {\n        const response = await axios.post('/api/user/register/selectPhone', {\n          phone: phone\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        return response.data.code === 400;\n      } catch (error) {\n        ElMessage.error('服务器错误，请稍后再试！');\n        return false;\n      }\n    }\n    async function CheckPhoneNumberToSms() {\n      if (smsForm.value.phone.length === 0) {\n        ElMessage.error('请输入手机号码！');\n        return;\n      } else if (!/^1[3-9]\\d{9}$/.test(smsForm.value.phone)) {\n        ElMessage.error('请输入正确的手机号码！');\n        return;\n      }\n      if ((await SelectPhone(smsForm.value.phone)) === true) {\n        onShowToSms();\n      } else {\n        ElMessage.error('手机号已被占用，请重新输入！');\n      }\n    }\n\n    // 人机验证部分\n    const onShowToSms = () => {\n      isShowToSms.value = true;\n    };\n    const onCloseToSms = () => {\n      isShowToSms.value = false;\n    };\n    const onSuccessToSms = () => {\n      onCloseToSms(); // 验证成功，需要手动关闭模态框\n      getMsgNumToSms(); // 获取验证码\n    };\n\n    // 获取验证码\n    async function getMsgNumToSms() {\n      setButtonStatusToSms(); // 设置按钮状态\n      try {\n        const response = await axios.post('/api/sms/smsXxs', {\n          phoneNumber: smsForm.value.phone\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.isOk === \"OK\") {\n          ElMessage.success('验证码已发送到您的手机，请注意查收！');\n        } else {\n          ElMessage.error('验证码发送失败，请稍后再试！');\n        }\n      } catch (error) {\n        console.error(\"发送验证码错误:\", error);\n      }\n    }\n\n    // 设置按钮状态\n    function setButtonStatusToSms() {\n      isButtonDisabledToSms.value = true;\n      waitToSms.value = waitToSms.value > 0 ? waitToSms.value : 120; // 确保初始值有效\n      countdownToSms();\n    }\n\n    // 计时功能\n    function countdownToSms() {\n      if (waitToSms.value > 0) {\n        setTimeout(() => {\n          waitToSms.value -= 1;\n          countdownToSms();\n        }, 1000);\n      }\n    }\n    async function validateNumToSms() {\n      if (smsForm.value.phone.length === 0 || smsForm.value.phone.length === 0) {\n        ElMessage.error('请输入手机号码和验证码！');\n        return;\n      }\n      const data = {\n        verifyCode: smsForm.value.code,\n        phone: smsForm.value.phone\n      };\n      try {\n        await smsFormRef.value.validate();\n        const response = await axios.post('/api/sms/validateNum', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        console.log(response.data);\n        if (response.data.result === 404) {\n          ElMessage.error('过期验证码已失效!');\n        } else if (response.data.result === 500) {\n          ElMessage.error('验证码错误，请重新输入！');\n        } else {\n          ElMessage.success('验证成功！');\n          isPhoneVerified.value = true;\n          phoneNumber.value = smsForm.value.phone;\n          isEditingPhone.value = true;\n        }\n      } catch (error) {\n        console.error(\"验证错误:\", error);\n      }\n    }\n\n    // 邮箱验证部分\n    const waitToEmail = ref(120);\n    const isButtonDisabledToEmail = ref(false);\n    const buttonTextToEmail = ref('获取验证码');\n    const isShowToEmail = ref(false);\n    const emailForm = ref({\n      email: '',\n      code: ''\n    });\n    const emailFormRef = ref(null);\n    watch(waitToEmail, newValueToEmail => {\n      if (newValueToEmail === 0) {\n        isButtonDisabledToEmail.value = false;\n        buttonTextToEmail.value = '获取验证码';\n        waitToEmail.value = 30; // 重置计时器\n      } else {\n        buttonTextToEmail.value = `${newValueToEmail}秒后可以重新发送`;\n      }\n    });\n    async function SelectEmail(email) {\n      try {\n        const response = await axios.post('/api/user/register/selectEmail', {\n          email: email\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        return response.data.code === 400;\n      } catch (error) {\n        ElMessage.error('服务器错误，请稍后再试！');\n        return false;\n      }\n    }\n    async function CheckPhoneNumberToEmail() {\n      console.log(emailForm.value.email);\n      if (emailForm.value.email.length === 0) {\n        ElMessage.error('请输入邮箱！');\n        return;\n      } else if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(emailForm.value.email)) {\n        ElMessage.error('请输入正确的邮箱地址！');\n        return;\n      }\n      if ((await SelectEmail(emailForm.value.email)) === true) {\n        onShowToEmail();\n      } else {\n        ElMessage.error('邮箱已被占用，请重新输入！');\n      }\n    }\n\n    // 人机验证部分\n    const onShowToEmail = () => {\n      isShowToEmail.value = true;\n    };\n    const onCloseToEmail = () => {\n      isShowToEmail.value = false;\n    };\n    const onSuccessToEmail = () => {\n      onCloseToEmail(); // 验证成功，需要手动关闭模态框\n      getMsgNumToEmail(); // 获取验证码\n    };\n\n    // 获取验证码\n    async function getMsgNumToEmail() {\n      setButtonStatusToEmail(); // 设置按钮状态\n      try {\n        const response = await axios.post('/api/email/send', {\n          email: emailForm.value.email\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          ElMessage.success('验证码已发送到您的邮箱，请注意查收！');\n        } else {\n          ElMessage.error('验证码发送失败，请稍后再试！');\n        }\n      } catch (error) {\n        console.error(\"发送验证码错误:\", error);\n      }\n    }\n\n    // 设置按钮状态\n    function setButtonStatusToEmail() {\n      isButtonDisabledToEmail.value = true;\n      waitToEmail.value = waitToEmail.value > 0 ? waitToEmail.value : 30; // 确保初始值有效\n      countdownToEmail();\n    }\n\n    // 计时功能\n    function countdownToEmail() {\n      if (waitToEmail.value > 0) {\n        setTimeout(() => {\n          waitToEmail.value -= 1;\n          countdownToEmail();\n        }, 1000);\n      }\n    }\n    async function validateNumToEmail() {\n      if (emailForm.value.email.length === 0 || emailForm.value.code.length === 0) {\n        ElMessage.error('请输入邮箱和验证码！');\n        return;\n      }\n      const data = {\n        verCode: emailForm.value.code,\n        email: emailForm.value.email\n      };\n      try {\n        await emailFormRef.value.validate();\n        const response = await axios.post('/api/email/validateNum', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 400) {\n          ElMessage.error('过期验证码已失效!');\n        } else if (response.data.code === 500) {\n          ElMessage.error('验证码错误，请重新输入！');\n        } else {\n          ElMessage.success('验证成功！');\n          registerForm.value.email = emailForm.value.email;\n          email.value = emailForm.value.email;\n          isEditingEmail.value = true;\n          isPhoneVerified.value = true;\n        }\n      } catch (error) {\n        console.error(\"验证错误:\", error);\n      }\n    }\n    function backStep() {\n      registerForm.value.phone = null;\n      registerForm.value.email = null;\n      registerForm.value.password = null;\n      isEditingPhone.value = false;\n      isEditingEmail.value = false;\n      emailForm.value.email = null;\n      emailForm.value.code = null;\n      smsForm.value.phone = null;\n      smsForm.value.code = null;\n      currentStep.value--;\n    }\n    function nextStep() {\n      registerForm.value.phone = phoneNumber.value;\n      registerForm.value.email = email.value;\n      registerForm.value.password = password.value;\n      console.log(registerForm.value);\n      currentStep.value++;\n    }\n    function checkPasswordStrength() {\n      const passwordValue = password.value;\n      let strength = '弱';\n\n      // 判断密码长度\n      const lengthCriteria = passwordValue.length >= 8;\n      const hasUpperCase = /[A-Z]/.test(passwordValue);\n      const hasLowerCase = /[a-z]/.test(passwordValue);\n      const hasNumbers = /\\d/.test(passwordValue);\n      const hasSpecialChars = /[!@#$%^&*(),.?\":{}|<>]/.test(passwordValue);\n\n      // 强度等级判断\n      const criteriaMet = [lengthCriteria, hasUpperCase, hasLowerCase, hasNumbers, hasSpecialChars].filter(Boolean).length;\n      if (criteriaMet >= 4) {\n        strength = '高';\n      } else if (criteriaMet >= 2) {\n        strength = '中';\n      }\n      passwordStrength.value = strength;\n    }\n    function completeForgetPassword() {\n      if (password.value === confirmPassword.value && passwordStrength.value !== '弱') {\n        registerForm.value.password = password.value;\n        axios.post('/api/user/forgetPassword', registerForm.value, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        }).then(response => {\n          if (response.data.code === 200) {\n            ElMessage.success('修改成功，即将跳转登录页面！');\n            setTimeout(() => {\n              handleHome();\n            }, 1500);\n          } else if (response.data.code === 401) {\n            ElMessage.error(\"新密码不能与原密码相同！\");\n          } else {\n            ElMessage.error('修改失败，请稍后再试！');\n          }\n        }).catch(error => {\n          console.error('Error during registration:', error.message);\n          ElMessage.error('修改失败，请稍后再试！');\n        });\n      } else {\n        ElMessage.error('密码不符合要求，请重新输入！');\n      }\n    }\n    function handleLogin() {\n      router.push('/login');\n    }\n    async function handleHome() {\n      await router.push('/');\n    }\n    const __returned__ = {\n      currentStep,\n      phoneNumber,\n      email,\n      isEditingPhone,\n      isEditingEmail,\n      isPhoneVerified,\n      password,\n      confirmPassword,\n      passwordStrength,\n      themeStore,\n      isNightMode,\n      usernameCheckMessageColor,\n      registerForm,\n      canCompleteRegistration,\n      passwordStrengthClass,\n      selectedMethod,\n      selectMethod,\n      waitToSms,\n      isButtonDisabledToSms,\n      buttonTextToSms,\n      isShowToSms,\n      smsForm,\n      smsFormRef,\n      SelectPhone,\n      CheckPhoneNumberToSms,\n      onShowToSms,\n      onCloseToSms,\n      onSuccessToSms,\n      getMsgNumToSms,\n      setButtonStatusToSms,\n      countdownToSms,\n      validateNumToSms,\n      waitToEmail,\n      isButtonDisabledToEmail,\n      buttonTextToEmail,\n      isShowToEmail,\n      emailForm,\n      emailFormRef,\n      SelectEmail,\n      CheckPhoneNumberToEmail,\n      onShowToEmail,\n      onCloseToEmail,\n      onSuccessToEmail,\n      getMsgNumToEmail,\n      setButtonStatusToEmail,\n      countdownToEmail,\n      validateNumToEmail,\n      backStep,\n      nextStep,\n      checkPasswordStrength,\n      completeForgetPassword,\n      handleLogin,\n      handleHome,\n      computed,\n      ref,\n      watch,\n      get router() {\n        return router;\n      },\n      get axios() {\n        return axios;\n      },\n      get Vcode() {\n        return Vcode;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get useThemeStore() {\n        return useThemeStore;\n      },\n      get Message() {\n        return Message;\n      },\n      get Phone() {\n        return Phone;\n      },\n      FooterLoginComponent\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","ref","watch","router","axios","Vcode","ElMessage","useThemeStore","Message","Phone","FooterLoginComponent","currentStep","phoneNumber","email","isEditingPhone","isEditingEmail","isPhoneVerified","password","confirmPassword","passwordStrength","themeStore","isNightMode","usernameCheckMessageColor","registerForm","username","phone","newVal","console","log","document","body","classList","add","remove","canCompleteRegistration","value","passwordStrengthClass","selectedMethod","selectMethod","method","nextStep","waitToSms","isButtonDisabledToSms","buttonTextToSms","isShowToSms","smsForm","code","smsFormRef","newValueToSms","SelectPhone","response","post","headers","withCredentials","data","error","CheckPhoneNumberToSms","length","test","onShowToSms","onCloseToSms","onSuccessToSms","getMsgNumToSms","setButtonStatusToSms","isOk","success","countdownToSms","setTimeout","validateNumToSms","verifyCode","validate","result","waitToEmail","isButtonDisabledToEmail","buttonTextToEmail","isShowToEmail","emailForm","emailFormRef","newValueToEmail","SelectEmail","CheckPhoneNumberToEmail","onShowToEmail","onCloseToEmail","onSuccessToEmail","getMsgNumToEmail","setButtonStatusToEmail","countdownToEmail","validateNumToEmail","verCode","backStep","checkPasswordStrength","passwordValue","strength","lengthCriteria","hasUpperCase","hasLowerCase","hasNumbers","hasSpecialChars","criteriaMet","filter","Boolean","completeForgetPassword","then","handleHome","catch","message","handleLogin","push"],"sources":["D:/Cache/Java/shopping/shoppping_c_frontend/src/views/ForgetPasswordView.vue"],"sourcesContent":["<template xmlns=\"http://www.w3.org/1999/xhtml\">\r\n  <el-container class=\"register-container\" :class=\"{ 'night-mode': isNightMode }\">\r\n    <el-header class=\"register-logo header-left\">\r\n      <img src=\"../images/logo.png\" alt=\"Logo\" class=\"logo-img\" @click=\"handleHome\"/>\r\n      <span class=\"header-title\">忘记密码</span>\r\n    </el-header>\r\n    <el-main class=\"register-content\">\r\n      <div class=\"register-section\" style=\"display: flex; width: 100%; align-items: center;\">\r\n        <div class=\"registration-steps-section\">\r\n          <div class=\"step-indicator\">\r\n            <p>\r\n              <span\r\n                  :class=\"['step-box step-box-enhanced', { 'active-step': currentStep === 1, 'breathing-border': currentStep === 1 }]\">\r\n                选择验证方式</span>\r\n              <img src=\"../images/arrow.png\" alt=\"箭头\" class=\"arrow-icon\"/>\r\n              <span\r\n                  :class=\"['step-box step-box-enhanced', { 'active-step': currentStep === 2, 'breathing-border': currentStep === 2 }]\">\r\n                验证手机号和邮箱</span>\r\n              <img src=\"../images/arrow.png\" alt=\"箭头\" class=\"arrow-icon\"/>\r\n              <span\r\n                  :class=\"['step-box step-box-enhanced', { 'active-step': currentStep === 3, 'breathing-border': currentStep === 3 }]\">\r\n                输入密码</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div v-if=\"currentStep === 1\" class=\"step-content\">\r\n            <h3 class=\"step-title\">步骤 1: 选择验证方式</h3>\r\n            <div class=\"verification-method-buttons\">\r\n              <el-button type=\"default\" @click=\"selectMethod('phone')\" class=\"verification-method-button\">\r\n                <Phone class=\"icon-style\"/>\r\n                <span class=\"button-text\">手机号验证</span>\r\n              </el-button>\r\n              <br>\r\n              <el-button type=\"default\" @click=\"selectMethod('email')\" class=\"verification-method-button\">\r\n                <Message class=\"icon-style\"/>\r\n                <span class=\"button-text\">邮箱验证</span>\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"currentStep === 2\" class=\"step-content\">\r\n            <h3 class=\"step-title\" v-if=\"selectedMethod === 'phone'\">步骤 2: 验证手机号</h3>\r\n            <h3 class=\"step-title\" v-if=\"selectedMethod === 'email'\">步骤 2: 验证邮箱</h3>\r\n            <el-form v-if=\"selectedMethod === 'phone'\" :model=\"smsForm\" status-icon ref=\"smsFormRef\">\r\n              <el-input v-model=\"smsForm.phone\" id=\"phone\" placeholder=\"手机号\" class=\"custom-input\"\r\n                        :disabled=\"isEditingPhone\"></el-input>\r\n              <el-row :gutter=\"10\">\r\n                <el-col :span=\"14\">\r\n                  <el-input v-model=\"smsForm.code\" placeholder=\"验证码\" class=\"custom-input\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"10\">\r\n                  <el-button\r\n                      id=\"captcha-button\"\r\n                      type=\"primary\"\r\n                      :disabled=\"isButtonDisabledToSms\"\r\n                      @click=\"CheckPhoneNumberToSms\"\r\n                      class=\"sms-code-button\">\r\n                    {{ buttonTextToSms }}\r\n                  </el-button>\r\n                </el-col>\r\n              </el-row>\r\n              <Vcode :show=\"isShowToSms\" @success=\"onSuccessToSms\" @close=\"onCloseToSms\"/>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"validateNumToSms\" block class=\"login-button\">验证</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n\r\n            <el-form v-if=\"selectedMethod === 'email'\" :model=\"emailForm\" status-icon ref=\"emailFormRef\">\r\n              <el-input v-model=\"emailForm.email\" id=\"email\" placeholder=\"邮箱\" class=\"custom-input\"\r\n                        :disabled=\"isEditingEmail\"></el-input>\r\n              <el-row :gutter=\"10\">\r\n                <el-col :span=\"14\">\r\n                  <el-input v-model=\"emailForm.code\" placeholder=\"验证码\" class=\"custom-input\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"10\">\r\n                  <el-button\r\n                      id=\"captcha-button\"\r\n                      type=\"primary\"\r\n                      :disabled=\"isButtonDisabledToEmail\"\r\n                      @click=\"CheckPhoneNumberToEmail\"\r\n                      class=\"sms-code-button\">\r\n                    {{ buttonTextToEmail }}\r\n                  </el-button>\r\n                </el-col>\r\n              </el-row>\r\n              <Vcode :show=\"isShowToEmail\" @success=\"onSuccessToEmail\" @close=\"onCloseToEmail\"/>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"validateNumToEmail\" block class=\"login-button\">验证</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <el-button type=\"primary\" :disabled=\"!isPhoneVerified\" :class=\"{ 'disabled-button': !isPhoneVerified }\"\r\n                       @click=\"nextStep\" block class=\"register-button\"\r\n                       style=\"margin-top: 10px;\">下一步\r\n            </el-button>\r\n            <a class=\"merchant-link\" @click=\"backStep\">返回上一步</a>\r\n          </div>\r\n\r\n          <div v-if=\"currentStep === 3\" class=\"step-content\">\r\n            <h3 class=\"step-title\">步骤 3: 输入密码</h3>\r\n            <el-input v-model=\"password\" type=\"password\" placeholder=\"请输入密码\" @input=\"checkPasswordStrength\"\r\n                      show-password class=\"custom-input\"></el-input>\r\n            <div class=\"password-strength-wrapper\">\r\n              <div class=\"password-strength-bar\">\r\n                <div class=\"strength-segment\"\r\n                     :class=\"{ 'low-strength-segment': passwordStrength === '弱' ,'medium-strength-segment': passwordStrength === '中' ,'high-strength-segment': passwordStrength === '高' }\"></div>\r\n                <div class=\"strength-segment\"\r\n                     :class=\"{ 'medium-strength-segment': passwordStrength === '中','high-strength-segment': passwordStrength === '高' }\"></div>\r\n                <div class=\"strength-segment\" :class=\"{ 'high-strength-segment': passwordStrength === '高' }\"></div>\r\n              </div>\r\n              <span :class=\"passwordStrengthClass\">{{ passwordStrength }}</span>\r\n            </div>\r\n            <el-input v-model=\"confirmPassword\" type=\"password\" placeholder=\"确认密码\" show-password\r\n                      class=\"custom-input\" @paste.prevent=\"\"></el-input>\r\n            <el-button type=\"primary\" :disabled=\"!canCompleteRegistration\"\r\n                       :class=\"{ 'disabled-button': !canCompleteRegistration }\" @click=\"completeForgetPassword\" block\r\n                       class=\"register-button\" style=\"margin-top: 10px;\">修改密码\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <a @click=\"handleLogin\" class=\"login-link\">想起来了，返回登录</a>\r\n    </el-main>\r\n    <el-aside class=\"night-mode-toggle\">\r\n      <el-switch v-model=\"themeStore.isNightMode\" active-text=\"夜间模式\" inactive-text=\"白天模式\"></el-switch>\r\n    </el-aside>\r\n    <FooterLoginComponent/>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup>\r\nimport {computed, ref, watch} from 'vue';\r\nimport router from \"@/router\";\r\nimport axios from \"axios\";\r\nimport Vcode from \"vue3-puzzle-vcode\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport {useThemeStore} from '@/store/themeStore';\r\nimport {Message, Phone} from '@element-plus/icons-vue';\r\nimport FooterLoginComponent from \"@/components/FooterLoginComponent.vue\";\r\n\r\nconst currentStep = ref(1);\r\nconst phoneNumber = ref('');\r\nconst email = ref('');\r\nconst isEditingPhone = ref(false);\r\nconst isEditingEmail = ref(false);\r\nconst isPhoneVerified = ref(false);\r\nconst password = ref('');\r\nconst confirmPassword = ref('');\r\nconst passwordStrength = ref('弱');\r\nconst themeStore = useThemeStore();\r\nconst isNightMode = computed(() => themeStore.isNightMode);\r\nconst usernameCheckMessageColor = ref('');\r\n\r\nconst registerForm = ref({\r\n  username: '',\r\n  phone: '',\r\n  email: '',\r\n  password: ''\r\n});\r\n\r\nwatch(isNightMode, (newVal) => {\r\n  if (newVal) {\r\n    console.log(themeStore.isNightMode);\r\n    document.body.classList.add('night-mode');\r\n  } else {\r\n    console.log(themeStore.isNightMode);\r\n    document.body.classList.remove('night-mode');\r\n  }\r\n});\r\n\r\nconst canCompleteRegistration = computed(() => {\r\n  return password.value === confirmPassword.value && passwordStrength.value !== '弱';\r\n});\r\n\r\nconst passwordStrengthClass = computed(() => {\r\n  switch (passwordStrength.value) {\r\n    case '高':\r\n      return 'high-strength';\r\n    case '中':\r\n      return 'medium-strength';\r\n    case '弱':\r\n    default:\r\n      return 'low-strength';\r\n  }\r\n});\r\n\r\nconst selectedMethod = ref('');\r\n\r\nfunction selectMethod(method) {\r\n  selectedMethod.value = method;\r\n  nextStep();\r\n}\r\n\r\n// 手机验证码部分\r\nconst waitToSms = ref(120);\r\nconst isButtonDisabledToSms = ref(false);\r\nconst buttonTextToSms = ref('获取验证码');\r\nconst isShowToSms = ref(false);\r\nconst smsForm = ref({\r\n  phone: '',\r\n  code: ''\r\n});\r\nconst smsFormRef = ref(null);\r\n\r\nwatch(waitToSms, (newValueToSms) => {\r\n  if (newValueToSms === 0) {\r\n    isButtonDisabledToSms.value = false;\r\n    buttonTextToSms.value = '获取验证码';\r\n    waitToSms.value = 60; // 重置计时器\r\n  } else {\r\n    buttonTextToSms.value = `${newValueToSms}秒后可以重新发送`;\r\n  }\r\n});\r\n\r\nasync function SelectPhone(phone) {\r\n  try {\r\n    const response = await axios.post('/api/user/register/selectPhone', {\r\n      phone: phone\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    return response.data.code === 400;\r\n  } catch (error) {\r\n    ElMessage.error('服务器错误，请稍后再试！');\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function CheckPhoneNumberToSms() {\r\n  if (smsForm.value.phone.length === 0) {\r\n    ElMessage.error('请输入手机号码！');\r\n    return;\r\n  } else if (!/^1[3-9]\\d{9}$/.test(smsForm.value.phone)) {\r\n    ElMessage.error('请输入正确的手机号码！');\r\n    return;\r\n  }\r\n  if (await SelectPhone(smsForm.value.phone) === true) {\r\n    onShowToSms();\r\n  } else {\r\n    ElMessage.error('手机号已被占用，请重新输入！');\r\n  }\r\n}\r\n\r\n// 人机验证部分\r\nconst onShowToSms = () => {\r\n  isShowToSms.value = true;\r\n};\r\n\r\nconst onCloseToSms = () => {\r\n  isShowToSms.value = false;\r\n};\r\n\r\nconst onSuccessToSms = () => {\r\n  onCloseToSms(); // 验证成功，需要手动关闭模态框\r\n  getMsgNumToSms(); // 获取验证码\r\n};\r\n\r\n// 获取验证码\r\nasync function getMsgNumToSms() {\r\n  setButtonStatusToSms(); // 设置按钮状态\r\n  try {\r\n    const response = await axios.post('/api/sms/smsXxs', {\r\n      phoneNumber: smsForm.value.phone,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n\r\n    if (response.data.isOk === \"OK\") {\r\n      ElMessage.success('验证码已发送到您的手机，请注意查收！');\r\n    } else {\r\n      ElMessage.error('验证码发送失败，请稍后再试！');\r\n    }\r\n  } catch (error) {\r\n    console.error(\"发送验证码错误:\", error);\r\n  }\r\n}\r\n\r\n// 设置按钮状态\r\nfunction setButtonStatusToSms() {\r\n  isButtonDisabledToSms.value = true;\r\n  waitToSms.value = waitToSms.value > 0 ? waitToSms.value : 120; // 确保初始值有效\r\n  countdownToSms();\r\n}\r\n\r\n// 计时功能\r\nfunction countdownToSms() {\r\n  if (waitToSms.value > 0) {\r\n    setTimeout(() => {\r\n      waitToSms.value -= 1;\r\n      countdownToSms();\r\n    }, 1000);\r\n  }\r\n}\r\n\r\nasync function validateNumToSms() {\r\n  if (smsForm.value.phone.length === 0 || smsForm.value.phone.length === 0) {\r\n    ElMessage.error('请输入手机号码和验证码！');\r\n    return;\r\n  }\r\n  const data = {\r\n    verifyCode: smsForm.value.code,\r\n    phone: smsForm.value.phone,\r\n  };\r\n\r\n  try {\r\n    await smsFormRef.value.validate();\r\n    const response = await axios.post('/api/sms/validateNum', data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    console.log(response.data);\r\n    if (response.data.result === 404) {\r\n      ElMessage.error('过期验证码已失效!');\r\n    } else if (response.data.result === 500) {\r\n      ElMessage.error('验证码错误，请重新输入！');\r\n    } else {\r\n      ElMessage.success('验证成功！');\r\n      isPhoneVerified.value = true;\r\n      phoneNumber.value = smsForm.value.phone;\r\n      isEditingPhone.value = true;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"验证错误:\", error);\r\n  }\r\n}\r\n\r\n// 邮箱验证部分\r\nconst waitToEmail = ref(120);\r\nconst isButtonDisabledToEmail = ref(false);\r\nconst buttonTextToEmail = ref('获取验证码');\r\nconst isShowToEmail = ref(false);\r\nconst emailForm = ref({\r\n  email: '',\r\n  code: ''\r\n});\r\nconst emailFormRef = ref(null);\r\n\r\nwatch(waitToEmail, (newValueToEmail) => {\r\n  if (newValueToEmail === 0) {\r\n    isButtonDisabledToEmail.value = false;\r\n    buttonTextToEmail.value = '获取验证码';\r\n    waitToEmail.value = 30; // 重置计时器\r\n  } else {\r\n    buttonTextToEmail.value = `${newValueToEmail}秒后可以重新发送`;\r\n  }\r\n});\r\n\r\nasync function SelectEmail(email) {\r\n  try {\r\n    const response = await axios.post('/api/user/register/selectEmail', {\r\n      email: email\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    return response.data.code === 400;\r\n  } catch (error) {\r\n    ElMessage.error('服务器错误，请稍后再试！');\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function CheckPhoneNumberToEmail() {\r\n  console.log(emailForm.value.email);\r\n  if (emailForm.value.email.length === 0) {\r\n    ElMessage.error('请输入邮箱！');\r\n    return;\r\n  } else if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(emailForm.value.email)) {\r\n    ElMessage.error('请输入正确的邮箱地址！');\r\n    return;\r\n  }\r\n  if (await SelectEmail(emailForm.value.email) === true) {\r\n    onShowToEmail();\r\n  } else {\r\n    ElMessage.error('邮箱已被占用，请重新输入！');\r\n  }\r\n}\r\n\r\n// 人机验证部分\r\nconst onShowToEmail = () => {\r\n  isShowToEmail.value = true;\r\n};\r\n\r\nconst onCloseToEmail = () => {\r\n  isShowToEmail.value = false;\r\n};\r\n\r\nconst onSuccessToEmail = () => {\r\n  onCloseToEmail(); // 验证成功，需要手动关闭模态框\r\n  getMsgNumToEmail(); // 获取验证码\r\n};\r\n\r\n// 获取验证码\r\nasync function getMsgNumToEmail() {\r\n  setButtonStatusToEmail(); // 设置按钮状态\r\n  try {\r\n    const response = await axios.post('/api/email/send', {\r\n      email: emailForm.value.email,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n\r\n    if (response.data.code === 200) {\r\n      ElMessage.success('验证码已发送到您的邮箱，请注意查收！');\r\n    } else {\r\n      ElMessage.error('验证码发送失败，请稍后再试！');\r\n    }\r\n  } catch (error) {\r\n    console.error(\"发送验证码错误:\", error);\r\n  }\r\n}\r\n\r\n// 设置按钮状态\r\nfunction setButtonStatusToEmail() {\r\n  isButtonDisabledToEmail.value = true;\r\n  waitToEmail.value = waitToEmail.value > 0 ? waitToEmail.value : 30; // 确保初始值有效\r\n  countdownToEmail();\r\n}\r\n\r\n// 计时功能\r\nfunction countdownToEmail() {\r\n  if (waitToEmail.value > 0) {\r\n    setTimeout(() => {\r\n      waitToEmail.value -= 1;\r\n      countdownToEmail();\r\n    }, 1000);\r\n  }\r\n}\r\n\r\nasync function validateNumToEmail() {\r\n  if (emailForm.value.email.length === 0 || emailForm.value.code.length === 0) {\r\n    ElMessage.error('请输入邮箱和验证码！');\r\n    return;\r\n  }\r\n  const data = {\r\n    verCode: emailForm.value.code,\r\n    email: emailForm.value.email,\r\n  };\r\n\r\n  try {\r\n    await emailFormRef.value.validate();\r\n    const response = await axios.post('/api/email/validateNum', data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 400) {\r\n      ElMessage.error('过期验证码已失效!');\r\n    } else if (response.data.code === 500) {\r\n      ElMessage.error('验证码错误，请重新输入！');\r\n    } else {\r\n      ElMessage.success('验证成功！');\r\n      registerForm.value.email = emailForm.value.email;\r\n      email.value = emailForm.value.email;\r\n      isEditingEmail.value = true;\r\n      isPhoneVerified.value = true;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"验证错误:\", error);\r\n  }\r\n}\r\n\r\nfunction backStep() {\r\n  registerForm.value.phone = null;\r\n  registerForm.value.email = null;\r\n  registerForm.value.password = null;\r\n  isEditingPhone.value = false;\r\n  isEditingEmail.value = false;\r\n  emailForm.value.email = null;\r\n  emailForm.value.code = null;\r\n  smsForm.value.phone = null;\r\n  smsForm.value.code = null;\r\n  currentStep.value--;\r\n}\r\n\r\nfunction nextStep() {\r\n  registerForm.value.phone = phoneNumber.value;\r\n  registerForm.value.email = email.value;\r\n  registerForm.value.password = password.value;\r\n  console.log(registerForm.value);\r\n  currentStep.value++;\r\n}\r\n\r\nfunction checkPasswordStrength() {\r\n  const passwordValue = password.value;\r\n  let strength = '弱';\r\n\r\n  // 判断密码长度\r\n  const lengthCriteria = passwordValue.length >= 8;\r\n  const hasUpperCase = /[A-Z]/.test(passwordValue);\r\n  const hasLowerCase = /[a-z]/.test(passwordValue);\r\n  const hasNumbers = /\\d/.test(passwordValue);\r\n  const hasSpecialChars = /[!@#$%^&*(),.?\":{}|<>]/.test(passwordValue);\r\n\r\n  // 强度等级判断\r\n  const criteriaMet = [lengthCriteria, hasUpperCase, hasLowerCase, hasNumbers, hasSpecialChars].filter(Boolean).length;\r\n\r\n  if (criteriaMet >= 4) {\r\n    strength = '高';\r\n  } else if (criteriaMet >= 2) {\r\n    strength = '中';\r\n  }\r\n  passwordStrength.value = strength;\r\n}\r\n\r\nfunction completeForgetPassword() {\r\n  if (password.value === confirmPassword.value && passwordStrength.value !== '弱') {\r\n    registerForm.value.password = password.value;\r\n    axios.post('/api/user/forgetPassword', registerForm.value, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    }).then(response => {\r\n      if (response.data.code === 200) {\r\n        ElMessage.success('修改成功，即将跳转登录页面！');\r\n        setTimeout(() => {\r\n          handleHome();\r\n        }, 1500);\r\n      } else if (response.data.code === 401) {\r\n        ElMessage.error(\"新密码不能与原密码相同！\");\r\n      } else {\r\n        ElMessage.error('修改失败，请稍后再试！');\r\n      }\r\n    }).catch(error => {\r\n      console.error('Error during registration:', error.message);\r\n      ElMessage.error('修改失败，请稍后再试！');\r\n    });\r\n  } else {\r\n    ElMessage.error('密码不符合要求，请重新输入！');\r\n  }\r\n}\r\n\r\nfunction handleLogin() {\r\n  router.push('/login');\r\n}\r\n\r\nasync function handleHome() {\r\n  await router.push('/');\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.register-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 40px;\r\n  background-color: #f7f7f7;\r\n  height: 100vh;\r\n  justify-content: space-between;\r\n}\r\n\r\n.register-logo {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n}\r\n\r\n.logo-img {\r\n  height: 80px;\r\n}\r\n\r\n.header-title {\r\n  margin-left: 15px;\r\n  font-size: 28px;\r\n  color: #96CDCD;\r\n  font-weight: bold;\r\n  line-height: 1;\r\n}\r\n\r\n.register-content {\r\n  max-height: 65vh;\r\n  display: flex;\r\n  width: 100%;\r\n  max-width: 900px;\r\n  padding: 20px;\r\n  background-color: #fff;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  border-radius: 12px;\r\n  position: relative;\r\n  top: 20vh;\r\n}\r\n\r\n.register-section {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.step-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.arrow-icon {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin: 0 20px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.step-box {\r\n  padding: 15px 25px;\r\n  border: 2px solid transparent;\r\n  border-radius: 10px;\r\n  transition: border-color 0.5s ease;\r\n}\r\n\r\n.step-box-enhanced {\r\n  background-color: #B6D0E2;\r\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.step-box-enhanced:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.step-box.active-step {\r\n  font-weight: bold;\r\n  color: #96CDCD;\r\n  border-bottom: 2px solid #96CDCD;\r\n}\r\n\r\n.step-title {\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.custom-input {\r\n  width: 70%;\r\n  border-radius: 10px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.sms-code-button {\r\n  margin-top: 15px;\r\n  height: 30px; /* 与输入框高度保持一致 */\r\n  padding: 0 20px; /* 左右内边距让按钮显得更舒展 */\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n  line-height: 48px; /* 与按钮高度一致，保证文字垂直居中 */\r\n  //居中显示\r\n  display: flex;\r\n}\r\n\r\n.login-button {\r\n  font-size: 18px;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  width: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.username-check-container {\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.username-input {\r\n  height: 50px;\r\n  font-size: 20px;\r\n}\r\n\r\n.check-username-button {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.username-check-message {\r\n  color: v-bind(usernameCheckMessageColor);\r\n}\r\n\r\n.register-button {\r\n  margin-bottom: 45px;\r\n  font-size: 20px;\r\n  padding: 14px;\r\n  width: 200px;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.disabled-button {\r\n  background-color: #c0c0c0 !important;\r\n  border-color: #c0c0c0 !important;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.verification-button {\r\n  margin-top: 15px;\r\n  height: 30px;\r\n  padding: 0 20px;\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n  line-height: 48px;\r\n  display: flex;\r\n}\r\n\r\n.password-strength {\r\n  margin-top: 20px;\r\n  font-size: 18px;\r\n}\r\n\r\n.high-strength {\r\n  color: #67c23a;\r\n  font-weight: bold;\r\n}\r\n\r\n.medium-strength {\r\n  color: #e6a23c;\r\n  font-weight: bold;\r\n}\r\n\r\n.low-strength {\r\n  color: #f56c6c;\r\n  font-weight: bold;\r\n}\r\n\r\n.merchant-link {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  color: #808080;\r\n  text-decoration: none;\r\n  font-size: 16px;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.merchant-link:hover {\r\n  color: #96CDCD;\r\n}\r\n\r\n.login-link {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  color: #808080;\r\n  text-decoration: none;\r\n  font-size: 16px;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.login-link:hover {\r\n  color: #96CDCD;\r\n}\r\n\r\n.night-mode-toggle {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n}\r\n\r\n.el-button--primary {\r\n  background-color: #96CDCD;\r\n  border-color: #96CDCD;\r\n}\r\n\r\n.el-button--primary:hover {\r\n  background-color: #668B8B;\r\n  border-color: #668B8B;\r\n}\r\n\r\nbody.night-mode, html.night-mode {\r\n  background-color: #1f1f1f;\r\n  color: #f7f7f7;\r\n}\r\n\r\n.night-mode .el-container {\r\n  background-color: #1f1f1f;\r\n}\r\n\r\nbody.night-mode .register-content {\r\n  background-color: #333;\r\n  color: #f7f7f7;\r\n}\r\n\r\nbody.night-mode .el-input,\r\nbody.night-mode .el-input__inner {\r\n  background-color: #444;\r\n  color: #f7f7f7;\r\n  border-color: #555;\r\n}\r\n\r\nbody.night-mode .el-button--primary {\r\n  background-color: #668B8B;\r\n  border-color: #668B8B;\r\n}\r\n\r\n.password-strength-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.password-strength-bar {\r\n  display: flex;\r\n  width: 70%;\r\n  height: 10px;\r\n  background-color: #e0e0e0;\r\n  border-radius: 5px;\r\n}\r\n\r\n.strength-segment {\r\n  flex: 1;\r\n  height: 100%;\r\n  margin-right: 2px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.low-strength-segment {\r\n  background-color: #f56c6c;\r\n}\r\n\r\n.medium-strength-segment {\r\n  background-color: #e6a23c;\r\n}\r\n\r\n.high-strength-segment {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.password-strength-text {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n\r\n.verification-method-buttons {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 30px;\r\n  margin-top: 40px;\r\n}\r\n\r\n.verification-method-buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 40px;\r\n  margin-top: 50px;\r\n}\r\n\r\n.verification-method-buttons {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n  margin-top: 40px;\r\n}\r\n\r\n.verification-method-button {\r\n  background-color: #ffffff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 180px;\r\n  height: 80px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: box-shadow 0.3s ease, transform 0.3s ease;\r\n  border: none;\r\n}\r\n\r\n.verification-method-button:hover {\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);\r\n  transform: translateY(-4px);\r\n}\r\n\r\n.icon-style {\r\n  font-size: 36px;\r\n  color: #666;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-text {\r\n  font-size: 16px;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}