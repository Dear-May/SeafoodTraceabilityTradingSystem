{"ast":null,"code":"import { createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, withKeys as _withKeys, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex\",\n  style: {\n    \"height\": \"100vh\",\n    \"overflow\": \"hidden\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"flex-grow-1 overflow-auto\",\n  style: {\n    \"background\": \"#f5f7fa\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"p-4\"\n};\nconst _hoisted_4 = {\n  class: \"collapse-title\"\n};\nconst _hoisted_5 = {\n  style: {\n    \"padding-left\": \"10px\",\n    \"padding-right\": \"10px\"\n  }\n};\nconst _hoisted_6 = {\n  class: \"timeline-entry\"\n};\nconst _hoisted_7 = {\n  style: {\n    \"color\": \"#333\",\n    \"font-size\": \"14px\",\n    \"margin-bottom\": \"0\",\n    \"text-align\": \"start\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"timeline-content\"\n};\nconst _hoisted_9 = {\n  class: \"timeline-images\"\n};\nconst _hoisted_10 = {\n  class: \"add-trace-button\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = {\n  class: \"row\"\n};\nconst _hoisted_13 = {\n  class: \"col-3 step-container\"\n};\nconst _hoisted_14 = {\n  class: \"col-9\"\n};\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = {\n  class: \"search-container\"\n};\nconst _hoisted_17 = {\n  class: \"row product-grid\"\n};\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = {\n  class: \"product-name\"\n};\nconst _hoisted_20 = {\n  class: \"step-actions\"\n};\nconst _hoisted_21 = [\"src\"];\nconst _hoisted_22 = {\n  class: \"step-actions\"\n};\nconst _hoisted_23 = {\n  key: 0,\n  class: \"fixed-selected-products\"\n};\nconst _hoisted_24 = {\n  key: 0\n};\nconst _hoisted_25 = {\n  class: \"d-flex align-items-center\"\n};\nconst _hoisted_26 = [\"src\"];\nconst _hoisted_27 = {\n  class: \"ml-2\"\n};\nconst _hoisted_28 = {\n  class: \"selected-product-name\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_timeline_item = _resolveComponent(\"el-timeline-item\");\n  const _component_el_timeline = _resolveComponent(\"el-timeline\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\");\n  const _component_el_collapse = _resolveComponent(\"el-collapse\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  const _component_el_step = _resolveComponent(\"el-step\");\n  const _component_el_steps = _resolveComponent(\"el-steps\");\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_tabs = _resolveComponent(\"el-tabs\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"ShopSliderComponent\"], {\n    ref: \"shopSlider\"\n  }, null, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"StoreHeaderView\"], {\n    ref: \"storeHeader\"\n  }, null, 512 /* NEED_PATCH */), _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_el_tabs, {\n    modelValue: $setup.activeTab,\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.activeTab = $event),\n    class: \"demo-tabs\"\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 溯源管理 \"), _createVNode(_component_el_tab_pane, {\n      name: \"trace\"\n    }, {\n      label: _withCtx(() => _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n        class: \"bi bi-bar-chart\",\n        style: {\n          \"font-size\": \"16px\",\n          \"color\": \"#333\"\n        }\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", {\n        style: {\n          \"margin-left\": \"5px\",\n          \"font-weight\": \"bold\",\n          \"font-size\": \"16px\",\n          \"color\": \"#333\"\n        }\n      }, \"溯源管理\", -1 /* HOISTED */)])),\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [_createCommentVNode(\" 折叠面板 \"), _createVNode(_component_el_collapse, {\n        modelValue: $setup.activePanels,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.activePanels = $event),\n        class: \"trace-collapse\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.traceData, item => {\n          return _openBlock(), _createBlock(_component_el_collapse_item, {\n            key: item.id,\n            title: item.title,\n            name: item.id\n          }, {\n            title: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString(item.firstTitle), 1 /* TEXT */), _createVNode(_component_el_tag, {\n              type: \"info\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.formatDate(item.date)), 1 /* TEXT */)]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)])]),\n            default: _withCtx(() => [_createVNode(_component_el_timeline, null, {\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.entries, (entry, index) => {\n                return _openBlock(), _createBlock(_component_el_timeline_item, {\n                  key: index,\n                  timestamp: $setup.formatDate(entry.timestamp),\n                  placement: \"top\"\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_el_card, null, {\n                    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", _hoisted_7, \"操作员: \" + _toDisplayString(entry.operator), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, _toDisplayString(entry.content), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(entry.images, (image, imgIndex) => {\n                      return _openBlock(), _createBlock(_component_el_image, {\n                        key: imgIndex,\n                        src: image,\n                        class: \"timeline-image\",\n                        style: {\n                          \"margin-right\": \"8px\"\n                        },\n                        fit: \"cover\"\n                      }, null, 8 /* PROPS */, [\"src\"]);\n                    }), 128 /* KEYED_FRAGMENT */))])])]),\n                    _: 2 /* DYNAMIC */\n                  }, 1024 /* DYNAMIC_SLOTS */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"timestamp\"]);\n              }), 128 /* KEYED_FRAGMENT */))]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: $event => $setup.openAddTraceDialog(item.id)\n            }, {\n              default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createTextVNode(\"增加溯源信息\")]))]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"name\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" 增加溯源信息弹窗 \"), _createVNode(_component_el_dialog, {\n        title: \"新增溯源信息\",\n        modelValue: $setup.dialogTraceVisible,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.dialogTraceVisible = $event),\n        width: \"50%\",\n        \"append-to-body\": true,\n        \"before-close\": $setup.closeAddTraceDialog\n      }, {\n        footer: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: $setup.closeAddTraceDialog\n        }, {\n          default: _withCtx(() => _cache[13] || (_cache[13] = [_createTextVNode(\"取消\")])),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _cache[3] || (_cache[3] = $event => $setup.addTraceInfo($setup.selectID))\n        }, {\n          default: _withCtx(() => _cache[14] || (_cache[14] = [_createTextVNode(\"提交\")])),\n          _: 1 /* STABLE */\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          ref: \"traceForm\",\n          model: $setup.traceForm,\n          \"label-width\": \"120px\",\n          class: \"trace-form\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"溯源描述\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $setup.info,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.info = $event),\n              type: \"textarea\",\n              rows: \"5\",\n              placeholder: \"请输入溯源详细描述\",\n              maxlength: \"200\",\n              \"show-word-limit\": \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"上传图片\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_upload, {\n              \"list-type\": \"picture-card\",\n              \"auto-upload\": false,\n              limit: 3,\n              accept: \"image/*\",\n              \"on-change\": $setup.handleFileChange,\n              \"on-preview\": $setup.handlePictureCardPreview,\n              \"on-remove\": $setup.handleRemove,\n              \"file-list\": $setup.traceForm.images\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"file-list\"]), _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n              class: \"el-upload__tip\"\n            }, \"最多上传 3 张图片，支持 JPG/PNG 格式。\", -1 /* HOISTED */))]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_dialog, {\n            modelValue: $setup.dialogVisible,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.dialogVisible = $event)\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"img\", {\n              src: $setup.dialogImageUrl,\n              alt: \"Preview Image\"\n            }, null, 8 /* PROPS */, _hoisted_11)]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"model\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"])])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 新增溯源 \"), _createVNode(_component_el_tab_pane, {\n      name: \"add-trace\"\n    }, {\n      label: _withCtx(() => _cache[15] || (_cache[15] = [_createElementVNode(\"i\", {\n        class: \"bi bi-plus-circle\",\n        style: {\n          \"font-size\": \"16px\",\n          \"color\": \"#333\"\n        }\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", {\n        style: {\n          \"margin-left\": \"5px\",\n          \"font-weight\": \"bold\",\n          \"font-size\": \"16px\",\n          \"color\": \"#333\"\n        }\n      }, \"新增溯源\", -1 /* HOISTED */)])),\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, [_createCommentVNode(\" 步骤条 \"), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_el_steps, {\n        direction: \"vertical\",\n        active: $setup.activeStep,\n        \"finish-status\": \"success\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_step, {\n          title: \"选择商品\"\n        }), _createVNode(_component_el_step, {\n          title: \"录入溯源信息\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"active\"])]), _createCommentVNode(\" 步骤内容 \"), _createElementVNode(\"div\", _hoisted_14, [_createCommentVNode(\" 第一步：选择商品 \"), $setup.activeStep === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_cache[18] || (_cache[18] = _createElementVNode(\"h3\", {\n        class: \"step-title\"\n      }, \"选择商品\", -1 /* HOISTED */)), _createVNode(_component_el_divider), _createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_el_input, {\n        class: \"search-input\",\n        modelValue: $setup.searchQuery,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.searchQuery = $event),\n        placeholder: \"请输入商品名称或商品ID进行搜索\",\n        clearable: \"\",\n        onKeyup: _withKeys($setup.searchProducts, [\"enter\"])\n      }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.searchProducts\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Search\"])]),\n          _: 1 /* STABLE */\n        }), _cache[16] || (_cache[16] = _createTextVNode(\" 搜索 \"))]),\n        _: 1 /* STABLE */\n      })]), _createElementVNode(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredProducts, product => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"col-md-4 mb-3\",\n          key: product.id\n        }, [_createVNode(_component_el_card, {\n          shadow: \"hover\",\n          class: _normalizeClass([{\n            'selected-card': $setup.selectedProducts.includes(product.goodID)\n          }, \"product-card\"]),\n          onClick: $event => $setup.toggleProduct(product.goodID)\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"img\", {\n            src: product.imageUrl,\n            alt: \"商品图片\",\n            class: \"product-image\"\n          }, null, 8 /* PROPS */, _hoisted_18), _createElementVNode(\"p\", _hoisted_19, _toDisplayString(product.name), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"class\", \"onClick\"])]);\n      }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_20, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.nextStep\n      }, {\n        default: _withCtx(() => _cache[17] || (_cache[17] = [_createTextVNode(\"下一步\")])),\n        _: 1 /* STABLE */\n      })])])) : $setup.activeStep === 1 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createCommentVNode(\" 第二步：录入溯源信息 \"), _createElementVNode(\"div\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"h3\", {\n        class: \"step-title\"\n      }, \"录入溯源信息\", -1 /* HOISTED */)), _createVNode(_component_el_divider), _createVNode(_component_el_form, {\n        ref: \"traceForm\",\n        model: $setup.traceForm,\n        \"label-width\": \"120px\",\n        class: \"trace-form\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"溯源描述\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.info,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.info = $event),\n            type: \"textarea\",\n            rows: \"5\",\n            placeholder: \"请输入溯源详细描述\",\n            maxlength: \"200\",\n            \"show-word-limit\": \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"上传图片\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_upload, {\n            \"list-type\": \"picture-card\",\n            \"auto-upload\": false,\n            limit: 3,\n            accept: \"image/*\",\n            \"on-change\": $setup.handleFileChange,\n            \"on-preview\": $setup.handlePictureCardPreview,\n            \"on-remove\": $setup.handleRemove,\n            \"file-list\": $setup.traceForm.images\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [_createVNode($setup[\"Plus\"])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"file-list\"]), _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n            class: \"el-upload__tip\"\n          }, \"最多上传 3 张图片，支持 JPG/PNG 格式。\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_dialog, {\n          modelValue: $setup.dialogVisible,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.dialogVisible = $event)\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"img\", {\n            src: $setup.dialogImageUrl,\n            alt: \"Preview Image\"\n          }, null, 8 /* PROPS */, _hoisted_21)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"]), _createElementVNode(\"div\", _hoisted_22, [_createVNode(_component_el_button, {\n        onClick: $setup.prevStep\n      }, {\n        default: _withCtx(() => _cache[21] || (_cache[21] = [_createTextVNode(\"上一步\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.submitTrace\n      }, {\n        default: _withCtx(() => _cache[22] || (_cache[22] = [_createTextVNode(\"提交\")])),\n        _: 1 /* STABLE */\n      })])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])])), [[_directive_loading, $setup.loading]]), $setup.activeTab === 'add-trace' && $setup.activeStep === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_cache[26] || (_cache[26] = _createElementVNode(\"h4\", null, \"已选商品\", -1 /* HOISTED */)), $setup.selectedProducts.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, _cache[24] || (_cache[24] = [_createElementVNode(\"p\", null, \"尚未选择任何商品。\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.selectedProducts, id => {\n    return _openBlock(), _createBlock(_component_el_card, {\n      key: id,\n      class: \"selected-product-card\",\n      shadow: \"hover\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"img\", {\n        src: $setup.getProductById(id).imageUrl,\n        alt: \"商品图片\",\n        class: \"product-thumbnail\"\n      }, null, 8 /* PROPS */, _hoisted_26), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"p\", _hoisted_28, _toDisplayString($setup.getProductById(id).name), 1 /* TEXT */), _createVNode(_component_el_button, {\n        type: \"text\",\n        size: \"small\",\n        onClick: $event => $setup.removeProduct(id),\n        class: \"remove-btn\"\n      }, {\n        default: _withCtx(() => [...(_cache[25] || (_cache[25] = [_createTextVNode(\" 移除 \")]))]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])])]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","style","key","_createElementBlock","_hoisted_1","_createVNode","$setup","ref","_createElementVNode","_hoisted_2","_hoisted_3","_component_el_tabs","modelValue","activeTab","_cache","$event","default","_withCtx","_createCommentVNode","_component_el_tab_pane","name","label","_component_el_collapse","activePanels","_Fragment","_renderList","traceData","item","_createBlock","_component_el_collapse_item","id","title","_hoisted_4","_hoisted_5","_toDisplayString","firstTitle","_component_el_tag","type","_createTextVNode","formatDate","date","_","_component_el_timeline","entries","entry","index","_component_el_timeline_item","timestamp","placement","_component_el_card","_hoisted_6","_hoisted_7","operator","_hoisted_8","content","_hoisted_9","images","image","imgIndex","_component_el_image","src","fit","_hoisted_10","_component_el_button","onClick","openAddTraceDialog","_component_el_dialog","dialogTraceVisible","width","closeAddTraceDialog","footer","addTraceInfo","selectID","_component_el_form","model","traceForm","_component_el_form_item","_component_el_input","info","rows","placeholder","maxlength","_component_el_upload","limit","accept","handleFileChange","handlePictureCardPreview","handleRemove","_component_el_icon","dialogVisible","dialogImageUrl","alt","_hoisted_11","_hoisted_12","_hoisted_13","_component_el_steps","direction","active","activeStep","_component_el_step","_hoisted_14","_hoisted_15","_component_el_divider","_hoisted_16","searchQuery","clearable","onKeyup","_withKeys","searchProducts","_hoisted_17","filteredProducts","product","shadow","_normalizeClass","selectedProducts","includes","goodID","toggleProduct","imageUrl","_hoisted_18","_hoisted_19","_hoisted_20","nextStep","_hoisted_21","_hoisted_22","prevStep","submitTrace","loading","_hoisted_23","length","_hoisted_24","_hoisted_25","getProductById","_hoisted_26","_hoisted_27","_hoisted_28","size","removeProduct"],"sources":["D:\\Cache\\Java\\shopping\\shoppping_c_frontend\\src\\views\\Store\\StoreTraceabilityManageView.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex\" style=\"height: 100vh; overflow: hidden;\">\r\n    <ShopSliderComponent ref=\"shopSlider\"></ShopSliderComponent>\r\n    <div class=\"flex-grow-1 overflow-auto\" style=\"background: #f5f7fa;\">\r\n      <StoreHeaderView ref=\"storeHeader\"></StoreHeaderView>\r\n\r\n      <div class=\"p-4\" v-loading=\"loading\">\r\n        <el-tabs v-model=\"activeTab\" class=\"demo-tabs\">\r\n          <!-- 溯源管理 -->\r\n          <el-tab-pane name=\"trace\">\r\n            <template #label>\r\n              <i class=\"bi bi-bar-chart\" style=\"font-size: 16px; color: #333;\"></i>\r\n              <span style=\"margin-left: 5px; font-weight: bold; font-size: 16px; color: #333;\">溯源管理</span>\r\n            </template>\r\n            <div>\r\n              <!-- 折叠面板 -->\r\n              <el-collapse v-model=\"activePanels\" class=\"trace-collapse\">\r\n                <el-collapse-item\r\n                    v-for=\"item in traceData\"\r\n                    :key=\"item.id\"\r\n                    :title=\"item.title\"\r\n                    :name=\"item.id\"\r\n                >\r\n                  <template #title>\r\n                    <div class=\"collapse-title\">\r\n                      <span style=\"padding-left: 10px; padding-right: 10px;\">{{ item.firstTitle }}</span>\r\n                      <el-tag type=\"info\">{{ formatDate(item.date) }}</el-tag>\r\n                    </div>\r\n                  </template>\r\n                  <!-- 时间线 -->\r\n                  <el-timeline>\r\n                    <el-timeline-item\r\n                        v-for=\"(entry, index) in item.entries\"\r\n                        :key=\"index\"\r\n                        :timestamp=\"formatDate(entry.timestamp)\"\r\n                        placement=\"top\"\r\n                    >\r\n                      <el-card>\r\n                        <div class=\"timeline-entry\">\r\n                          <p style=\"color: #333; font-size: 14px; margin-bottom: 0; text-align: start;\">操作员:\r\n                            {{ entry.operator }}</p>\r\n                          <p class=\"timeline-content\">{{ entry.content }}</p>\r\n                          <div class=\"timeline-images\">\r\n                            <el-image\r\n                                v-for=\"(image, imgIndex) in entry.images\"\r\n                                :key=\"imgIndex\"\r\n                                :src=\"image\"\r\n                                class=\"timeline-image\"\r\n                                style=\"margin-right: 8px;\"\r\n                                fit=\"cover\"\r\n                            ></el-image>\r\n                          </div>\r\n                        </div>\r\n                      </el-card>\r\n                    </el-timeline-item>\r\n                  </el-timeline>\r\n                  <!-- 增加溯源信息按钮 -->\r\n                  <div class=\"add-trace-button\">\r\n                    <el-button type=\"primary\" @click=\"openAddTraceDialog(item.id)\">增加溯源信息</el-button>\r\n                  </div>\r\n\r\n                </el-collapse-item>\r\n              </el-collapse>\r\n              <!-- 增加溯源信息弹窗 -->\r\n              <el-dialog\r\n                  title=\"新增溯源信息\"\r\n                  v-model=\"dialogTraceVisible\"\r\n                  width=\"50%\"\r\n                  :append-to-body=\"true\"\r\n                  :before-close=\"closeAddTraceDialog\"\r\n              >\r\n                <el-form\r\n                    ref=\"traceForm\"\r\n                    :model=\"traceForm\"\r\n                    label-width=\"120px\"\r\n                    class=\"trace-form\"\r\n                >\r\n                  <el-form-item label=\"溯源描述\">\r\n                    <el-input\r\n                        v-model=\"info\"\r\n                        type=\"textarea\"\r\n                        rows=\"5\"\r\n                        placeholder=\"请输入溯源详细描述\"\r\n                        maxlength=\"200\"\r\n                        show-word-limit\r\n                    ></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"上传图片\">\r\n                    <el-upload\r\n                        list-type=\"picture-card\"\r\n                        :auto-upload=\"false\"\r\n                        :limit=\"3\"\r\n                        accept=\"image/*\"\r\n                        :on-change=\"handleFileChange\"\r\n                        :on-preview=\"handlePictureCardPreview\"\r\n                        :on-remove=\"handleRemove\"\r\n                        :file-list=\"traceForm.images\"\r\n                    >\r\n                      <el-icon>\r\n                        <Plus/>\r\n                      </el-icon>\r\n                    </el-upload>\r\n                    <br>\r\n                    <div class=\"el-upload__tip\">最多上传 3 张图片，支持 JPG/PNG 格式。</div>\r\n                  </el-form-item>\r\n\r\n                  <el-dialog v-model=\"dialogVisible\">\r\n                    <img :src=\"dialogImageUrl\" alt=\"Preview Image\"/>\r\n                  </el-dialog>\r\n                </el-form>\r\n                <template #footer>\r\n                  <el-button @click=\"closeAddTraceDialog\">取消</el-button>\r\n                  <el-button type=\"primary\" @click=\"addTraceInfo(selectID)\">提交</el-button>\r\n                </template>\r\n              </el-dialog>\r\n            </div>\r\n          </el-tab-pane>\r\n\r\n          <!-- 新增溯源 -->\r\n          <el-tab-pane name=\"add-trace\">\r\n            <template #label>\r\n              <i class=\"bi bi-plus-circle\" style=\"font-size: 16px; color: #333;\"></i>\r\n              <span style=\"margin-left: 5px; font-weight: bold; font-size: 16px; color: #333;\">新增溯源</span>\r\n            </template>\r\n            <div class=\"row\">\r\n              <!-- 步骤条 -->\r\n              <div class=\"col-3 step-container\">\r\n                <el-steps direction=\"vertical\" :active=\"activeStep\" finish-status=\"success\">\r\n                  <el-step title=\"选择商品\"></el-step>\r\n                  <el-step title=\"录入溯源信息\"></el-step>\r\n                </el-steps>\r\n              </div>\r\n\r\n              <!-- 步骤内容 -->\r\n              <div class=\"col-9\">\r\n                <!-- 第一步：选择商品 -->\r\n                <div v-if=\"activeStep === 0\">\r\n                  <h3 class=\"step-title\">选择商品</h3>\r\n                  <el-divider></el-divider>\r\n                  <div class=\"search-container \">\r\n                    <el-input\r\n                        class=\"search-input\"\r\n                        v-model=\"searchQuery\"\r\n                        placeholder=\"请输入商品名称或商品ID进行搜索\"\r\n                        clearable\r\n                        @keyup.enter=\"searchProducts\"\r\n                    />\r\n                    <el-button type=\"primary\" @click=\"searchProducts\">\r\n                      <el-icon>\r\n                        <Search/>\r\n                      </el-icon>\r\n                      搜索\r\n                    </el-button>\r\n                  </div>\r\n                  <div class=\"row product-grid\">\r\n                    <div\r\n                        class=\"col-md-4 mb-3\"\r\n                        v-for=\"product in filteredProducts\"\r\n                        :key=\"product.id\"\r\n                    >\r\n                      <el-card\r\n                          shadow=\"hover\"\r\n                          :class=\"{'selected-card': selectedProducts.includes(product.goodID)}\"\r\n                          class=\"product-card\"\r\n                          @click=\"toggleProduct(product.goodID)\"\r\n                      >\r\n                        <img\r\n                            :src=\"product.imageUrl\"\r\n                            alt=\"商品图片\"\r\n                            class=\"product-image\"\r\n                        />\r\n                        <p class=\"product-name\">{{ product.name }}</p>\r\n                      </el-card>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"step-actions\">\r\n                    <el-button type=\"primary\" @click=\"nextStep\">下一步</el-button>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 第二步：录入溯源信息 -->\r\n                <div v-else-if=\"activeStep === 1\">\r\n                  <h3 class=\"step-title\">录入溯源信息</h3>\r\n                  <el-divider></el-divider>\r\n                  <el-form\r\n                      ref=\"traceForm\"\r\n                      :model=\"traceForm\"\r\n                      label-width=\"120px\"\r\n                      class=\"trace-form\"\r\n                  >\r\n                    <el-form-item label=\"溯源描述\">\r\n                      <el-input\r\n                          v-model=\"info\"\r\n                          type=\"textarea\"\r\n                          rows=\"5\"\r\n                          placeholder=\"请输入溯源详细描述\"\r\n                          maxlength=\"200\"\r\n                          show-word-limit\r\n                      ></el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"上传图片\">\r\n                      <el-upload\r\n                          list-type=\"picture-card\"\r\n                          :auto-upload=\"false\"\r\n                          :limit=\"3\"\r\n                          accept=\"image/*\"\r\n                          :on-change=\"handleFileChange\"\r\n                          :on-preview=\"handlePictureCardPreview\"\r\n                          :on-remove=\"handleRemove\"\r\n                          :file-list=\"traceForm.images\"\r\n                      >\r\n                        <el-icon>\r\n                          <Plus/>\r\n                        </el-icon>\r\n                      </el-upload>\r\n                      <br>\r\n                      <div class=\"el-upload__tip\">最多上传 3 张图片，支持 JPG/PNG 格式。</div>\r\n                    </el-form-item>\r\n\r\n                    <el-dialog v-model=\"dialogVisible\">\r\n                      <img :src=\"dialogImageUrl\" alt=\"Preview Image\"/>\r\n                    </el-dialog>\r\n                  </el-form>\r\n                  <div class=\"step-actions\">\r\n                    <el-button @click=\"prevStep\">上一步</el-button>\r\n                    <el-button type=\"primary\" @click=\"submitTrace\">提交</el-button>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n\r\n      <div class=\"fixed-selected-products\" v-if=\"activeTab === 'add-trace' && activeStep === 0\">\r\n        <h4>已选商品</h4>\r\n        <div v-if=\"selectedProducts.length === 0\">\r\n          <p>尚未选择任何商品。</p>\r\n        </div>\r\n        <el-card\r\n            v-for=\"id in selectedProducts\"\r\n            :key=\"id\"\r\n            class=\"selected-product-card\"\r\n            shadow=\"hover\"\r\n        >\r\n          <div class=\"d-flex align-items-center\">\r\n            <img\r\n                :src=\"getProductById(id).imageUrl\"\r\n                alt=\"商品图片\"\r\n                class=\"product-thumbnail\"\r\n            />\r\n            <div class=\"ml-2\">\r\n              <p class=\"selected-product-name\">{{ getProductById(id).name }}</p>\r\n              <el-button\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  @click=\"removeProduct(id)\"\r\n                  class=\"remove-btn\"\r\n              >\r\n                移除\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from \"vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport ShopSliderComponent from \"@/components/ShopSliderComponent.vue\";\r\nimport StoreHeaderView from \"@/components/StoreHeaderView.vue\";\r\nimport {useUserShop} from \"@/composables/useShopUser\";\r\nimport {Plus, Search} from \"@element-plus/icons-vue\";\r\nimport axios from \"axios\";\r\n\r\nconst {UserForm, shopForm, initUserSession, initShopInfo} = useUserShop();\r\nconst shopSlider = ref(null);\r\nconst storeHeader = ref(null);\r\n// 当前激活的标签页\r\nconst activeTab = ref(\"trace\");\r\nconst loading = ref(false);\r\nconst traceData = ref([]);\r\nconst activePanels = ref([]);\r\n\r\nasync function initTraceData() {\r\n  try {\r\n    const response = await axios.post('/api/trace/getShopTrace', {\r\n      ShopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data != null) {\r\n      traceData.value = response.data;\r\n    } else\r\n      ElMessage.error(\"获取溯源信息失败\");\r\n  } catch (err) {\r\n    ElMessage.error(\"获取溯源信息失败\");\r\n  }\r\n}\r\n\r\nfunction formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n  const year = date.getFullYear();\r\n  const month = String(date.getMonth() + 1).padStart(2, '0'); // 月份需加1，并补零\r\n  const day = String(date.getDate()).padStart(2, '0'); // 补零\r\n\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nconst dialogTraceVisible = ref(false);\r\nconst selectID = ref(null);\r\nconst openAddTraceDialog = (id) => {\r\n  dialogTraceVisible.value = true;\r\n  selectID.value = id;\r\n};\r\nconst closeAddTraceDialog = () => {\r\n  dialogTraceVisible.value = false;\r\n  traceForm.value = {info: \"\", images: []};\r\n  info.value = \"\";\r\n}\r\n\r\n// 当前步骤\r\nconst activeStep = ref(0);\r\n\r\n// 示例商品数据\r\nconst products = ref([]);\r\nconst filteredProducts = ref([]);\r\n\r\nasync function initProducts() {\r\n  try {\r\n    const response = await axios.post('/api/shop/getAllGoodInfo', {\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data != null) {\r\n      products.value = response.data;\r\n      filteredProducts.value = products.value;\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"获取商品信息失败\");\r\n  }\r\n}\r\n\r\n// 搜索框内容\r\nconst searchQuery = ref(\"\");\r\n\r\n// 过滤后的商品列表\r\nfunction searchProducts() {\r\n  if (searchQuery.value === \"\") {\r\n    filteredProducts.value = products.value;\r\n  } else {\r\n    filteredProducts.value = products.value\r\n        .filter(item =>\r\n            item.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n            item.goodID.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n        )\r\n        .map(item => ({\r\n          ...item,\r\n          specs: item.specs.map(spec => ({...spec, imageUrl: spec.imageUrl.replace(\"@\", \"\")}))\r\n        }));\r\n  }\r\n}\r\n\r\nconst toggleProduct = (id) => {\r\n  const index = selectedProducts.value.indexOf(id);\r\n  if (index === -1) {\r\n    selectedProducts.value.push(id);\r\n  } else {\r\n    selectedProducts.value.splice(index, 1);\r\n  }\r\n};\r\n\r\n// 已选择的商品\r\nconst selectedProducts = ref([]);\r\n\r\nconst getProductById = (id) => {\r\n  return products.value.find((product) => product.goodID === id) || {};\r\n};\r\n\r\nconst removeProduct = (id) => {\r\n  const index = selectedProducts.value.indexOf(id);\r\n  if (index > -1) {\r\n    selectedProducts.value.splice(index, 1);\r\n  }\r\n};\r\n\r\n// 溯源信息表单\r\nconst traceForm = ref({\r\n  info: \"\",\r\n  images: []\r\n})\r\nconst info = ref(\"\");\r\nconst dialogVisible = ref(false); // 控制图片预览弹窗\r\nconst dialogImageUrl = ref(\"\"); // 预览图片的路径\r\nconst MAX_FILE_SIZE = 3 * 1024 * 1024; // 3MB\r\n\r\nconst handleFileChange = (file) => {\r\n  if (file.size > MAX_FILE_SIZE) {\r\n    ElMessage({\r\n      type: 'error',\r\n      message: '文件大小不能超过 3MB',\r\n    });\r\n    return;\r\n  }\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file.raw);\r\n  reader.onload = (e) => {\r\n    if (!traceForm.value.images)\r\n      traceForm.value.images = [];\r\n    traceForm.value.images.push({\r\n      name: file.name,\r\n      url: e.url || URL.createObjectURL(file.raw),\r\n      file: file.raw\r\n    });\r\n  };\r\n};\r\n\r\nconst handleRemove = (file) => {\r\n  traceForm.value.images = traceForm.value.images.filter(item => item.file !== file.raw);\r\n};\r\n\r\nconst handlePictureCardPreview = (file) => {\r\n  dialogImageUrl.value = file.url; // 获取图片的 URL 或原始文件\r\n  dialogVisible.value = true;\r\n};\r\n\r\n// 下一步\r\nconst nextStep = () => {\r\n  if (activeStep.value === 0 && selectedProducts.value.length === 0) {\r\n    ElMessage.error(\"请选择至少一个商品！\");\r\n    return;\r\n  }\r\n  activeStep.value++;\r\n};\r\n\r\n// 上一步\r\nconst prevStep = () => {\r\n  if (activeStep.value === 1) {\r\n    traceForm.value = {info: \"\", images: []};\r\n  }\r\n  if (activeStep.value > 0) activeStep.value--;\r\n};\r\n\r\nasync function submitTraceImg(traceID) {\r\n  const formData = new FormData();\r\n  for (const file of traceForm.value.images) {\r\n    formData.append('images', file.file);\r\n  }\r\n  formData.append('traceInfoID', traceID);\r\n  try {\r\n    const response = await axios.post('/api/trace/uploadImg', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"溯源信息提交成功！\");\r\n      // 清空表单\r\n      info.value = \"\";\r\n      traceForm.value = {info: \"\", images: []};\r\n      selectedProducts.value = [];\r\n      activeStep.value = 0;\r\n      activeTab.value = \"trace\";\r\n      selectID.value = null;\r\n      dialogTraceVisible.value = false;\r\n      await initTraceData();\r\n    } else {\r\n      ElMessage.error(\"上传图片失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"上传图片失败\");\r\n  }\r\n}\r\n\r\n// 提交溯源信息\r\nasync function submitTrace() {\r\n  traceForm.value.info = info.value;\r\n  if (!traceForm.value.info.trim()) {\r\n    ElMessage.error(\"请填写溯源信息！\");\r\n    return;\r\n  }\r\n  if (!traceForm.value.images) {\r\n    ElMessage.error(\"请上传至少一张图片！\");\r\n    return;\r\n  }\r\n  try {\r\n    const response = await axios.post('/api/trace/createTrace', {\r\n      goodIDs: selectedProducts.value,\r\n      info: traceForm.value.info,\r\n      userID: UserForm.value.id,\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.result.code === 200) {\r\n      if (traceForm.value.images) {\r\n        await submitTraceImg(response.data.traceID[1]);\r\n      } else {\r\n        ElMessage.success(\"溯源信息提交成功！\");\r\n        // 清空表单\r\n        info.value = \"\";\r\n        traceForm.value = {info: \"\", images: []};\r\n        selectedProducts.value = [];\r\n        activeStep.value = 0;\r\n        activeTab.value = \"trace\";\r\n        dialogTraceVisible.value = false;\r\n        await initTraceData();\r\n      }\r\n    } else {\r\n      console.log(response.data.result.code);\r\n      ElMessage.error(\"提交溯源信息失败\");\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"提交溯源信息失败\");\r\n  }\r\n}\r\n\r\nasync function addTraceInfo(traceId) {\r\n  traceForm.value.info = info.value;\r\n  if (!traceForm.value.info.trim()) {\r\n    ElMessage.error(\"请填写溯源信息！\");\r\n    return;\r\n  }\r\n  if (!traceForm.value.images) {\r\n    ElMessage.error(\"请上传至少一张图片！\");\r\n    return;\r\n  }\r\n  try {\r\n    const response = await axios.post('/api/trace/addTrace', {\r\n      traceID: traceId,\r\n      info: traceForm.value.info,\r\n      userID: UserForm.value.id,\r\n      shopID: shopForm.value.shopID,\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.result.code === 200) {\r\n      if (traceForm.value.images) {\r\n        await submitTraceImg(response.data.InfoID);\r\n      } else {\r\n        ElMessage.success(\"溯源信息提交成功！\");\r\n        // 清空表单\r\n        info.value = \"\";\r\n        traceForm.value = {info: \"\", images: []};\r\n        selectID.value = null;\r\n        await initTraceData();\r\n      }\r\n    } else {\r\n      ElMessage.error(\"提交溯源信息失败1\")\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error(\"提交溯源信息失败\");\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  loading.value = true;\r\n  initUserSession();\r\n  await initShopInfo();\r\n  shopSlider.value.setActiveIndex('2-2')\r\n  storeHeader.value.setTitle(\"溯源管理\")\r\n  await initTraceData();\r\n  await initProducts();\r\n  loading.value = false;\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.step-container {\r\n  padding-right: 20px;\r\n  border-right: 1px solid #e6e6e6;\r\n}\r\n\r\n.step-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.search-container {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-right: 20px;\r\n\r\n  .search-input {\r\n    padding: 10px;\r\n    font-size: 16px;\r\n    border: 2px solid #ccc;\r\n    border-radius: 8px 0 0 8px;\r\n    outline: none;\r\n    width: 200px;\r\n    border-right: none;\r\n  }\r\n\r\n  .search-button {\r\n    padding: 10px 20px;\r\n    background-color: #e02020;\r\n    color: white;\r\n    font-size: 16px;\r\n    border: 2px solid #e02020;\r\n    border-radius: 0 8px 8px 0;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .search-button:hover {\r\n    background-color: #c21a1a;\r\n    border-color: #c21a1a;\r\n  }\r\n}\r\n\r\n.product-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n  min-height: 60vh;\r\n}\r\n\r\n.product-card {\r\n  text-align: center;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 8px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.product-card:hover {\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  transform: translateY(-3px);\r\n}\r\n\r\n.product-card.selected-card {\r\n  border-color: #409eff;\r\n  background-color: #f0faff;\r\n}\r\n\r\n.product-image {\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-bottom: 10px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n  border: 2px solid #e6e6e6;\r\n}\r\n\r\n.product-name {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.step-actions {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.el-upload {\r\n  margin-top: 10px;\r\n}\r\n\r\n.trace-form {\r\n  padding: 20px;\r\n  background: #fff;\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.trace-form .el-form-item {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-upload {\r\n  margin-top: 10px;\r\n}\r\n\r\n.el-upload .el-icon-plus {\r\n  font-size: 24px;\r\n  color: #409eff;\r\n}\r\n\r\n.el-upload__tip {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n}\r\n\r\n.step-actions {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.step-actions .el-button {\r\n  margin-left: 10px;\r\n}\r\n\r\n.fixed-selected-products {\r\n  position: fixed;\r\n  top: 300px;\r\n  right: 20px;\r\n  width: 300px;\r\n  background: #fff;\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.fixed-selected-products h4 {\r\n  margin-bottom: 16px;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.selected-product-card {\r\n  margin-bottom: 12px;\r\n  padding: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 4px;\r\n}\r\n\r\n.product-thumbnail {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 4px;\r\n  object-fit: cover;\r\n}\r\n\r\n.selected-product-name {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.remove-btn {\r\n  color: #ff4d4f;\r\n  font-size: 12px;\r\n  margin-top: 4px;\r\n}\r\n\r\n/* 折叠面板整体样式 */\r\n.trace-collapse {\r\n  margin-bottom: 20px;\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* 折叠面板标题 */\r\n.collapse-title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: bold;\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n\r\n.collapse-title .el-tag {\r\n  font-size: 12px;\r\n  background-color: #f5f7fa;\r\n  color: #409eff;\r\n}\r\n\r\n/* 时间线样式 */\r\n.timeline-entry {\r\n  padding: 12px 0;\r\n}\r\n\r\n.timeline-content {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n  line-height: 1.5;\r\n  text-align: start;\r\n}\r\n\r\n.timeline-entry img {\r\n  width: 100px;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  margin-top: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 增加溯源信息按钮 */\r\n.add-trace-button {\r\n  text-align: right;\r\n  margin-top: 20px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.add-trace-button .el-button {\r\n  padding: 10px 24px;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 弹窗样式 */\r\n.el-dialog {\r\n  border-radius: 10px;\r\n}\r\n\r\n.el-dialog__header {\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  color: #333;\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-upload .el-icon-plus {\r\n  font-size: 36px;\r\n  color: #409eff;\r\n}\r\n\r\n.el-upload__tip {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n  text-align: left;\r\n}\r\n\r\n.el-upload__trigger:hover {\r\n  background-color: #f5f7fa;\r\n  border: 1px dashed #409eff;\r\n}\r\n\r\n.el-timeline {\r\n  padding: 16px;\r\n  background: #f9f9f9;\r\n  border-radius: 8px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.el-timeline-item__content {\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.timeline-images {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.timeline-image {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n</style>\r\n\r\n"],"mappings":";;EACOA,KAAK,EAAC,QAAQ;EAACC,KAAwC,EAAxC;IAAA;IAAA;EAAA;;;EAEbD,KAAK,EAAC,2BAA2B;EAACC,KAA4B,EAA5B;IAAA;EAAA;;;EAGhCD,KAAK,EAAC;AAAK;;EAkBGA,KAAK,EAAC;AAAgB;;EACnBC,KAAgD,EAAhD;IAAA;IAAA;EAAA;AAAgD;;EAa/CD,KAAK,EAAC;AAAgB;;EACtBC,KAA0E,EAA1E;IAAA;IAAA;IAAA;IAAA;EAAA;AAA0E;;EAE1ED,KAAK,EAAC;AAAkB;;EACtBA,KAAK,EAAC;AAAiB;;EAe/BA,KAAK,EAAC;AAAkB;oBAzD/C;;EA6HiBA,KAAK,EAAC;AAAK;;EAETA,KAAK,EAAC;AAAsB;;EAQ5BA,KAAK,EAAC;AAAO;;EAvIhCE,GAAA;AAAA;;EA4IuBF,KAAK,EAAC;AAAmB;;EAezBA,KAAK,EAAC;AAAkB;oBA3J/C;;EA4K2BA,KAAK,EAAC;AAAc;;EAIxBA,KAAK,EAAC;AAAc;oBAhL3C;;EAiOuBA,KAAK,EAAC;AAAc;;EAjO3CE,GAAA;EA6OWF,KAAK,EAAC;;;EA7OjBE,GAAA;AAAA;;EAwPeF,KAAK,EAAC;AAA2B;oBAxPhD;;EA8PiBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAuB;;;;;;;;;;;;;;;;;;;;;;uBA9P5CG,mBAAA,CA4QM,OA5QNC,UA4QM,GA3QJC,YAAA,CAA4DC,MAAA;IAAvCC,GAAG,EAAC;EAAY,gCACrCC,mBAAA,CAyQM,OAzQNC,UAyQM,GAxQJJ,YAAA,CAAqDC,MAAA;IAApCC,GAAG,EAAC;EAAa,gC,+BAElCJ,mBAAA,CAqOM,OArONO,UAqOM,GApOJL,YAAA,CAmOUM,kBAAA;IA1OlBC,UAAA,EAO0BN,MAAA,CAAAO,SAAS;IAPnC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAO0BT,MAAA,CAAAO,SAAS,GAAAE,MAAA;IAAEf,KAAK,EAAC;;IAP3CgB,OAAA,EAAAC,QAAA,CAQU,MAAa,CAAbC,mBAAA,UAAa,EACbb,YAAA,CA4Gcc,sBAAA;MA5GDC,IAAI,EAAC;IAAO;MACZC,KAAK,EAAAJ,QAAA,CACd,MAAqEH,MAAA,QAAAA,MAAA,OAArEN,mBAAA,CAAqE;QAAlER,KAAK,EAAC,iBAAiB;QAACC,KAAqC,EAArC;UAAA;UAAA;QAAA;kCAC3BO,mBAAA,CAA4F;QAAtFP,KAA0E,EAA1E;UAAA;UAAA;UAAA;UAAA;QAAA;MAA0E,GAAC,MAAI,oB;MAZnGe,OAAA,EAAAC,QAAA,CAcY,MAsGM,CAtGNT,mBAAA,CAsGM,cArGJU,mBAAA,UAAa,EACbb,YAAA,CA8CciB,sBAAA;QA9D5BV,UAAA,EAgBoCN,MAAA,CAAAiB,YAAY;QAhBhD,uBAAAT,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAgBoCT,MAAA,CAAAiB,YAAY,GAAAR,MAAA;QAAEf,KAAK,EAAC;;QAhBxDgB,OAAA,EAAAC,QAAA,CAkBoB,MAAyB,E,kBAD7Bd,mBAAA,CA4CmBqB,SAAA,QA7DnCC,WAAA,CAkBmCnB,MAAA,CAAAoB,SAAS,EAAjBC,IAAI;+BADfC,YAAA,CA4CmBC,2BAAA;YA1Cd3B,GAAG,EAAEyB,IAAI,CAACG,EAAE;YACZC,KAAK,EAAEJ,IAAI,CAACI,KAAK;YACjBX,IAAI,EAAEO,IAAI,CAACG;;YAEHC,KAAK,EAAAd,QAAA,CACd,MAGM,CAHNT,mBAAA,CAGM,OAHNwB,UAGM,GAFJxB,mBAAA,CAAmF,QAAnFyB,UAAmF,EAAAC,gBAAA,CAAzBP,IAAI,CAACQ,UAAU,kBACzE9B,YAAA,CAAwD+B,iBAAA;cAAhDC,IAAI,EAAC;YAAM;cA1BzCrB,OAAA,EAAAC,QAAA,CA0B0C,MAA2B,CA1BrEqB,gBAAA,CAAAJ,gBAAA,CA0B6C5B,MAAA,CAAAiC,UAAU,CAACZ,IAAI,CAACa,IAAI,kB;cA1BjEC,CAAA;;YAAAzB,OAAA,EAAAC,QAAA,CA8BkB,MAyBc,CAzBdZ,YAAA,CAyBcqC,sBAAA;cAvDhC1B,OAAA,EAAAC,QAAA,CAgCwB,MAAsC,E,kBAD1Cd,mBAAA,CAuBmBqB,SAAA,QAtDvCC,WAAA,CAgCiDE,IAAI,CAACgB,OAAO,EAhC7D,CAgCgCC,KAAK,EAAEC,KAAK;qCADxBjB,YAAA,CAuBmBkB,2BAAA;kBArBd5C,GAAG,EAAE2C,KAAK;kBACVE,SAAS,EAAEzC,MAAA,CAAAiC,UAAU,CAACK,KAAK,CAACG,SAAS;kBACtCC,SAAS,EAAC;;kBAnClChC,OAAA,EAAAC,QAAA,CAqCsB,MAgBU,CAhBVZ,YAAA,CAgBU4C,kBAAA;oBArDhCjC,OAAA,EAAAC,QAAA,CAsCwB,MAcM,CAdNT,mBAAA,CAcM,OAdN0C,UAcM,GAbJ1C,mBAAA,CAC0B,KAD1B2C,UAC0B,EADoD,OAC5E,GAAAjB,gBAAA,CAAGU,KAAK,CAACQ,QAAQ,kBACnB5C,mBAAA,CAAmD,KAAnD6C,UAAmD,EAAAnB,gBAAA,CAApBU,KAAK,CAACU,OAAO,kBAC5C9C,mBAAA,CASM,OATN+C,UASM,I,kBARJpD,mBAAA,CAOYqB,SAAA,QAlDxCC,WAAA,CA4C4DmB,KAAK,CAACY,MAAM,EA5CxE,CA4CwCC,KAAK,EAAEC,QAAQ;2CAD3B9B,YAAA,CAOY+B,mBAAA;wBALPzD,GAAG,EAAEwD,QAAQ;wBACbE,GAAG,EAAEH,KAAK;wBACXzD,KAAK,EAAC,gBAAgB;wBACtBC,KAA0B,EAA1B;0BAAA;wBAAA,CAA0B;wBAC1B4D,GAAG,EAAC;;;oBAjDpCpB,CAAA;;kBAAAA,CAAA;;;cAAAA,CAAA;0CAyDkBjC,mBAAA,CAEM,OAFNsD,WAEM,GADJzD,YAAA,CAAiF0D,oBAAA;cAAtE1B,IAAI,EAAC,SAAS;cAAE2B,OAAK,EAAAjD,MAAA,IAAET,MAAA,CAAA2D,kBAAkB,CAACtC,IAAI,CAACG,EAAE;;cA1DhFd,OAAA,EAAAC,QAAA,CA0DmF,MAAM,KAAAH,MAAA,SAAAA,MAAA,QA1DzFwB,gBAAA,CA0DmF,QAAM,E;cA1DzFG,CAAA;;YAAAA,CAAA;;;QAAAA,CAAA;yCA+DcvB,mBAAA,cAAiB,EACjBb,YAAA,CAmDY6D,oBAAA;QAlDRnC,KAAK,EAAC,QAAQ;QAjEhCnB,UAAA,EAkE2BN,MAAA,CAAA6D,kBAAkB;QAlE7C,uBAAArD,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAkE2BT,MAAA,CAAA6D,kBAAkB,GAAApD,MAAA;QAC3BqD,KAAK,EAAC,KAAK;QACV,gBAAc,EAAE,IAAI;QACpB,cAAY,EAAE9D,MAAA,CAAA+D;;QA0CNC,MAAM,EAAArD,QAAA,CACf,MAAsD,CAAtDZ,YAAA,CAAsD0D,oBAAA;UAA1CC,OAAK,EAAE1D,MAAA,CAAA+D;QAAmB;UAhHxDrD,OAAA,EAAAC,QAAA,CAgH0D,MAAEH,MAAA,SAAAA,MAAA,QAhH5DwB,gBAAA,CAgH0D,IAAE,E;UAhH5DG,CAAA;YAiHkBpC,YAAA,CAAwE0D,oBAAA;UAA7D1B,IAAI,EAAC,SAAS;UAAE2B,OAAK,EAAAlD,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAET,MAAA,CAAAiE,YAAY,CAACjE,MAAA,CAAAkE,QAAQ;;UAjHzExD,OAAA,EAAAC,QAAA,CAiH4E,MAAEH,MAAA,SAAAA,MAAA,QAjH9EwB,gBAAA,CAiH4E,IAAE,E;UAjH9EG,CAAA;;QAAAzB,OAAA,EAAAC,QAAA,CAuEgB,MAuCU,CAvCVZ,YAAA,CAuCUoE,kBAAA;UAtCNlE,GAAG,EAAC,WAAW;UACdmE,KAAK,EAAEpE,MAAA,CAAAqE,SAAS;UACjB,aAAW,EAAC,OAAO;UACnB3E,KAAK,EAAC;;UA3E1BgB,OAAA,EAAAC,QAAA,CA6EkB,MASe,CATfZ,YAAA,CASeuE,uBAAA;YATDvD,KAAK,EAAC;UAAM;YA7E5CL,OAAA,EAAAC,QAAA,CA8EoB,MAOY,CAPZZ,YAAA,CAOYwE,mBAAA;cArFhCjE,UAAA,EA+EiCN,MAAA,CAAAwE,IAAI;cA/ErC,uBAAAhE,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA+EiCT,MAAA,CAAAwE,IAAI,GAAA/D,MAAA;cACbsB,IAAI,EAAC,UAAU;cACf0C,IAAI,EAAC,GAAG;cACRC,WAAW,EAAC,WAAW;cACvBC,SAAS,EAAC,KAAK;cACf,iBAAe,EAAf;;YApFxBxC,CAAA;cAwFkBpC,YAAA,CAiBeuE,uBAAA;YAjBDvD,KAAK,EAAC;UAAM;YAxF5CL,OAAA,EAAAC,QAAA,CAyFoB,MAaY,CAbZZ,YAAA,CAaY6E,oBAAA;cAZR,WAAS,EAAC,cAAc;cACvB,aAAW,EAAE,KAAK;cAClBC,KAAK,EAAE,CAAC;cACTC,MAAM,EAAC,SAAS;cACf,WAAS,EAAE9E,MAAA,CAAA+E,gBAAgB;cAC3B,YAAU,EAAE/E,MAAA,CAAAgF,wBAAwB;cACpC,WAAS,EAAEhF,MAAA,CAAAiF,YAAY;cACvB,WAAS,EAAEjF,MAAA,CAAAqE,SAAS,CAACnB;;cAjG9CxC,OAAA,EAAAC,QAAA,CAmGsB,MAEU,CAFVZ,YAAA,CAEUmF,kBAAA;gBArGhCxE,OAAA,EAAAC,QAAA,CAoGwB,MAAO,CAAPZ,YAAA,CAAOC,MAAA,U;gBApG/BmC,CAAA;;cAAAA,CAAA;0EAuGoBjC,mBAAA,CAAI,sC,4BACJA,mBAAA,CAA2D;cAAtDR,KAAK,EAAC;YAAgB,GAAC,2BAAyB,qB;YAxGzEyC,CAAA;cA2GkBpC,YAAA,CAEY6D,oBAAA;YA7G9BtD,UAAA,EA2GsCN,MAAA,CAAAmF,aAAa;YA3GnD,uBAAA3E,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA2GsCT,MAAA,CAAAmF,aAAa,GAAA1E,MAAA;;YA3GnDC,OAAA,EAAAC,QAAA,CA4GoB,MAAgD,CAAhDT,mBAAA,CAAgD;cAA1CoD,GAAG,EAAEtD,MAAA,CAAAoF,cAAc;cAAEC,GAAG,EAAC;oCA5GnDC,WAAA,E;YAAAnD,CAAA;;UAAAA,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;QAuHUvB,mBAAA,UAAa,EACbb,YAAA,CAiHcc,sBAAA;MAjHDC,IAAI,EAAC;IAAW;MAChBC,KAAK,EAAAJ,QAAA,CACd,MAAuEH,MAAA,SAAAA,MAAA,QAAvEN,mBAAA,CAAuE;QAApER,KAAK,EAAC,mBAAmB;QAACC,KAAqC,EAArC;UAAA;UAAA;QAAA;kCAC7BO,mBAAA,CAA4F;QAAtFP,KAA0E,EAA1E;UAAA;UAAA;UAAA;UAAA;QAAA;MAA0E,GAAC,MAAI,oB;MA3HnGe,OAAA,EAAAC,QAAA,CA6HY,MA2GM,CA3GNT,mBAAA,CA2GM,OA3GNqF,WA2GM,GA1GJ3E,mBAAA,SAAY,EACZV,mBAAA,CAKM,OALNsF,WAKM,GAJJzF,YAAA,CAGW0F,mBAAA;QAHDC,SAAS,EAAC,UAAU;QAAEC,MAAM,EAAE3F,MAAA,CAAA4F,UAAU;QAAE,eAAa,EAAC;;QAhIlFlF,OAAA,EAAAC,QAAA,CAiIkB,MAAgC,CAAhCZ,YAAA,CAAgC8F,kBAAA;UAAvBpE,KAAK,EAAC;QAAM,IACrB1B,YAAA,CAAkC8F,kBAAA;UAAzBpE,KAAK,EAAC;QAAQ,G;QAlIzCU,CAAA;uCAsIcvB,mBAAA,UAAa,EACbV,mBAAA,CAgGM,OAhGN4F,WAgGM,GA/FJlF,mBAAA,cAAiB,EACNZ,MAAA,CAAA4F,UAAU,U,cAArB/F,mBAAA,CA0CM,OAnLtBkG,WAAA,G,4BA0IkB7F,mBAAA,CAAgC;QAA5BR,KAAK,EAAC;MAAY,GAAC,MAAI,sBAC3BK,YAAA,CAAyBiG,qBAAA,GACzB9F,mBAAA,CAcM,OAdN+F,WAcM,GAbJlG,YAAA,CAMEwE,mBAAA;QALE7E,KAAK,EAAC,cAAc;QA9I5CY,UAAA,EA+IiCN,MAAA,CAAAkG,WAAW;QA/I5C,uBAAA1F,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA+IiCT,MAAA,CAAAkG,WAAW,GAAAzF,MAAA;QACpBiE,WAAW,EAAC,kBAAkB;QAC9ByB,SAAS,EAAT,EAAS;QACRC,OAAK,EAlJ9BC,SAAA,CAkJsCrG,MAAA,CAAAsG,cAAc;+CAEhCvG,YAAA,CAKY0D,oBAAA;QALD1B,IAAI,EAAC,SAAS;QAAE2B,OAAK,EAAE1D,MAAA,CAAAsG;;QApJtD5F,OAAA,EAAAC,QAAA,CAqJsB,MAEU,CAFVZ,YAAA,CAEUmF,kBAAA;UAvJhCxE,OAAA,EAAAC,QAAA,CAsJwB,MAAS,CAATZ,YAAA,CAASC,MAAA,Y;UAtJjCmC,CAAA;wCAAAH,gBAAA,CAuJgC,MAEZ,G;QAzJpBG,CAAA;YA2JkBjC,mBAAA,CAoBM,OApBNqG,WAoBM,I,kBAnBJ1G,mBAAA,CAkBMqB,SAAA,QA9K1BC,WAAA,CA8J0CnB,MAAA,CAAAwG,gBAAgB,EAA3BC,OAAO;6BAFlB5G,mBAAA,CAkBM;UAjBFH,KAAK,EAAC,eAAe;UAEpBE,GAAG,EAAE6G,OAAO,CAACjF;YAEhBzB,YAAA,CAYU4C,kBAAA;UAXN+D,MAAM,EAAC,OAAO;UACbhH,KAAK,EAnKhCiH,eAAA;YAAA,iBAmKoD3G,MAAA,CAAA4G,gBAAgB,CAACC,QAAQ,CAACJ,OAAO,CAACK,MAAM;UAAA,GAC5D,cAAc;UACnBpD,OAAK,EAAAjD,MAAA,IAAET,MAAA,CAAA+G,aAAa,CAACN,OAAO,CAACK,MAAM;;UArK9DpG,OAAA,EAAAC,QAAA,CAuKwB,MAIE,CAJFT,mBAAA,CAIE;YAHGoD,GAAG,EAAEmD,OAAO,CAACO,QAAQ;YACtB3B,GAAG,EAAC,MAAM;YACV3F,KAAK,EAAC;kCA1KlCuH,WAAA,GA4KwB/G,mBAAA,CAA8C,KAA9CgH,WAA8C,EAAAtF,gBAAA,CAAnB6E,OAAO,CAAC3F,IAAI,iB;UA5K/DqB,CAAA;;wCAgLkBjC,mBAAA,CAEM,OAFNiH,WAEM,GADJpH,YAAA,CAA2D0D,oBAAA;QAAhD1B,IAAI,EAAC,SAAS;QAAE2B,OAAK,EAAE1D,MAAA,CAAAoH;;QAjLtD1G,OAAA,EAAAC,QAAA,CAiLgE,MAAGH,MAAA,SAAAA,MAAA,QAjLnEwB,gBAAA,CAiLgE,KAAG,E;QAjLnEG,CAAA;gBAsLgCnC,MAAA,CAAA4F,UAAU,U,cAA1B/F,mBAAA,CA+CMqB,SAAA;QArOtBtB,GAAA;MAAA,IAqLgBgB,mBAAA,gBAAmB,EACnBV,mBAAA,CA+CM,c,4BA9CJA,mBAAA,CAAkC;QAA9BR,KAAK,EAAC;MAAY,GAAC,QAAM,sBAC7BK,YAAA,CAAyBiG,qBAAA,GACzBjG,YAAA,CAuCUoE,kBAAA;QAtCNlE,GAAG,EAAC,WAAW;QACdmE,KAAK,EAAEpE,MAAA,CAAAqE,SAAS;QACjB,aAAW,EAAC,OAAO;QACnB3E,KAAK,EAAC;;QA7L5BgB,OAAA,EAAAC,QAAA,CA+LoB,MASe,CATfZ,YAAA,CASeuE,uBAAA;UATDvD,KAAK,EAAC;QAAM;UA/L9CL,OAAA,EAAAC,QAAA,CAgMsB,MAOY,CAPZZ,YAAA,CAOYwE,mBAAA;YAvMlCjE,UAAA,EAiMmCN,MAAA,CAAAwE,IAAI;YAjMvC,uBAAAhE,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAiMmCT,MAAA,CAAAwE,IAAI,GAAA/D,MAAA;YACbsB,IAAI,EAAC,UAAU;YACf0C,IAAI,EAAC,GAAG;YACRC,WAAW,EAAC,WAAW;YACvBC,SAAS,EAAC,KAAK;YACf,iBAAe,EAAf;;UAtM1BxC,CAAA;YA0MoBpC,YAAA,CAiBeuE,uBAAA;UAjBDvD,KAAK,EAAC;QAAM;UA1M9CL,OAAA,EAAAC,QAAA,CA2MsB,MAaY,CAbZZ,YAAA,CAaY6E,oBAAA;YAZR,WAAS,EAAC,cAAc;YACvB,aAAW,EAAE,KAAK;YAClBC,KAAK,EAAE,CAAC;YACTC,MAAM,EAAC,SAAS;YACf,WAAS,EAAE9E,MAAA,CAAA+E,gBAAgB;YAC3B,YAAU,EAAE/E,MAAA,CAAAgF,wBAAwB;YACpC,WAAS,EAAEhF,MAAA,CAAAiF,YAAY;YACvB,WAAS,EAAEjF,MAAA,CAAAqE,SAAS,CAACnB;;YAnNhDxC,OAAA,EAAAC,QAAA,CAqNwB,MAEU,CAFVZ,YAAA,CAEUmF,kBAAA;cAvNlCxE,OAAA,EAAAC,QAAA,CAsN0B,MAAO,CAAPZ,YAAA,CAAOC,MAAA,U;cAtNjCmC,CAAA;;YAAAA,CAAA;wEAyNsBjC,mBAAA,CAAI,sC,4BACJA,mBAAA,CAA2D;YAAtDR,KAAK,EAAC;UAAgB,GAAC,2BAAyB,qB;UA1N3EyC,CAAA;YA6NoBpC,YAAA,CAEY6D,oBAAA;UA/NhCtD,UAAA,EA6NwCN,MAAA,CAAAmF,aAAa;UA7NrD,uBAAA3E,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA6NwCT,MAAA,CAAAmF,aAAa,GAAA1E,MAAA;;UA7NrDC,OAAA,EAAAC,QAAA,CA8NsB,MAAgD,CAAhDT,mBAAA,CAAgD;YAA1CoD,GAAG,EAAEtD,MAAA,CAAAoF,cAAc;YAAEC,GAAG,EAAC;kCA9NrDgC,WAAA,E;UAAAlF,CAAA;;QAAAA,CAAA;oCAiOkBjC,mBAAA,CAGM,OAHNoH,WAGM,GAFJvH,YAAA,CAA4C0D,oBAAA;QAAhCC,OAAK,EAAE1D,MAAA,CAAAuH;MAAQ;QAlO/C7G,OAAA,EAAAC,QAAA,CAkOiD,MAAGH,MAAA,SAAAA,MAAA,QAlOpDwB,gBAAA,CAkOiD,KAAG,E;QAlOpDG,CAAA;UAmOoBpC,YAAA,CAA6D0D,oBAAA;QAAlD1B,IAAI,EAAC,SAAS;QAAE2B,OAAK,EAAE1D,MAAA,CAAAwH;;QAnOtD9G,OAAA,EAAAC,QAAA,CAmOmE,MAAEH,MAAA,SAAAA,MAAA,QAnOrEwB,gBAAA,CAmOmE,IAAE,E;QAnOrEG,CAAA;iEAAAvB,mBAAA,e;MAAAuB,CAAA;;IAAAA,CAAA;8DAMkCnC,MAAA,CAAAyH,OAAO,E,GAuOQzH,MAAA,CAAAO,SAAS,oBAAoBP,MAAA,CAAA4F,UAAU,U,cAAlF/F,mBAAA,CA8BM,OA9BN6H,WA8BM,G,4BA7BJxH,mBAAA,CAAa,YAAT,MAAI,sBACGF,MAAA,CAAA4G,gBAAgB,CAACe,MAAM,U,cAAlC9H,mBAAA,CAEM,OAjPd+H,WAAA,EAAApH,MAAA,SAAAA,MAAA,QAgPUN,mBAAA,CAAgB,WAAb,WAAS,oB,MAhPtBU,mBAAA,iB,kBAkPQf,mBAAA,CAwBUqB,SAAA,QA1QlBC,WAAA,CAmPyBnB,MAAA,CAAA4G,gBAAgB,EAAtBpF,EAAE;yBADbF,YAAA,CAwBUqB,kBAAA;MAtBL/C,GAAG,EAAE4B,EAAE;MACR9B,KAAK,EAAC,uBAAuB;MAC7BgH,MAAM,EAAC;;MAtPnBhG,OAAA,EAAAC,QAAA,CAwPU,MAiBM,CAjBNT,mBAAA,CAiBM,OAjBN2H,WAiBM,GAhBJ3H,mBAAA,CAIE;QAHGoD,GAAG,EAAEtD,MAAA,CAAA8H,cAAc,CAACtG,EAAE,EAAEwF,QAAQ;QACjC3B,GAAG,EAAC,MAAM;QACV3F,KAAK,EAAC;8BA5PtBqI,WAAA,GA8PY7H,mBAAA,CAUM,OAVN8H,WAUM,GATJ9H,mBAAA,CAAkE,KAAlE+H,WAAkE,EAAArG,gBAAA,CAA9B5B,MAAA,CAAA8H,cAAc,CAACtG,EAAE,EAAEV,IAAI,kBAC3Df,YAAA,CAOY0D,oBAAA;QANR1B,IAAI,EAAC,MAAM;QACXmG,IAAI,EAAC,OAAO;QACXxE,OAAK,EAAAjD,MAAA,IAAET,MAAA,CAAAmI,aAAa,CAAC3G,EAAE;QACxB9B,KAAK,EAAC;;QApQxBgB,OAAA,EAAAC,QAAA,CAqQe,MAED,KAAAH,MAAA,SAAAA,MAAA,QAvQdwB,gBAAA,CAqQe,MAED,E;QAvQdG,CAAA;;MAAAA,CAAA;;sCAAAvB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}