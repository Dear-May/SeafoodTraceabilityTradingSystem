{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, onMounted, ref, watch } from 'vue';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport router from \"@/router\";\nimport axios from 'axios';\nimport FooterComponent from \"@/components/FooterComponent.vue\";\nimport RightWidgetComponent from \"@/components/RightWidgetComponent.vue\";\nimport HeaderComponent from \"@/components/HeaderComponent.vue\";\nimport AvatarChangComponent from \"@/components/AvatarChangComponent.vue\";\nimport { Document, Location, Setting, User } from \"@element-plus/icons-vue\";\nimport GiteeLoginComponent from \"@/components/GiteeLoginComponent.vue\";\nimport GitHubLoginComponent from \"@/components/GitHubLoginComponent.vue\";\nimport GoogleLoginComponent from \"@/components/GoogleLoginComponent.vue\";\nimport WechatLoginComponent from \"@/components/WechatLoginComponent.vue\";\nexport default {\n  __name: 'AccountInformationView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const activeTab = ref('account-info');\n    const UserInfoForm = ref({\n      id: '',\n      name: '',\n      avatar: '',\n      nickname: '',\n      email: '',\n      phone: '',\n      changPhone: '',\n      giteeid: '',\n      giteename: '',\n      githubid: '',\n      githubname: '',\n      googleid: '',\n      googlename: '',\n      wechatid: '',\n      wechatname: '',\n      password: ''\n    });\n    const bindingInfo = ref([]);\n    const showChangePhoneDialogVisible = ref(false);\n\n    // 检测是否存在session，如果存在，填写用户信息\n    const userBaseInfoFromSession = JSON.parse(sessionStorage.getItem('userBaseInfo'));\n    if (userBaseInfoFromSession) {\n      UserInfoForm.value.id = userBaseInfoFromSession.id;\n      UserInfoForm.value.name = userBaseInfoFromSession.username;\n      UserInfoForm.value.avatar = userBaseInfoFromSession.avatar;\n      UserInfoForm.value.nickname = userBaseInfoFromSession.nickname;\n      console.log(UserInfoForm.value);\n    } else {\n      router.push('/');\n    }\n    async function bindAccountForm() {\n      if (UserInfoForm.value.giteeid !== null) {\n        const newAccount = {\n          platform: 'Gitee',\n          id: UserInfoForm.value.giteeid,\n          name: UserInfoForm.value.giteename,\n          status: '使用中',\n          username: UserInfoForm.value.name\n        };\n        bindingInfo.value.push(newAccount);\n      }\n      if (UserInfoForm.value.githubid !== null) {\n        const newAccount = {\n          platform: 'GitHub',\n          id: UserInfoForm.value.githubid.toString(),\n          name: UserInfoForm.value.githubname,\n          status: '使用中',\n          username: UserInfoForm.value.name\n        };\n        bindingInfo.value.push(newAccount);\n      }\n      if (UserInfoForm.value.googleid !== null) {\n        const newAccount = {\n          platform: 'Google',\n          id: UserInfoForm.value.googleid,\n          name: UserInfoForm.value.googlename,\n          status: '使用中',\n          username: UserInfoForm.value.name\n        };\n        bindingInfo.value.push(newAccount);\n      }\n      if (UserInfoForm.value.wechatid !== null) {\n        const newAccount = {\n          platform: '微信',\n          id: UserInfoForm.value.wechatid,\n          name: UserInfoForm.value.wechatname,\n          status: '使用中',\n          username: UserInfoForm.value.name\n        };\n        bindingInfo.value.push(newAccount);\n      }\n    }\n    async function makePhone() {\n      if (UserInfoForm.value.phone.length >= 7) {\n        return UserInfoForm.value.phone.substring(0, 3) + '****' + UserInfoForm.value.phone.substring(7, UserInfoForm.value.phone.length);\n      }\n      return UserInfoForm.value.phone;\n    }\n    async function fetchUserInfo() {\n      const response = await axios.post('/api/user/findUserById', {\n        id: UserInfoForm.value.id,\n        name: UserInfoForm.value.name\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      });\n      if (response.data.id !== null) {\n        UserInfoForm.value.phone = response.data.phone;\n        UserInfoForm.value.email = response.data.email;\n        UserInfoForm.value.giteeid = response.data.giteeid;\n        UserInfoForm.value.giteename = response.data.giteename;\n        UserInfoForm.value.githubid = response.data.githubid;\n        UserInfoForm.value.githubname = response.data.githubname;\n        UserInfoForm.value.googleid = response.data.googleid;\n        UserInfoForm.value.googlename = response.data.googlename;\n        UserInfoForm.value.wechatid = response.data.wechatid;\n        UserInfoForm.value.wechatname = response.data.wechatname;\n        UserInfoForm.value.password = response.data.password.substring(0, 12);\n        UserInfoForm.value.changPhone = await makePhone();\n        registerForm.value.phone = response.data.phone;\n        await bindAccountForm();\n      } else {\n        ElMessage.error('获取用户信息失败，请重新登录');\n      }\n    }\n    const password_sms = ref('');\n    const smsForm = ref({\n      phone: '',\n      code: ''\n    });\n    const wait_sms = ref(60);\n    const isButtonDisabled_sms = ref(false);\n    const buttonText_sms = ref('获取验证码');\n    watch(wait_sms, newValue => {\n      if (newValue === 0) {\n        isButtonDisabled_sms.value = false;\n        buttonText_sms.value = '获取验证码';\n        wait_sms.value = 60; // 重置计时器\n      } else {\n        buttonText_sms.value = `${newValue}秒后可以重新发送`;\n      }\n    });\n    async function handleLogin(password) {\n      try {\n        const response = await axios.post('/api/user/login', {\n          username: UserInfoForm.value.name,\n          password: password\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          return true;\n        } else {\n          ElMessage.error('密码错误！请重新输入！');\n          password_sms.value = '';\n          smsForm.value.phone = '';\n          smsForm.value.code = '';\n          return false;\n        }\n      } catch (error) {\n        console.error('Error during login:', error.message);\n        return false;\n      }\n    }\n    async function getMsgNum_sms() {\n      if (smsForm.value.phone === UserInfoForm.value.phone) {\n        ElMessage.error('请勿绑定相同的手机号码！');\n      }\n      const password_1 = password_sms.value;\n      if (await handleLogin(password_1)) {\n        setButtonStatus_sms(); // 设置按钮状态\n        try {\n          const response = await axios.post('/api/sms/smsXxs', {\n            phoneNumber: smsForm.value.phone\n          }, {\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            withCredentials: true\n          });\n          if (response.data.isOk === \"OK\") {\n            ElMessage.success('验证码已发送到您的手机，请注意查收！');\n          } else {\n            ElMessage.error('验证码发送失败，请稍后再试！');\n          }\n        } catch (error) {\n          console.error(\"发送验证码错误:\", error);\n        }\n      }\n    }\n\n    // 设置按钮状态\n    function setButtonStatus_sms() {\n      isButtonDisabled_sms.value = true;\n      wait_sms.value = wait_sms.value > 0 ? wait_sms.value : 60; // 确保初始值有效\n      countdown_sms();\n    }\n\n    // 计时功能\n    function countdown_sms() {\n      if (wait_sms.value > 0) {\n        setTimeout(() => {\n          wait_sms.value -= 1;\n          countdown_sms();\n        }, 1000);\n      }\n    }\n    function clearForm_sms() {\n      password_sms.value = '';\n      smsForm.value.phone = '';\n      smsForm.value.code = '';\n      isButtonDisabled_sms.value = false;\n      showChangePhoneDialogVisible.value = false;\n    }\n    async function validateNum_sms() {\n      if (smsForm.value.phone.length === 0 || smsForm.value.phone.length === 0) {\n        ElMessage.error('请输入手机号码和验证码！');\n        return;\n      }\n      const data = {\n        verifyCode: smsForm.value.code,\n        phone: smsForm.value.phone\n      };\n      try {\n        const response = await axios.post('/api/sms/validateNum', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.result === 404) {\n          ElMessage.error('过期验证码已失效!');\n        } else if (response.data.result === 500) {\n          ElMessage.error('验证码错误，请重新输入！');\n        } else {\n          await changPhone(smsForm.value.phone);\n        }\n      } catch (error) {\n        console.error(\"验证错误:\", error);\n      }\n    }\n    async function changPhone(phone) {\n      const data = {\n        id: UserInfoForm.value.id,\n        phone: phone,\n        name: UserInfoForm.value.name\n      };\n      try {\n        const response = await axios.post('/api/user/updateUserPhone', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          ElMessage.success('手机号码修改成功！');\n          window.location.reload();\n        } else {\n          ElMessage.error('手机号码修改失败，请稍后再试！');\n        }\n      } catch (error) {\n        console.error(\"修改手机号码错误:\", error);\n      }\n    }\n    const showChangeEmailDialogVisible = ref(false);\n    const emailForm = ref({\n      email: '',\n      code: ''\n    });\n    const password_email = ref('');\n    const wait_email = ref(60);\n    const isButtonDisabled_email = ref(false);\n    const buttonText_email = ref('获取验证码');\n    watch(wait_email, newValue => {\n      if (newValue === 0) {\n        isButtonDisabled_email.value = false;\n        buttonText_email.value = '获取验证码';\n        wait_email.value = 60; // 重置计时器\n      } else {\n        buttonText_email.value = `${newValue}秒后可以重新发送`;\n      }\n    });\n    async function getMsgNum_email() {\n      if (emailForm.value.email === UserInfoForm.value.email) {\n        ElMessage.error('请勿绑定相同的邮箱！');\n      }\n      const password_1 = password_email.value;\n      if (await handleLogin(password_1)) {\n        setButtonStatus_email(); // 设置按钮状态\n        try {\n          const response = await axios.post('/api/email/send', {\n            email: emailForm.value.email\n          }, {\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            withCredentials: true\n          });\n          if (response.data.code === 200) {\n            ElMessage.success('验证码已发送到您的邮箱，请注意查收！');\n          } else {\n            ElMessage.error('验证码发送失败，请稍后再试！');\n          }\n        } catch (error) {\n          console.error(\"发送验证码错误:\", error);\n        }\n      }\n    }\n\n    // 设置按钮状态\n    function setButtonStatus_email() {\n      isButtonDisabled_email.value = true;\n      wait_email.value = wait_email.value > 0 ? wait_email.value : 60; // 确保初始值有效\n      countdown_email();\n    }\n\n    // 计时功能\n    function countdown_email() {\n      if (wait_email.value > 0) {\n        setTimeout(() => {\n          wait_email.value -= 1;\n          countdown_email();\n        }, 1000);\n      }\n    }\n    function clearForm_email() {\n      password_email.value = '';\n      emailForm.value.email = '';\n      emailForm.value.code = '';\n      isButtonDisabled_email.value = false;\n      showChangeEmailDialogVisible.value = false;\n    }\n    async function validateNum_email() {\n      if (emailForm.value.email.length === 0 || emailForm.value.code.length === 0) {\n        ElMessage.error('请输入邮箱和验证码！');\n        return;\n      }\n      const data = {\n        verCode: emailForm.value.code,\n        email: emailForm.value.email\n      };\n      try {\n        const response = await axios.post('/api/email/validateNum', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 400) {\n          ElMessage.error('过期验证码已失效!');\n        } else if (response.data.code === 500) {\n          ElMessage.error('验证码错误，请重新输入！');\n        } else {\n          await changEmail(emailForm.value.email);\n        }\n      } catch (error) {\n        console.error(\"验证错误:\", error);\n      }\n    }\n    async function changEmail(email) {\n      const data = {\n        id: UserInfoForm.value.id,\n        email: email,\n        name: UserInfoForm.value.name\n      };\n      try {\n        const response = await axios.post('/api/user/updateUserEmail', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          ElMessage.success('邮箱修改成功！');\n          window.location.reload();\n        } else {\n          ElMessage.error('邮箱修改失败，请稍后再试！');\n        }\n      } catch (error) {\n        console.error(\"修改邮箱错误:\", error);\n      }\n    }\n    const showChangePasswordDialogVisible = ref(false);\n    const oldPassword = ref('');\n    const NewPassword = ref('');\n    const passwordStrength = ref('弱');\n    const confirmPassword = ref('');\n    const registerForm = ref({\n      username: UserInfoForm.value.name,\n      phone: '',\n      email: '',\n      password: ''\n    });\n    function checkPasswordStrength() {\n      const passwordValue = NewPassword.value;\n      let strength = '弱';\n\n      // 判断密码长度\n      const lengthCriteria = passwordValue.length >= 8;\n      const hasUpperCase = /[A-Z]/.test(passwordValue);\n      const hasLowerCase = /[a-z]/.test(passwordValue);\n      const hasNumbers = /\\d/.test(passwordValue);\n      const hasSpecialChars = /[!@#$%^&*(),.?\":{}|<>]/.test(passwordValue);\n\n      // 强度等级判断\n      const criteriaMet = [lengthCriteria, hasUpperCase, hasLowerCase, hasNumbers, hasSpecialChars].filter(Boolean).length;\n      if (criteriaMet >= 4) {\n        strength = '高';\n      } else if (criteriaMet >= 2) {\n        strength = '中';\n      }\n      passwordStrength.value = strength;\n    }\n    const passwordStrengthClass = computed(() => {\n      switch (passwordStrength.value) {\n        case '高':\n          return 'high-strength';\n        case '中':\n          return 'medium-strength';\n        case '弱':\n        default:\n          return 'low-strength';\n      }\n    });\n    const canCompleteRegistration = computed(() => {\n      return NewPassword.value === confirmPassword.value && passwordStrength.value !== '弱';\n    });\n    function clearForm_password() {\n      passwordStrength.value = '弱';\n      oldPassword.value = '';\n      NewPassword.value = '';\n      confirmPassword.value = '';\n      showChangePasswordDialogVisible.value = false;\n    }\n    async function completeForgetPassword() {\n      if (NewPassword.value === confirmPassword.value && passwordStrength.value !== '弱') {\n        registerForm.value.password = NewPassword.value;\n        try {\n          const response = await axios.post('/api/user/forgetPassword', registerForm.value, {\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            withCredentials: true\n          });\n          console.log(response.data.code);\n          if (response.data.code === 200) {\n            ElMessage.success('密码修改成功！');\n            window.location.reload();\n          } else {\n            ElMessage.error('密码修改失败，请稍后再试！');\n          }\n        } catch (error) {\n          ElMessage.error('密码修改失败，请稍后再试！');\n        }\n      } else {\n        ElMessage.error('密码不符合要求，请重新输入！');\n      }\n    }\n    function handlePersonalSetting() {\n      setTimeout(() => {\n        router.push('/profile/account_profile');\n      }, 500);\n    }\n    function handleAddressManagement() {\n      setTimeout(() => {\n        router.push('/profile/address');\n      }, 500);\n    }\n    function handleForgetPassword() {\n      setTimeout(() => {\n        router.replace('/forgotPassword');\n      }, 500);\n    }\n    const showChangeWechatDialogVisible = ref(false);\n    async function unbindAccount(account) {\n      const response = await axios.post('/api/user/unbindAccount', account, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      });\n      if (response.data.code === 200) {\n        ElMessage({\n          type: 'warning',\n          message: `已成功解除绑定: ${account.platform}`\n        });\n        bindingInfo.value = bindingInfo.value.filter(a => a !== account);\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      } else {\n        ElMessage.error('解除绑定失败，请稍后再试！');\n      }\n    }\n    function deleteUser() {\n      ElMessageBox.confirm('确认删除该用户？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      });\n    }\n    onMounted(async () => {\n      await fetchUserInfo();\n    });\n    const __returned__ = {\n      activeTab,\n      UserInfoForm,\n      bindingInfo,\n      showChangePhoneDialogVisible,\n      userBaseInfoFromSession,\n      bindAccountForm,\n      makePhone,\n      fetchUserInfo,\n      password_sms,\n      smsForm,\n      wait_sms,\n      isButtonDisabled_sms,\n      buttonText_sms,\n      handleLogin,\n      getMsgNum_sms,\n      setButtonStatus_sms,\n      countdown_sms,\n      clearForm_sms,\n      validateNum_sms,\n      changPhone,\n      showChangeEmailDialogVisible,\n      emailForm,\n      password_email,\n      wait_email,\n      isButtonDisabled_email,\n      buttonText_email,\n      getMsgNum_email,\n      setButtonStatus_email,\n      countdown_email,\n      clearForm_email,\n      validateNum_email,\n      changEmail,\n      showChangePasswordDialogVisible,\n      oldPassword,\n      NewPassword,\n      passwordStrength,\n      confirmPassword,\n      registerForm,\n      checkPasswordStrength,\n      passwordStrengthClass,\n      canCompleteRegistration,\n      clearForm_password,\n      completeForgetPassword,\n      handlePersonalSetting,\n      handleAddressManagement,\n      handleForgetPassword,\n      showChangeWechatDialogVisible,\n      unbindAccount,\n      deleteUser,\n      computed,\n      onMounted,\n      ref,\n      watch,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get ElMessageBox() {\n        return ElMessageBox;\n      },\n      get router() {\n        return router;\n      },\n      get axios() {\n        return axios;\n      },\n      FooterComponent,\n      RightWidgetComponent,\n      HeaderComponent,\n      AvatarChangComponent,\n      get Document() {\n        return Document;\n      },\n      get Location() {\n        return Location;\n      },\n      get Setting() {\n        return Setting;\n      },\n      get User() {\n        return User;\n      },\n      GiteeLoginComponent,\n      GitHubLoginComponent,\n      GoogleLoginComponent,\n      WechatLoginComponent\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","watch","ElMessage","ElMessageBox","router","axios","FooterComponent","RightWidgetComponent","HeaderComponent","AvatarChangComponent","Document","Location","Setting","User","GiteeLoginComponent","GitHubLoginComponent","GoogleLoginComponent","WechatLoginComponent","activeTab","UserInfoForm","id","name","avatar","nickname","email","phone","changPhone","giteeid","giteename","githubid","githubname","googleid","googlename","wechatid","wechatname","password","bindingInfo","showChangePhoneDialogVisible","userBaseInfoFromSession","JSON","parse","sessionStorage","getItem","value","username","console","log","push","bindAccountForm","newAccount","platform","status","toString","makePhone","length","substring","fetchUserInfo","response","post","headers","withCredentials","data","registerForm","error","password_sms","smsForm","code","wait_sms","isButtonDisabled_sms","buttonText_sms","newValue","handleLogin","message","getMsgNum_sms","password_1","setButtonStatus_sms","phoneNumber","isOk","success","countdown_sms","setTimeout","clearForm_sms","validateNum_sms","verifyCode","result","window","location","reload","showChangeEmailDialogVisible","emailForm","password_email","wait_email","isButtonDisabled_email","buttonText_email","getMsgNum_email","setButtonStatus_email","countdown_email","clearForm_email","validateNum_email","verCode","changEmail","showChangePasswordDialogVisible","oldPassword","NewPassword","passwordStrength","confirmPassword","checkPasswordStrength","passwordValue","strength","lengthCriteria","hasUpperCase","test","hasLowerCase","hasNumbers","hasSpecialChars","criteriaMet","filter","Boolean","passwordStrengthClass","canCompleteRegistration","clearForm_password","completeForgetPassword","handlePersonalSetting","handleAddressManagement","handleForgetPassword","replace","showChangeWechatDialogVisible","unbindAccount","account","type","a","deleteUser","confirm","confirmButtonText","cancelButtonText"],"sources":["D:/Cache/Java/shopping/shoppping_c_frontend/src/views/AccountInformationView.vue"],"sourcesContent":["<template>\r\n  <div class=\"account-management-page\">\r\n    <HeaderComponent/>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"d-flex flex-column flex-shrink-0 p-3 bg-body-tertiary sidebar\"\r\n             style=\"width: 280px; height: 115vh; background-color: #d3d3d3;\">\r\n          <AvatarChangComponent/>\r\n          <hr>\r\n          <el-menu\r\n              active-text-color=\"#e02020\"\r\n              background-color=\"#d3d3d3\"\r\n              class=\"el-menu-vertical-demo\"\r\n              default-active=\"1-1\"\r\n              text-color=\"#303133\"\r\n              @open=\"handleOpen\"\r\n              @close=\"handleClose\"\r\n              style=\"border-radius: 10px;\"\r\n          >\r\n            <el-sub-menu index=\"1\">\r\n              <template #title>\r\n                <el-icon>\r\n                  <user/>\r\n                </el-icon>\r\n                <span style=\"font-weight: bold; font-size: 18px;\">账号管理</span>\r\n              </template>\r\n              <el-menu-item-group>\r\n                <el-menu-item index=\"1-1\" style=\"font-size: 16px; font-weight: bold;\">\r\n                  安全设置\r\n                </el-menu-item>\r\n                <el-menu-item index=\"1-2\" style=\"font-size: 16px; font-weight: bold;\" @click=\"handlePersonalSetting\">\r\n                  个性设置\r\n                </el-menu-item>\r\n              </el-menu-item-group>\r\n            </el-sub-menu>\r\n            <el-menu-item index=\"2\" @click=\"handleAddressManagement\">\r\n              <el-icon>\r\n                <Location/>\r\n              </el-icon>\r\n              <span style=\"font-weight: bold; font-size: 18px;\">售后地址管理</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"3\">\r\n              <el-icon>\r\n                <document/>\r\n              </el-icon>\r\n              <span style=\"font-weight: bold; font-size: 18px;\">帮助中心</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"4\">\r\n              <el-icon>\r\n                <setting/>\r\n              </el-icon>\r\n              <span style=\"font-weight: bold; font-size: 18px;\" @click=\"handleForgetPassword\">忘记密码</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n          <template>\r\n            <footer>\r\n              <hr>\r\n            </footer>\r\n          </template>\r\n        </div>\r\n        <div class=\"col-9 main-content\">\r\n          <el-tabs v-model=\"activeTab\">\r\n            <el-tab-pane label=\"账号信息\" name=\"account-info\">\r\n              <div class=\"account-info\">\r\n                <h4 style=\"text-align: left; font-weight: bold;\">登录账号</h4>\r\n                <el-divider></el-divider>\r\n                <div class=\"form-group mt-3\" style=\"text-align: left\">\r\n                  <label for=\"name\">\r\n                    <a class=\"d-flex align-items-left link-body-emphasis text-decoration-none\"\r\n                       style=\"font-weight: bold;\">用户名：<span>{{\r\n                        UserInfoForm.name\r\n                      }}</span></a>\r\n                  </label>\r\n                </div>\r\n                <div class=\"form-group mt-3\" style=\"text-align: left\">\r\n                  <label for=\"phone\" class=\"mb-3\">\r\n                    <a style=\"font-weight: bold;\">登录手机号</a>&nbsp;&nbsp;\r\n                    <el-tag type=\"success\" class=\"ml-3\" v-if=\"UserInfoForm.phone\">已验证</el-tag>\r\n                    <el-tag type=\"danger\" class=\"ml-3\" v-else>未验证</el-tag>\r\n                    &nbsp;&nbsp;\r\n                    <el-tooltip\r\n                        class=\"box-item\"\r\n                        effect=\"dark\"\r\n                        content=\"根据国家相关法律法规的要求，帐号最少要求绑定有一个手机号码。\"\r\n                        placement=\"right-start\"\r\n                    >\r\n                      <i class=\"bi bi-question-circle\"></i>\r\n                    </el-tooltip>\r\n                  </label>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <input type=\"text\" id=\"phone\" class=\"form-control\" style=\"width: 20%\" disabled\r\n                           v-model=\"UserInfoForm.changPhone\">\r\n                    <el-button type=\"primary\" size=\"default\" class=\"ms-3\"\r\n                               style=\"background-color: #e02020; border-color: #e02020;\"\r\n                               @click=\"showChangePhoneDialogVisible = true\">\r\n                      换绑手机号\r\n                    </el-button>\r\n\r\n                    <el-dialog\r\n                        v-model=\"showChangePhoneDialogVisible\"\r\n                        title=\"账号安全验证\"\r\n                        width=\"600px\"\r\n                        :visible=\"showChangePhoneDialogVisible\"\r\n                    >\r\n                      <div>\r\n                        <a style=\"font-weight: bold\">您正在进行敏感操作，继续操作前请验证您的身份</a>\r\n                        <el-alert\r\n                            title=\"更换号码后，您将无法通过【原手机号码+密码】登录\"\r\n                            type=\"warning\"\r\n                            :closable=\"false\"\r\n                            class=\"mt-3 mb-3\"\r\n                            style=\"font-size: 18px\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group mt-2\">\r\n                        <label for=\"password\" class=\"mb-3\"><a style=\"font-weight: bold\">密码验证</a></label><br>\r\n                        <el-input\r\n                            type=\"password\"\r\n                            placeholder=\"请输入当前账号密码\"\r\n                            v-model=\"password_sms\"\r\n                            style=\"width: 100%; height: 50%\"\r\n                            show-password\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group mt-3\">\r\n                        <label for=\"sms-code\"><a style=\"font-weight: bold\">短信验证</a></label>\r\n                        <el-input v-model=\"smsForm.phone\" id=\"phone\" placeholder=\"手机号\"\r\n                                  class=\"custom-input mb-2\"></el-input>\r\n                        <div class=\"d-flex align-items-center\">\r\n                          <el-input\r\n                              type=\"text\"\r\n                              placeholder=\"请输入短信验证码\"\r\n                              v-model=\"smsForm.code\"\r\n                              style=\"width: 70%;height: 50%\"\r\n                          />\r\n                          <el-button\r\n                              id=\"captcha-button\"\r\n                              type=\"primary\"\r\n                              :disabled=\"isButtonDisabled_sms\"\r\n                              @click=\"getMsgNum_sms\"\r\n                              class=\"sms-code-button\"\r\n                              style=\"width: 30%\"\r\n                          >\r\n                            {{ buttonText_sms }}\r\n                          </el-button>\r\n                        </div>\r\n                      </div>\r\n                      <template #footer>\r\n                        <div class=\"dialog-footer\">\r\n                          <el-button @click=clearForm_sms>取消</el-button>\r\n                          <el-button type=\"primary\" @click=\"validateNum_sms\">下一步</el-button>\r\n                        </div>\r\n                      </template>\r\n                    </el-dialog>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group mt-3\" style=\"text-align: left\">\r\n                  <label for=\"phone\" class=\"mb-3\">\r\n                    <a style=\"font-weight: bold;\">登录邮箱</a>&nbsp;&nbsp;\r\n                    <el-tag type=\"success\" class=\"ml-3\" v-if=\"UserInfoForm.email\">已验证</el-tag>\r\n                    <el-tag type=\"danger\" class=\"ml-3\" v-else>未验证</el-tag>\r\n                  </label>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <input type=\"text\" id=\"email\" class=\"form-control\" style=\"width: 20%\" disabled\r\n                           v-model=\"UserInfoForm.email\">\r\n                    <el-button type=\"primary\" size=\"default\" class=\"ms-3\"\r\n                               style=\"background-color: #e02020; border-color: #e02020;\"\r\n                               @click=\"showChangeEmailDialogVisible = true\">\r\n                      换绑邮箱\r\n                    </el-button>\r\n\r\n                    <el-dialog\r\n                        v-model=\"showChangeEmailDialogVisible\"\r\n                        title=\"账号安全验证\"\r\n                        width=\"600px\"\r\n                        :visible=\"showChangeEmailDialogVisible\"\r\n                    >\r\n                      <div>\r\n                        <a style=\"font-weight: bold\">您正在进行敏感操作，继续操作前请验证您的身份</a>\r\n                        <el-alert\r\n                            title=\"更换号码后，您将无法通过【原邮箱+密码】登录\"\r\n                            type=\"warning\"\r\n                            :closable=\"false\"\r\n                            class=\"mt-3 mb-3\"\r\n                            style=\"font-size: 18px\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group mt-2\">\r\n                        <label for=\"password\" class=\"mb-3\"><a style=\"font-weight: bold\">密码验证</a></label><br>\r\n                        <el-input\r\n                            type=\"password\"\r\n                            placeholder=\"请输入当前账号密码\"\r\n                            v-model=\"password_email\"\r\n                            style=\"width: 100%; height: 50%\"\r\n                            show-password\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group mt-3\">\r\n                        <label for=\"sms-code\"><a style=\"font-weight: bold\">邮箱验证</a></label>\r\n                        <el-input v-model=\"emailForm.email\" id=\"email\" placeholder=\"邮箱\"\r\n                                  class=\"custom-input mb-2\"></el-input>\r\n                        <div class=\"d-flex align-items-center\">\r\n                          <el-input\r\n                              type=\"text\"\r\n                              placeholder=\"请输入邮箱验证码\"\r\n                              v-model=\"emailForm.code\"\r\n                              style=\"width: 70%;height: 50%\"\r\n                          />\r\n                          <el-button\r\n                              id=\"captcha-button\"\r\n                              type=\"primary\"\r\n                              :disabled=\"isButtonDisabled_email\"\r\n                              @click=\"getMsgNum_email\"\r\n                              class=\"sms-code-button\"\r\n                              style=\"width: 30%\"\r\n                          >\r\n                            {{ buttonText_email }}\r\n                          </el-button>\r\n                        </div>\r\n                      </div>\r\n                      <template #footer>\r\n                        <div class=\"dialog-footer\">\r\n                          <el-button @click=\"clearForm_email\">取消</el-button>\r\n                          <el-button type=\"primary\" @click=\"validateNum_email\">下一步</el-button>\r\n                        </div>\r\n                      </template>\r\n                    </el-dialog>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group mt-3 mb-5\" style=\"text-align: left\">\r\n                  <label for=\"phone\" class=\"mb-3\">\r\n                    <a style=\"font-weight: bold;\">登录密码</a>\r\n                  </label>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <input type=\"password\" id=\"password\" class=\"form-control\" style=\"width: 20%\" disabled\r\n                           v-model=\"UserInfoForm.password\">\r\n                    <el-button type=\"primary\" size=\"default\" class=\"ms-3\"\r\n                               style=\"background-color: #e02020; border-color: #e02020;\"\r\n                               @click=\"showChangePasswordDialogVisible = true\">更换密码\r\n                    </el-button>\r\n                    <el-dialog\r\n                        v-model=\"showChangePasswordDialogVisible\"\r\n                        title=\"修改密码\"\r\n                        width=\"600px\"\r\n                        :visible=\"showChangePasswordDialogVisible\"\r\n                    >\r\n                      <div>\r\n                        <a style=\"font-weight: bold\">修改密码后，您将无法通过【原密码】登录</a>\r\n                      </div>\r\n                      <div class=\"form-group mt-2\">\r\n                        <label for=\"old-password\" class=\"mb-3\"><a style=\"font-weight: bold\">旧密码</a></label><br>\r\n                        <el-input\r\n                            type=\"password\"\r\n                            placeholder=\"请输入当前账号密码\"\r\n                            v-model=\"oldPassword\"\r\n                            style=\"width: 100%; height: 50%\"\r\n                            show-password\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group mt-3\">\r\n                        <el-input v-model=\"NewPassword\" type=\"password\" placeholder=\"请输入新密码\"\r\n                                  @input=\"checkPasswordStrength\" show-password class=\"custom-input\"></el-input>\r\n                        <div class=\"password-strength-wrapper\">\r\n                          <div class=\"password-strength-bar\">\r\n                            <div class=\"strength-segment\"\r\n                                 :class=\"{ 'low-strength-segment': passwordStrength === '弱' ,'medium-strength-segment': passwordStrength === '中' ,'high-strength-segment': passwordStrength === '高' }\"></div>\r\n                            <div class=\"strength-segment\"\r\n                                 :class=\"{ 'medium-strength-segment': passwordStrength === '中','high-strength-segment': passwordStrength === '高' }\"></div>\r\n                            <div class=\"strength-segment\"\r\n                                 :class=\"{ 'high-strength-segment': passwordStrength === '高' }\"></div>\r\n                          </div>\r\n                          <span :class=\"passwordStrengthClass\">{{ passwordStrength }}</span>\r\n                        </div>\r\n                        <el-input v-model=\"confirmPassword\" type=\"password\" placeholder=\"确认密码\" show-password\r\n                                  class=\"custom-input\" @paste.prevent=\"\"></el-input>\r\n                      </div>\r\n                      <template #footer>\r\n                        <div class=\"dialog-footer\">\r\n                          <el-button @click=\"clearForm_password\">取消</el-button>\r\n                          <el-button type=\"primary\" :disabled=\"!canCompleteRegistration\"\r\n                                     :class=\"{ 'disabled-button': !canCompleteRegistration }\"\r\n                                     @click=\"completeForgetPassword\" block\r\n                                     class=\"register-button\">修改密码\r\n                          </el-button>\r\n                        </div>\r\n                      </template>\r\n                    </el-dialog>\r\n                  </div>\r\n                </div>\r\n                <h4 style=\"text-align: left; font-weight: bold;\">第三方账号绑定</h4>\r\n                <el-divider></el-divider>\r\n                <a style=\"text-align: center; font-weight: bold;\">使用以下任一方式都可以登录到您的 海潮\r\n                  帐号，避免由于某个帐号失效导致无法登录</a>\r\n                <div class=\"binding-table\">\r\n                  <el-table :data=\"bindingInfo\" style=\"width: 100%\" class=\"mb-4\">\r\n                    <el-table-column prop=\"platform\" label=\"平台\" width=\"100\"></el-table-column>\r\n                    <el-table-column prop=\"id\" label=\"绑定账号ID\"></el-table-column>\r\n                    <el-table-column prop=\"name\" label=\"绑定账号名称\"></el-table-column>\r\n                    <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n                      <template #default=\"scope\">\r\n                        <el-tag type=\"success\" v-if=\"scope.row.status === '使用中'\">使用中</el-tag>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\" width=\"150\">\r\n                      <template #default=\"scope\">\r\n                        <el-button type=\"danger\" @click=\"unbindAccount(scope.row)\" size=\"small\"\r\n                                   style=\"background-color: #e02020; border-color: #e02020;\">解除绑定\r\n                        </el-button>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                  <div\r\n                      v-if=\"UserInfoForm.giteeid=== null || UserInfoForm.githubid === null || UserInfoForm.googleid=== null || UserInfoForm.wechatid=== null\">\r\n                    <a style=\"text-align: left; font-weight: bold;\">你还可以绑定以下第三方帐号</a>\r\n                    <div class=\"d-flex justify-content-between\">\r\n                      <div v-if=\"UserInfoForm.giteeid === null\" class=\"align-items-center\">\r\n                        <GiteeLoginComponent/>\r\n                        <br>\r\n                        <span class=\"ms-3\">Gitee</span>\r\n                      </div>\r\n                      <div v-if=\"UserInfoForm.githubid === null\" class=\"align-items-center\">\r\n                        <GitHubLoginComponent/>\r\n                        <br>\r\n                        <span class=\"ms-3\">GitHub</span>\r\n                      </div>\r\n                      <div v-if=\"UserInfoForm.googleid === null\" class=\"align-items-center\">\r\n                        <GoogleLoginComponent/>\r\n                        <br>\r\n                        <span class=\"ms-3\">Google</span>\r\n                      </div>\r\n                      <div v-if=\"UserInfoForm.wechatid === null\" class=\"align-items-center\">\r\n                        <i class=\"bi bi-wechat\" style=\"font-size: 30px; color: #e02020;\"\r\n                           @click=\"showChangeWechatDialogVisible = true\"></i>\r\n                        <el-dialog\r\n                            v-model=\"showChangeWechatDialogVisible\"\r\n                            title=\"绑定微信\"\r\n                            width=\"600px\"\r\n                            :visible=\"showChangeWechatDialogVisible\"\r\n                        >\r\n                          <div>\r\n                            <a style=\"font-weight: bold\">绑定微信后，您将可以通过微信登录海潮帐号</a>\r\n                          </div>\r\n                          <WechatLoginComponent/>\r\n                          <template #footer>\r\n                            <div class=\"dialog-footer\">\r\n                              <el-button @click=\"showChangeWechatDialogVisible = false\">取消</el-button>\r\n                            </div>\r\n                          </template>\r\n                        </el-dialog>\r\n                        <br>\r\n                        <span class=\"ms-3\">微信</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <h4 style=\"text-align: left; font-weight: bold;\" class=\"mt-5\">注销账号</h4>\r\n                  <el-divider></el-divider>\r\n                  <div class=\"container\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-10\">\r\n                        <a style=\"text-align: left; font-weight: bold;\">\r\n                          注销 海潮 帐号是不可恢复的操作，你应自行备份 海潮\r\n                          帐号相关的信息和数据。注销帐号后你将丢失该帐号自注册以来产生的数据和记录，注销后相关数据将不可恢复。</a>\r\n                      </div>\r\n                      <div class=\"col-2\">\r\n                        <el-button type=\"danger\" @click=\"deleteUser()\" size=\"large\"\r\n                                   style=\"background-color: #e02020; border-color: #e02020;\">注销 海潮 帐号\r\n                        </el-button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <RightWidgetComponent/>\r\n  <FooterComponent/>\r\n</template>\r\n\r\n<script setup>\r\nimport {computed, onMounted, ref, watch} from 'vue';\r\nimport {ElMessage, ElMessageBox} from 'element-plus';\r\nimport router from \"@/router\";\r\nimport axios from 'axios';\r\nimport FooterComponent from \"@/components/FooterComponent.vue\";\r\nimport RightWidgetComponent from \"@/components/RightWidgetComponent.vue\";\r\nimport HeaderComponent from \"@/components/HeaderComponent.vue\";\r\nimport AvatarChangComponent from \"@/components/AvatarChangComponent.vue\";\r\nimport {Document, Location, Setting, User} from \"@element-plus/icons-vue\";\r\nimport GiteeLoginComponent from \"@/components/GiteeLoginComponent.vue\";\r\nimport GitHubLoginComponent from \"@/components/GitHubLoginComponent.vue\";\r\nimport GoogleLoginComponent from \"@/components/GoogleLoginComponent.vue\";\r\nimport WechatLoginComponent from \"@/components/WechatLoginComponent.vue\";\r\n\r\nconst activeTab = ref('account-info');\r\nconst UserInfoForm = ref({\r\n  id: '',\r\n  name: '',\r\n  avatar: '',\r\n  nickname: '',\r\n  email: '',\r\n  phone: '',\r\n  changPhone: '',\r\n  giteeid: '',\r\n  giteename: '',\r\n  githubid: '',\r\n  githubname: '',\r\n  googleid: '',\r\n  googlename: '',\r\n  wechatid: '',\r\n  wechatname: '',\r\n  password: ''\r\n})\r\nconst bindingInfo = ref([]);\r\nconst showChangePhoneDialogVisible = ref(false)\r\n\r\n// 检测是否存在session，如果存在，填写用户信息\r\nconst userBaseInfoFromSession = JSON.parse(sessionStorage.getItem('userBaseInfo'));\r\nif (userBaseInfoFromSession) {\r\n  UserInfoForm.value.id = userBaseInfoFromSession.id;\r\n  UserInfoForm.value.name = userBaseInfoFromSession.username;\r\n  UserInfoForm.value.avatar = userBaseInfoFromSession.avatar;\r\n  UserInfoForm.value.nickname = userBaseInfoFromSession.nickname;\r\n  console.log(UserInfoForm.value)\r\n} else {\r\n  router.push('/');\r\n}\r\n\r\nasync function bindAccountForm() {\r\n  if (UserInfoForm.value.giteeid !== null) {\r\n    const newAccount = {\r\n      platform: 'Gitee',\r\n      id: UserInfoForm.value.giteeid,\r\n      name: UserInfoForm.value.giteename,\r\n      status: '使用中',\r\n      username: UserInfoForm.value.name,\r\n    };\r\n    bindingInfo.value.push(newAccount);\r\n  }\r\n  if (UserInfoForm.value.githubid !== null) {\r\n    const newAccount = {\r\n      platform: 'GitHub',\r\n      id: UserInfoForm.value.githubid.toString(),\r\n      name: UserInfoForm.value.githubname,\r\n      status: '使用中',\r\n      username: UserInfoForm.value.name,\r\n    };\r\n    bindingInfo.value.push(newAccount);\r\n  }\r\n  if (UserInfoForm.value.googleid !== null) {\r\n    const newAccount = {\r\n      platform: 'Google',\r\n      id: UserInfoForm.value.googleid,\r\n      name: UserInfoForm.value.googlename,\r\n      status: '使用中',\r\n      username: UserInfoForm.value.name,\r\n    };\r\n    bindingInfo.value.push(newAccount);\r\n  }\r\n  if (UserInfoForm.value.wechatid !== null) {\r\n    const newAccount = {\r\n      platform: '微信',\r\n      id: UserInfoForm.value.wechatid,\r\n      name: UserInfoForm.value.wechatname,\r\n      status: '使用中',\r\n      username: UserInfoForm.value.name,\r\n    };\r\n    bindingInfo.value.push(newAccount);\r\n  }\r\n}\r\n\r\nasync function makePhone() {\r\n  if (UserInfoForm.value.phone.length >= 7) {\r\n    return UserInfoForm.value.phone.substring(0, 3) + '****' + UserInfoForm.value.phone.substring(7, UserInfoForm.value.phone.length);\r\n  }\r\n  return UserInfoForm.value.phone;\r\n}\r\n\r\nasync function fetchUserInfo() {\r\n  const response = await axios.post('/api/user/findUserById', {\r\n    id: UserInfoForm.value.id,\r\n    name: UserInfoForm.value.name\r\n  }, {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    withCredentials: true\r\n  });\r\n  if (response.data.id !== null) {\r\n    UserInfoForm.value.phone = response.data.phone;\r\n    UserInfoForm.value.email = response.data.email;\r\n    UserInfoForm.value.giteeid = response.data.giteeid;\r\n    UserInfoForm.value.giteename = response.data.giteename;\r\n    UserInfoForm.value.githubid = response.data.githubid;\r\n    UserInfoForm.value.githubname = response.data.githubname;\r\n    UserInfoForm.value.googleid = response.data.googleid;\r\n    UserInfoForm.value.googlename = response.data.googlename;\r\n    UserInfoForm.value.wechatid = response.data.wechatid;\r\n    UserInfoForm.value.wechatname = response.data.wechatname;\r\n    UserInfoForm.value.password = response.data.password.substring(0, 12);\r\n    UserInfoForm.value.changPhone = await makePhone();\r\n    registerForm.value.phone = response.data.phone;\r\n    await bindAccountForm();\r\n  } else {\r\n    ElMessage.error('获取用户信息失败，请重新登录');\r\n  }\r\n}\r\n\r\nconst password_sms = ref('');\r\nconst smsForm = ref({\r\n  phone: '',\r\n  code: ''\r\n});\r\nconst wait_sms = ref(60);\r\nconst isButtonDisabled_sms = ref(false);\r\nconst buttonText_sms = ref('获取验证码');\r\n\r\nwatch(wait_sms, (newValue) => {\r\n  if (newValue === 0) {\r\n    isButtonDisabled_sms.value = false;\r\n    buttonText_sms.value = '获取验证码';\r\n    wait_sms.value = 60; // 重置计时器\r\n  } else {\r\n    buttonText_sms.value = `${newValue}秒后可以重新发送`;\r\n  }\r\n});\r\n\r\nasync function handleLogin(password) {\r\n  try {\r\n    const response = await axios.post('/api/user/login', {\r\n      username: UserInfoForm.value.name,\r\n      password: password,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      return true;\r\n    } else {\r\n      ElMessage.error('密码错误！请重新输入！');\r\n      password_sms.value = '';\r\n      smsForm.value.phone = '';\r\n      smsForm.value.code = '';\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    console.error('Error during login:', error.message);\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function getMsgNum_sms() {\r\n  if (smsForm.value.phone === UserInfoForm.value.phone) {\r\n    ElMessage.error('请勿绑定相同的手机号码！');\r\n  }\r\n  const password_1 = password_sms.value;\r\n  if (await handleLogin(password_1)) {\r\n    setButtonStatus_sms(); // 设置按钮状态\r\n    try {\r\n      const response = await axios.post('/api/sms/smsXxs', {\r\n        phoneNumber: smsForm.value.phone,\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        withCredentials: true\r\n      });\r\n\r\n      if (response.data.isOk === \"OK\") {\r\n        ElMessage.success('验证码已发送到您的手机，请注意查收！');\r\n      } else {\r\n        ElMessage.error('验证码发送失败，请稍后再试！');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"发送验证码错误:\", error);\r\n    }\r\n  }\r\n}\r\n\r\n// 设置按钮状态\r\nfunction setButtonStatus_sms() {\r\n  isButtonDisabled_sms.value = true;\r\n  wait_sms.value = wait_sms.value > 0 ? wait_sms.value : 60; // 确保初始值有效\r\n  countdown_sms();\r\n}\r\n\r\n// 计时功能\r\nfunction countdown_sms() {\r\n  if (wait_sms.value > 0) {\r\n    setTimeout(() => {\r\n      wait_sms.value -= 1;\r\n      countdown_sms();\r\n    }, 1000);\r\n  }\r\n}\r\n\r\nfunction clearForm_sms() {\r\n  password_sms.value = '';\r\n  smsForm.value.phone = '';\r\n  smsForm.value.code = '';\r\n  isButtonDisabled_sms.value = false;\r\n  showChangePhoneDialogVisible.value = false;\r\n}\r\n\r\nasync function validateNum_sms() {\r\n  if (smsForm.value.phone.length === 0 || smsForm.value.phone.length === 0) {\r\n    ElMessage.error('请输入手机号码和验证码！');\r\n    return;\r\n  }\r\n  const data = {\r\n    verifyCode: smsForm.value.code,\r\n    phone: smsForm.value.phone,\r\n  };\r\n\r\n  try {\r\n    const response = await axios.post('/api/sms/validateNum', data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.result === 404) {\r\n      ElMessage.error('过期验证码已失效!');\r\n    } else if (response.data.result === 500) {\r\n      ElMessage.error('验证码错误，请重新输入！');\r\n    } else {\r\n      await changPhone(smsForm.value.phone);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"验证错误:\", error);\r\n  }\r\n}\r\n\r\nasync function changPhone(phone) {\r\n  const data = {\r\n    id: UserInfoForm.value.id,\r\n    phone: phone,\r\n    name: UserInfoForm.value.name,\r\n  };\r\n  try {\r\n    const response = await axios.post('/api/user/updateUserPhone', data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.code === 200) {\r\n      ElMessage.success('手机号码修改成功！');\r\n      window.location.reload();\r\n    } else {\r\n      ElMessage.error('手机号码修改失败，请稍后再试！');\r\n    }\r\n  } catch (error) {\r\n    console.error(\"修改手机号码错误:\", error);\r\n  }\r\n}\r\n\r\nconst showChangeEmailDialogVisible = ref(false);\r\nconst emailForm = ref({\r\n  email: '',\r\n  code: ''\r\n});\r\nconst password_email = ref('');\r\nconst wait_email = ref(60);\r\nconst isButtonDisabled_email = ref(false);\r\nconst buttonText_email = ref('获取验证码');\r\nwatch(wait_email, (newValue) => {\r\n  if (newValue === 0) {\r\n    isButtonDisabled_email.value = false;\r\n    buttonText_email.value = '获取验证码';\r\n    wait_email.value = 60; // 重置计时器\r\n  } else {\r\n    buttonText_email.value = `${newValue}秒后可以重新发送`;\r\n  }\r\n});\r\n\r\nasync function getMsgNum_email() {\r\n  if (emailForm.value.email === UserInfoForm.value.email) {\r\n    ElMessage.error('请勿绑定相同的邮箱！');\r\n  }\r\n  const password_1 = password_email.value;\r\n  if (await handleLogin(password_1)) {\r\n    setButtonStatus_email(); // 设置按钮状态\r\n    try {\r\n      const response = await axios.post('/api/email/send', {\r\n        email: emailForm.value.email,\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        withCredentials: true\r\n      });\r\n      if (response.data.code === 200) {\r\n        ElMessage.success('验证码已发送到您的邮箱，请注意查收！');\r\n      } else {\r\n        ElMessage.error('验证码发送失败，请稍后再试！');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"发送验证码错误:\", error);\r\n    }\r\n  }\r\n}\r\n\r\n// 设置按钮状态\r\nfunction setButtonStatus_email() {\r\n  isButtonDisabled_email.value = true;\r\n  wait_email.value = wait_email.value > 0 ? wait_email.value : 60; // 确保初始值有效\r\n  countdown_email();\r\n}\r\n\r\n// 计时功能\r\nfunction countdown_email() {\r\n  if (wait_email.value > 0) {\r\n    setTimeout(() => {\r\n      wait_email.value -= 1;\r\n      countdown_email();\r\n    }, 1000);\r\n  }\r\n}\r\n\r\nfunction clearForm_email() {\r\n  password_email.value = '';\r\n  emailForm.value.email = '';\r\n  emailForm.value.code = '';\r\n  isButtonDisabled_email.value = false;\r\n  showChangeEmailDialogVisible.value = false;\r\n}\r\n\r\nasync function validateNum_email() {\r\n  if (emailForm.value.email.length === 0 || emailForm.value.code.length === 0) {\r\n    ElMessage.error('请输入邮箱和验证码！');\r\n    return;\r\n  }\r\n  const data = {\r\n    verCode: emailForm.value.code,\r\n    email: emailForm.value.email,\r\n  };\r\n  try {\r\n    const response = await axios.post('/api/email/validateNum', data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 400) {\r\n      ElMessage.error('过期验证码已失效!');\r\n    } else if (response.data.code === 500) {\r\n      ElMessage.error('验证码错误，请重新输入！');\r\n    } else {\r\n      await changEmail(emailForm.value.email);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"验证错误:\", error);\r\n  }\r\n}\r\n\r\nasync function changEmail(email) {\r\n  const data = {\r\n    id: UserInfoForm.value.id,\r\n    email: email,\r\n    name: UserInfoForm.value.name,\r\n  };\r\n  try {\r\n    const response = await axios.post('/api/user/updateUserEmail', data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.code === 200) {\r\n      ElMessage.success('邮箱修改成功！');\r\n      window.location.reload();\r\n    } else {\r\n      ElMessage.error('邮箱修改失败，请稍后再试！');\r\n    }\r\n  } catch (error) {\r\n    console.error(\"修改邮箱错误:\", error);\r\n  }\r\n}\r\n\r\nconst showChangePasswordDialogVisible = ref(false);\r\nconst oldPassword = ref('');\r\nconst NewPassword = ref('');\r\nconst passwordStrength = ref('弱');\r\nconst confirmPassword = ref('');\r\nconst registerForm = ref({\r\n  username: UserInfoForm.value.name,\r\n  phone: '',\r\n  email: '',\r\n  password: ''\r\n});\r\n\r\nfunction checkPasswordStrength() {\r\n  const passwordValue = NewPassword.value;\r\n  let strength = '弱';\r\n\r\n  // 判断密码长度\r\n  const lengthCriteria = passwordValue.length >= 8;\r\n  const hasUpperCase = /[A-Z]/.test(passwordValue);\r\n  const hasLowerCase = /[a-z]/.test(passwordValue);\r\n  const hasNumbers = /\\d/.test(passwordValue);\r\n  const hasSpecialChars = /[!@#$%^&*(),.?\":{}|<>]/.test(passwordValue);\r\n\r\n  // 强度等级判断\r\n  const criteriaMet = [lengthCriteria, hasUpperCase, hasLowerCase, hasNumbers, hasSpecialChars].filter(Boolean).length;\r\n\r\n  if (criteriaMet >= 4) {\r\n    strength = '高';\r\n  } else if (criteriaMet >= 2) {\r\n    strength = '中';\r\n  }\r\n  passwordStrength.value = strength;\r\n}\r\n\r\nconst passwordStrengthClass = computed(() => {\r\n  switch (passwordStrength.value) {\r\n    case '高':\r\n      return 'high-strength';\r\n    case '中':\r\n      return 'medium-strength';\r\n    case '弱':\r\n    default:\r\n      return 'low-strength';\r\n  }\r\n});\r\n\r\nconst canCompleteRegistration = computed(() => {\r\n  return NewPassword.value === confirmPassword.value && passwordStrength.value !== '弱';\r\n});\r\n\r\nfunction clearForm_password() {\r\n  passwordStrength.value = '弱';\r\n  oldPassword.value = '';\r\n  NewPassword.value = '';\r\n  confirmPassword.value = '';\r\n  showChangePasswordDialogVisible.value = false;\r\n}\r\n\r\nasync function completeForgetPassword() {\r\n  if (NewPassword.value === confirmPassword.value && passwordStrength.value !== '弱') {\r\n    registerForm.value.password = NewPassword.value;\r\n    try {\r\n      const response = await axios.post('/api/user/forgetPassword', registerForm.value, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        withCredentials: true\r\n      })\r\n      console.log(response.data.code);\r\n      if (response.data.code === 200) {\r\n        ElMessage.success('密码修改成功！');\r\n        window.location.reload();\r\n      } else {\r\n        ElMessage.error('密码修改失败，请稍后再试！');\r\n      }\r\n    } catch (error) {\r\n      ElMessage.error('密码修改失败，请稍后再试！');\r\n    }\r\n  } else {\r\n    ElMessage.error('密码不符合要求，请重新输入！');\r\n  }\r\n}\r\n\r\nfunction handlePersonalSetting() {\r\n  setTimeout(() => {\r\n    router.push('/profile/account_profile');\r\n  }, 500);\r\n}\r\n\r\nfunction handleAddressManagement() {\r\n  setTimeout(() => {\r\n    router.push('/profile/address');\r\n  }, 500);\r\n}\r\n\r\nfunction handleForgetPassword() {\r\n  setTimeout(() => {\r\n    router.replace('/forgotPassword');\r\n  }, 500);\r\n}\r\n\r\nconst showChangeWechatDialogVisible = ref(false);\r\n\r\nasync function unbindAccount(account) {\r\n  const response = await axios.post('/api/user/unbindAccount', account, {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    withCredentials: true\r\n  })\r\n  if (response.data.code === 200) {\r\n    ElMessage({\r\n      type: 'warning',\r\n      message: `已成功解除绑定: ${account.platform}`,\r\n    });\r\n    bindingInfo.value = bindingInfo.value.filter(a => a !== account);\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 1000);\r\n  } else {\r\n    ElMessage.error('解除绑定失败，请稍后再试！');\r\n  }\r\n}\r\n\r\nfunction deleteUser() {\r\n  ElMessageBox.confirm('确认删除该用户？', '提示', {\r\n    confirmButtonText: '确定',\r\n    cancelButtonText: '取消',\r\n    type: 'warning'\r\n  })\r\n}\r\n\r\nonMounted(async () => {\r\n  await fetchUserInfo();\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.account-management-page {\r\n  font-family: Arial, sans-serif;\r\n  display: flex;\r\n  padding: 20px;\r\n}\r\n\r\n.sidebar {\r\n  margin-top: 90px;\r\n  background-color: #ffffff;\r\n  padding: 20px;\r\n  border-right: 1px solid #eaeaea;\r\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\r\n  height: 70%;\r\n}\r\n\r\n.nav {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n.nav-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.nav-link {\r\n  font-weight: bold;\r\n  color: #e02020;\r\n  text-decoration: none;\r\n}\r\n\r\n.nav-link.active {\r\n  background-color: #e02020;\r\n  color: white !important;\r\n}\r\n\r\n.sub-nav {\r\n  list-style: none;\r\n  padding-left: 20px;\r\n}\r\n\r\n.sub-nav li {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.main-content {\r\n  margin-top: 90px;\r\n  padding: 20px;\r\n  background-color: #ffffff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.order-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.order-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 15px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.order-number {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.password-strength-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.password-strength-bar {\r\n  display: flex;\r\n  width: 70%;\r\n  height: 10px;\r\n  background-color: #e0e0e0;\r\n  border-radius: 5px;\r\n}\r\n\r\n.strength-segment {\r\n  flex: 1;\r\n  height: 100%;\r\n  margin-right: 2px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.low-strength-segment {\r\n  background-color: #f56c6c;\r\n}\r\n\r\n.medium-strength-segment {\r\n  background-color: #e6a23c;\r\n}\r\n\r\n.high-strength-segment {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.password-strength-text {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n\r\n.binding-table {\r\n  margin-top: 20px;\r\n}\r\n\r\n.night-mode {\r\n  background-color: #2e2e2e;\r\n  color: #e0e0e0;\r\n}\r\n\r\n.night-mode .account-management-page {\r\n  background-color: #2e2e2e;\r\n}\r\n\r\n.night-mode .row {\r\n  background-color: #2e2e2e;\r\n  color: #e0e0e0;\r\n}\r\n\r\n.night-mode .body {\r\n  background-color: #2e2e2e;\r\n}\r\n\r\n.night-mode .header {\r\n  background-color: #3c3c3c;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.night-mode .sidebar {\r\n  background-color: #3c3c3c;\r\n  border-right: 1px solid #444;\r\n}\r\n\r\n.night-mode .sidebar .el-menu-item {\r\n  background-color: #3c3c3c;\r\n  color: #e0e0e0;\r\n}\r\n\r\n.night-mode .sidebar.el-menu-item:hover {\r\n  background-color: #4c4c4c;\r\n}\r\n\r\n.night-mode .main-content,\r\n.night-mode .profile-section,\r\n.night-mode .order-section,\r\n.night-mode .logistics-section,\r\n.night-mode .logistics-item,\r\n.night-mode .profile-card,\r\n.night-mode .promotion-card {\r\n  background-color: #3c3c3c;\r\n  color: #e0e0e0;\r\n}\r\n\r\n.night-mode .order-icon,\r\n.night-mode .logistics-action {\r\n  color: #ffa500;\r\n}\r\n\r\n.night-mode .right-widget {\r\n  background-color: #3c3c3c;\r\n  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.night-mode .footer {\r\n  background-color: #2e2e2e;\r\n  border-top: 1px solid #333;\r\n}\r\n\r\n.night-mode .footer-links a {\r\n  color: #ffffff;\r\n}\r\n\r\n.night-mode .footer-links a:hover {\r\n  color: #e02020;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}