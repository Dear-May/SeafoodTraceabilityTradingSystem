{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport HeaderComponent from \"@/components/HeaderComponent.vue\";\nimport FooterComponent from \"@/components/FooterComponent.vue\";\nimport RightWidgetComponent from \"@/components/RightWidgetComponent.vue\";\nimport { ArrowDown, ArrowUp, Location, OfficeBuilding, Tickets } from \"@element-plus/icons-vue\";\nimport { onBeforeUnmount, onMounted, ref } from \"vue\";\nimport { ElMessage } from \"element-plus\";\nimport axios from \"axios\";\nimport router from \"@/router\";\nimport useUser from \"@/composables/useUser\";\nconst value = 4.8;\n\n// 数据定义\nconst isDark = false;\nexport default {\n  __name: 'GoodInfoView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const {\n      UserInfoForm,\n      initUserSession\n    } = useUser();\n    const goodID = ref();\n    const shopForm = ref({\n      id: \"\",\n      name: \"\",\n      description: \"\",\n      avatar: \"\"\n    });\n    const goodForm = ref({\n      name: \"\",\n      location: \"\",\n      uploadTime: \"\",\n      spec: [{\n        name: \"\",\n        value: \"\"\n      }],\n      images: [{\n        image: \"\"\n      }]\n    });\n    const good_big_show = ref();\n    const showPrice = ref();\n    const selectSpecId = ref();\n    const addresses = [];\n    const showAddress = ref();\n    const selectAddressId = ref();\n    const isFavorite = ref(false);\n    const traceData = ref([]);\n    const table = ref(false);\n    const activeTab = ref(\"\");\n    async function loadTraceData() {\n      try {\n        const response = await axios.post('/api/trace/getGoodTrace', {\n          GoodID: goodID.value\n        }, {\n          headers: {\n            'Content-Type': 'application/json;charset=UTF-8'\n          },\n          withCredentials: true\n        });\n        if (response.data != null) traceData.value = response.data;else ElMessage.error(\"获取溯源信息失败\");\n      } catch (e) {\n        ElMessage.error(\"获取溯源信息失败\");\n      }\n    }\n    const openDrawer = async () => {\n      await loadTraceData();\n      activeTab.value = traceData.value[0]?.id; // 默认激活第一个标签\n      table.value = true;\n    };\n    async function getAddressList() {\n      try {\n        const response = await axios.post('/api/addresses/getAllAddresses', {\n          userId: UserInfoForm.value.id\n        }, {\n          headers: {\n            'Content-Type': 'application/json;charset=UTF-8'\n          },\n          withCredentials: true\n        });\n        if (response.data) {\n          addresses.value = response.data.map(address => ({\n            id: address.id,\n            name: address.consignee,\n            phone: address.phone,\n            address: address.area,\n            isDefault: address.status === 'default'\n          }));\n          showAddress.value = addresses.value[0].address;\n          selectAddressId.value = addresses.value[0].id;\n        } else {\n          ElMessage.error('获取地址列表失败');\n        }\n      } catch (err) {\n        ElMessage.error('获取地址列表失败');\n      }\n    }\n    async function getFavoriteStatus(goodsId) {\n      try {\n        const response = await axios.post('/api/good/isFavourite', {\n          userId: UserInfoForm.value.id,\n          goodId: goodsId\n        }, {\n          headers: {\n            'Content-Type': 'application/json;charset=UTF-8'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          isFavorite.value = true;\n        }\n      } catch (err) {\n        ElMessage.error('获取收藏状态失败');\n      }\n    }\n    async function init() {\n      try {\n        const response = await axios.post('/api/good/getGoodAllInfo', {\n          goodId: goodID.value\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.shopAvatar !== null) {\n          // 商家信息\n          shopForm.value.id = response.data.shopID;\n          shopForm.value.name = response.data.shopName;\n          shopForm.value.avatar = response.data.shopAvatar;\n          shopForm.value.description = response.data.shopDesc.substring(0, 10) + \"...\";\n          // 主商品信息\n          goodForm.value.name = response.data.goodName;\n          document.title = response.data.goodName;\n          goodForm.value.location = response.data.goodLocation;\n          goodForm.value.uploadTime = response.data.goodUploadTime;\n          // 规则信息\n          const showUrls = response.data.specificationEntities.map(item => item.Showurl);\n          goodForm.value.images = [];\n          showUrls.forEach(image => {\n            goodForm.value.images.push({\n              image: image\n            });\n          });\n          goodForm.value.spec = response.data.specificationEntities.map(item => {\n            return {\n              id: item.specificationID,\n              name: item.specName,\n              value: item.price\n            };\n          });\n          good_big_show.value = goodForm.value.images[0].image;\n          showPrice.value = goodForm.value.spec[0].value;\n          selectSpecId.value = goodForm.value.spec[0].id;\n          await getAddressList();\n          await addFootMark();\n          await getFavoriteStatus(goodID.value);\n        }\n      } catch (error) {\n        ElMessage.error(\"获取商品信息失败\");\n      }\n    }\n    async function addFootMark() {\n      try {\n        const response = await axios.post('/api/good/addGoodFootMark', {\n          goodId: goodID.value,\n          userId: UserInfoForm.value.id\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 400) ElMessage.error(\"历史记录添加失败\");\n      } catch (error) {\n        ElMessage.error(\"历史记录添加失败\");\n      }\n    }\n    document.title = \"Good Info\";\n    const topStyle = ref({\n      transform: \"\"\n    });\n    const r_img = ref({});\n    const topShow = ref(false);\n    const rShow = ref(false);\n\n    // 鼠标进入原图空间函数\n    const enterHandler = () => {\n      topShow.value = true;\n      rShow.value = true;\n    };\n\n    // 鼠标移动函数\n    const moveHandler = event => {\n      let x = event.offsetX;\n      let y = event.offsetY;\n      let topX = x - 100 < 0 ? 0 : x - 100;\n      let topY = y - 100 < 0 ? 0 : y - 100;\n      if (topX > 300) {\n        topX = 300;\n      }\n      if (topY > 300) {\n        topY = 300;\n      }\n      topStyle.value.transform = `translate(${topX}px,${topY}px)`;\n      r_img.value.transform = `translate(-${2 * topX}px,-${2 * topY}px)`;\n    };\n\n    // 鼠标移出函数\n    const outHandler = () => {\n      topShow.value = false;\n      rShow.value = false;\n    };\n    function handleChat() {\n      router.push('/talkToStore?id=' + shopForm.value.id);\n    }\n    function handleShop() {\n      router.push('/shop?shopId=' + shopForm.value.id);\n    }\n    const showAddressModal = ref(false);\n    const activeSpec = ref();\n    function changPrice(spec) {\n      activeSpec.value = spec;\n      showPrice.value = spec.value;\n      selectSpecId.value = spec.id;\n      num.value = 1;\n    }\n    const boxRef = ref(null);\n    const addressListTop = ref(0);\n    const addressListLeft = ref(0);\n    const toggleAddressList = () => {\n      if (showAddressModal.value) {\n        addressListTop.value = boxRef.value.offsetTop + 30; // 上方位置\n        addressListLeft.value = boxRef.value.offsetLeft - 100; // 左侧位置\n      }\n    };\n    function changeAddress(item) {\n      showAddress.value = item.address;\n      selectAddressId.value = item.id;\n    }\n    const num = ref(1);\n    async function checkOut() {\n      const data = {\n        specId: selectSpecId.value,\n        goodId: goodID.value,\n        goodName: goodForm.value.name,\n        specName: goodForm.value.spec.find(item => item.id === selectSpecId.value).name,\n        specPrice: goodForm.value.spec.find(item => item.id === selectSpecId.value).value,\n        specImage: goodForm.value.images[0].image,\n        specNumber: num.value\n      };\n      try {\n        const response = await axios.post('/api/pay/storePayGoods', {\n          buy_now: data,\n          user_id: UserInfoForm.value.id\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.code === \"fail\") ElMessage.error(\"下单失败\");else await router.push('/payGoods/ready?token=' + response.data);\n      } catch (error) {\n        ElMessage.error(\"下单失败\");\n      }\n    }\n    const rightWidget = ref(null);\n    async function addToCart() {\n      const data = {\n        userId: UserInfoForm.value.id,\n        goodId: goodID.value,\n        specId: selectSpecId.value,\n        number: num.value\n      };\n      try {\n        const response = await axios.post('/api/good/addGoodCart', data, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          ElMessage.success(\"加入购物车成功\");\n          await rightWidget.value.getCartCount();\n        } else if (response.data.code === 400) {\n          ElMessage.error(\"加入购物车失败\");\n        }\n      } catch (error) {\n        ElMessage.error(\"加入购物车失败\");\n      }\n    }\n    async function changeFavorite(status) {\n      if (status) {\n        try {\n          const response = await axios.post('/api/good/addFavourite', {\n            userId: UserInfoForm.value.id,\n            goodId: goodID.value\n          }, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            withCredentials: true\n          });\n          if (response.data.code === 200) {\n            isFavorite.value = true;\n          } else if (response.data.code === 400) {\n            ElMessage.error(\"收藏失败\");\n          }\n        } catch (error) {\n          ElMessage.error(\"收藏失败\");\n        }\n      } else {\n        try {\n          const response = await axios.post('/api/good/deleteFavourite', {\n            userId: UserInfoForm.value.id,\n            goodId: goodID.value\n          }, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            withCredentials: true\n          });\n          if (response.data.code === 200) {\n            isFavorite.value = false;\n          } else if (response.data.code === 400) {\n            ElMessage.error(\"取消收藏失败\");\n          }\n        } catch (error) {\n          ElMessage.error(\"取消收藏失败\");\n        }\n      }\n    }\n    const locale = {\n      \"Basic Usage\": \"用户评价\",\n      \"Horizontal Mode\": \"参数信息\",\n      \"Scroll Container\": \"图文详细\",\n      \"Looks good\": \"看了又看\"\n    };\n    const activeName = ref(\"first\");\n    const CommentList = ref([]);\n    const filterComment = ref([]);\n    async function initComment() {\n      try {\n        const response = await axios.post('/api/pay/comment/getCommentByGoodId', {\n          goodId: goodID.value\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data !== null) {\n          CommentList.value = response.data;\n          filterComment.value = CommentList.value;\n        }\n      } catch (error) {\n        ElMessage.error('获取评论失败');\n      }\n    }\n    function formatDate(dateString) {\n      const date = new Date(dateString);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0'); // 月份需加1，并补零\n      const day = String(date.getDate()).padStart(2, '0'); // 补零\n\n      return `${year}-${month}-${day}`;\n    }\n    function handleTabClick() {\n      if (activeName.value === \"first\") {\n        filterComment.value = CommentList.value.filter(item => item.images !== null);\n      } else {\n        filterComment.value = CommentList.value;\n      }\n    }\n    const handleScroll = () => {\n      // 判断是否到达底部并加载更多商品\n      if (loading_recommend.value) return; // 如果正在加载中，则不触发新的请求\n      const scrollHeight = document.documentElement.scrollHeight;\n      const scrollTop = window.scrollY;\n      const windowHeight = window.innerHeight;\n\n      // 判断是否到达底部\n      if (scrollTop + windowHeight >= scrollHeight - 200) {\n        if (recommendedProducts.value.length < total_recommend.value) {\n          initRecommendedProducts();\n        }\n      }\n    };\n    const recommendedProducts = ref([]);\n    const page_recommend = ref(1);\n    const pageSize = ref(14);\n    const total_recommend = ref(0);\n    const loading_recommend = ref(false); // 用于控制加载状态\n    async function getCount() {\n      try {\n        const response = await axios.post('/api/good/getCount', {}, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data !== null) {\n          total_recommend.value = response.data;\n        }\n      } catch (error) {\n        ElMessage.error('获取商品总数失败');\n      }\n    }\n    async function initRecommendedProducts() {\n      if (loading_recommend.value) return; // 防止重复加载\n      loading_recommend.value = true; // 设置加载状态为 true，表示正在加载\n\n      try {\n        const response = await axios.post('/api/good/getGoods', {\n          userId: UserInfoForm.value.id,\n          page: page_recommend.value,\n          pageSize: pageSize.value\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.length > 0) {\n          response.data.forEach(good => {\n            recommendedProducts.value.push({\n              id: good.goodID,\n              name: good.goodName,\n              price: good.price.toString(),\n              image: good.showURL,\n              commentCount: good.comments\n            });\n          });\n          page_recommend.value++;\n        }\n      } catch (error) {\n        ElMessage.error('获取推荐商品失败');\n      } finally {\n        loading_recommend.value = false; // 请求完成后重置加载状态\n      }\n    }\n    const isLive = ref(false);\n    async function checkLive() {\n      try {\n        const response = await axios.post('/api/live/isLiveVisible', {\n          roomId: shopForm.value.id\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        if (response.data.code === 200) {\n          isLive.value = true;\n        }\n      } catch (error) {\n        ElMessage.error('获取直播状态失败');\n      }\n    }\n    onMounted(async () => {\n      goodID.value = new URLSearchParams(window.location.search).get(\"id\");\n      window.addEventListener('scroll', handleScroll);\n      initUserSession();\n      await init();\n      await getCount();\n      await initComment();\n      await initRecommendedProducts();\n      await checkLive();\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener('scroll', handleScroll);\n    });\n    const __returned__ = {\n      UserInfoForm,\n      initUserSession,\n      goodID,\n      shopForm,\n      goodForm,\n      good_big_show,\n      showPrice,\n      selectSpecId,\n      addresses,\n      showAddress,\n      selectAddressId,\n      isFavorite,\n      traceData,\n      table,\n      activeTab,\n      loadTraceData,\n      openDrawer,\n      getAddressList,\n      getFavoriteStatus,\n      init,\n      addFootMark,\n      value,\n      topStyle,\n      r_img,\n      topShow,\n      rShow,\n      enterHandler,\n      moveHandler,\n      outHandler,\n      handleChat,\n      handleShop,\n      showAddressModal,\n      activeSpec,\n      changPrice,\n      boxRef,\n      addressListTop,\n      addressListLeft,\n      toggleAddressList,\n      changeAddress,\n      num,\n      isDark,\n      checkOut,\n      rightWidget,\n      addToCart,\n      changeFavorite,\n      locale,\n      activeName,\n      CommentList,\n      filterComment,\n      initComment,\n      formatDate,\n      handleTabClick,\n      handleScroll,\n      recommendedProducts,\n      page_recommend,\n      pageSize,\n      total_recommend,\n      loading_recommend,\n      getCount,\n      initRecommendedProducts,\n      isLive,\n      checkLive,\n      HeaderComponent,\n      FooterComponent,\n      RightWidgetComponent,\n      get ArrowDown() {\n        return ArrowDown;\n      },\n      get ArrowUp() {\n        return ArrowUp;\n      },\n      get Location() {\n        return Location;\n      },\n      get OfficeBuilding() {\n        return OfficeBuilding;\n      },\n      get Tickets() {\n        return Tickets;\n      },\n      onBeforeUnmount,\n      onMounted,\n      ref,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get axios() {\n        return axios;\n      },\n      get router() {\n        return router;\n      },\n      get useUser() {\n        return useUser;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["HeaderComponent","FooterComponent","RightWidgetComponent","ArrowDown","ArrowUp","Location","OfficeBuilding","Tickets","onBeforeUnmount","onMounted","ref","ElMessage","axios","router","useUser","value","isDark","UserInfoForm","initUserSession","goodID","shopForm","id","name","description","avatar","goodForm","location","uploadTime","spec","images","image","good_big_show","showPrice","selectSpecId","addresses","showAddress","selectAddressId","isFavorite","traceData","table","activeTab","loadTraceData","response","post","GoodID","headers","withCredentials","data","error","e","openDrawer","getAddressList","userId","map","address","consignee","phone","area","isDefault","status","err","getFavoriteStatus","goodsId","goodId","code","init","shopAvatar","shopID","shopName","shopDesc","substring","goodName","document","title","goodLocation","goodUploadTime","showUrls","specificationEntities","item","Showurl","forEach","push","specificationID","specName","price","addFootMark","topStyle","transform","r_img","topShow","rShow","enterHandler","moveHandler","event","x","offsetX","y","offsetY","topX","topY","outHandler","handleChat","handleShop","showAddressModal","activeSpec","changPrice","num","boxRef","addressListTop","addressListLeft","toggleAddressList","offsetTop","offsetLeft","changeAddress","checkOut","specId","find","specPrice","specImage","specNumber","buy_now","user_id","rightWidget","addToCart","number","success","getCartCount","changeFavorite","locale","activeName","CommentList","filterComment","initComment","formatDate","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","handleTabClick","filter","handleScroll","loading_recommend","scrollHeight","documentElement","scrollTop","window","scrollY","windowHeight","innerHeight","recommendedProducts","length","total_recommend","initRecommendedProducts","page_recommend","pageSize","getCount","page","good","toString","showURL","commentCount","comments","isLive","checkLive","roomId","URLSearchParams","search","get","addEventListener","removeEventListener"],"sources":["D:/Cache/Java/shopping/shoppping_c_frontend/src/views/GoodInfoView.vue"],"sourcesContent":["<template>\r\n  <HeaderComponent/>\r\n  <el-container>\r\n    <div class=\"shop-container row\">\r\n      <div class=\"col-7 row\">\r\n        <div class=\"col-3 row\">\r\n          <div class=\"col-3\">\r\n            <div class=\"live-indicator\" v-if=\"isLive\" @click=\"()=>{router.push('/live/show?id='+shopForm.id)}\">\r\n              <img :src=\"shopForm.avatar\" class=\"shop-avatar\" alt=\"shop-avatar\">\r\n              <div class=\"live-label\">直播中</div>\r\n            </div>\r\n            <img v-else :src=\"shopForm.avatar\" class=\"shop-avatar\" alt=\"shop-avatar\">\r\n          </div>\r\n          <div class=\"col-9\">\r\n            <p class=\"shop-name\" style=\"font-size: 16px; \">{{ shopForm.name }}</p>\r\n            <p class=\"shop-desc\" style=\"font-size: 14px;\">{{ shopForm.description }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-7\" style=\"margin-top: 15px;\">\r\n          <el-tag type=\"danger\">\r\n            <el-rate\r\n                v-model=\"value\"\r\n                disabled\r\n                show-score\r\n                text-color=\"#e23030\"\r\n                score-template=\"|&nbsp;&nbsp;{value}\"\r\n            />\r\n          </el-tag>\r\n          &nbsp;\r\n          <el-tag type=\"info\">\r\n            客服满意度96%\r\n          </el-tag>\r\n          &nbsp;\r\n          <el-tag type=\"info\">\r\n            平均13小时发货\r\n          </el-tag>\r\n          &nbsp;\r\n          <el-tag type=\"info\">\r\n            物流体验优秀\r\n          </el-tag>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-3 row\" style=\"text-align: start;\">\r\n      </div>\r\n      <div class=\"col-2\" style=\"margin-top: 15px; text-align: end;\">\r\n        <el-button @click=\"handleChat\">\r\n          <a class=\"bi bi-chat\"></a>&nbsp;\r\n          联系客服\r\n        </el-button>\r\n        <el-button @click=\"handleShop\">\r\n          <a class=\"bi bi-house\"></a>\r\n          进入店铺\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </el-container>\r\n  <el-container>\r\n    <div class=\"good-container row\">\r\n      <div class=\"good-show row\">\r\n        <div class=\"col-1 \">\r\n          <div v-for=\"(goods, index) in goodForm.images\" :key=\"index\" class=\"good-item\"\r\n               @mouseover=\"good_big_show = goods.image\">\r\n            <img :src=\"goods.image\" alt=\"good-image\" style=\"width: 100%; height: 100%;\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <div>\r\n            <div class=\"left\">\r\n              <img :src=\"good_big_show\" alt=\"good-image\"\r\n                   style=\"width: 100%; height: 100%; border-radius: 10px; display: inline-block;\">\r\n              <!-- 鼠标层罩 -->\r\n              <div v-show=\"topShow\" class=\"top\" :style=\"topStyle\"></div>\r\n              <!-- 最顶层覆盖了整个原图空间的透明层罩 -->\r\n              <div\r\n                  class=\"maskTop\"\r\n                  @mouseenter=\"enterHandler\"\r\n                  @mousemove=\"moveHandler\"\r\n                  @mouseout=\"outHandler\"\r\n              ></div>\r\n            </div>\r\n            <div v-show=\"rShow\" class=\"right\">\r\n              <img\r\n                  :style=\"r_img\"\r\n                  class=\"rightImg\"\r\n                  :src=\"good_big_show\"\r\n                  alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-7 \">\r\n          <el-container>\r\n            <div class=\"good-item-desc\">\r\n              <h1 class=\"good-title\" style=\"font-weight: bold; \">{{ goodForm.name }}</h1>\r\n              <h3 class=\"good-title\" style=\"font-weight: bold; color: #e02020; margin-bottom: 20px;\">￥{{ showPrice }}\r\n                <span class=\"good-price\" style=\"font-size: 14px; color: #999; font-weight: normal; margin-left: 10px;\">已售出: 10件</span>\r\n                <span>\r\n                    <el-button text @click=\"openDrawer\"\r\n                    >溯源信息查看</el-button\r\n                    >\r\n                </span>\r\n              </h3>\r\n              <div style=\"position: relative;\">\r\n                <p class=\"good-price\"\r\n                   style=\"font-size: 18px; color: #999; font-weight: normal; margin-left: 10px; margin-bottom: 20px;\">配&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;送:&nbsp;&nbsp;&nbsp;&nbsp;\r\n                  <span\r\n                      style=\"color: #000000;\">{{\r\n                      goodForm.location\r\n                    }}&nbsp;&nbsp;&nbsp;&nbsp;至&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n                  <span style=\"color: #000000; font-size: 18px;\" ref=\"boxRef\">\r\n                  {{ showAddress }}\r\n                  <el-icon class=\"el-icon--right\" @click=\"toggleAddressList\">\r\n                    <arrow-down v-if=\"!showAddressModal\" @click=\"showAddressModal = true\"></arrow-down>\r\n                    <arrow-up v-else @click=\"showAddressModal = false\"></arrow-up>\r\n                  </el-icon>\r\n                </span>\r\n                  <span style=\"font-size: 18px; color: #999;\">\r\n                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;快递: 免运费 48小时内发货\r\n              </span>\r\n                </p>\r\n\r\n                <div v-if=\"showAddressModal\" class=\"address-list\"\r\n                     :style=\"{ top: addressListTop + 'px', left: addressListLeft + 'px' }\">\r\n                  <h4 class=\"address-title\">选择收货地址</h4><br>\r\n                  <div class=\"address-item\" v-for=\"(item, index) in addresses.value\" :key=\"index\"\r\n                       @click=\"changeAddress(item)\">\r\n                    <div class=\"header\">\r\n                      <span>{{ item.name }}</span>\r\n                      <span v-if=\"item.isDefault\" class=\"default\">默认</span>\r\n                    </div>\r\n                    <p>{{ item.phone }}</p>\r\n                    <p>{{ item.address }}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p class=\"good-price\"\r\n                 style=\"font-size: 18px; color: #999; font-weight: normal; margin-left: 10px; margin-bottom: 20px;\">保&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;障:&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <span style=\"color: #000000;\">退货宝 7天无理由退货 极速退款</span>\r\n              </p>\r\n              <div class=\"good-price\"\r\n                   style=\"font-size: 18px; color: #999; font-weight: normal; margin-left: 10px; margin-bottom: 20px;\">\r\n                规格分类：&nbsp;&nbsp;\r\n                <div v-for=\"(spec, index) in goodForm.spec\" :key=\"index\"\r\n                     style=\"display: inline-block; margin-right: 10px;\">\r\n                  <el-button :class=\"{ active: activeSpec === spec }\" color=\"#e23030\" :dark=\"isDark\" plain\r\n                             @click=\"changPrice(spec)\">{{\r\n                      spec.name\r\n                    }}\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n              <div class=\"good-price\"\r\n                   style=\"font-size: 18px; color: #999; font-weight: normal; margin-left: 10px; margin-bottom: 20px;\">\r\n                数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;量:&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <el-input-number v-model=\"num\" :min=\"1\" :max=\"10\"/>\r\n                <span style=\"font-size: 18px; color: #999; margin-left: 10px;\">有货</span>\r\n              </div>\r\n            </div>\r\n            <el-footer style=\"bottom: 35vh;width: 100%; \">\r\n              <el-divider></el-divider>\r\n              <div style=\"display: flex; align-items: center;\">\r\n                <el-button-group\r\n                    style=\"width: 40%;\"\r\n                >\r\n                  <el-button type=\"primary\" size=\"large\" @click=\"checkOut\" class=\"good-buy\">\r\n                    立即购买\r\n                  </el-button>\r\n                  <el-button type=\"primary\" size=\"large\" @click=\"addToCart\" class=\"good-buy\"\r\n                             style=\"background-color: #e6a23c; border-radius: 0 10px 10px 0;\">\r\n                    加入购物车\r\n                  </el-button>\r\n                </el-button-group>\r\n                <a class=\"good-star\">\r\n                  <i class=\"bi bi-star\" v-if=\"!isFavorite\" @click=\"changeFavorite(true)\"></i>\r\n                  <i class=\"bi bi-star-fill\" style=\"color: #e02020;\" v-else @click=\"changeFavorite(false)\"></i>\r\n                  <span>收藏</span>\r\n                </a>\r\n              </div>\r\n            </el-footer>\r\n          </el-container>\r\n        </div>\r\n      </div>\r\n      <el-anchor :offset=\"70\" direction=\"horizontal\">\r\n        <el-anchor-link :href=\"`#用户评价`\">\r\n          <a class=\"link-item\">{{ locale['Basic Usage'] }}</a>\r\n        </el-anchor-link>\r\n        <el-anchor-link :href=\"`#参数信息`\">\r\n          <a class=\"link-item\">{{ locale['Horizontal Mode'] }}</a>\r\n        </el-anchor-link>\r\n        <el-anchor-link :href=\"`#图文详细`\">\r\n          <a class=\"link-item\">{{ locale['Scroll Container'] }}</a>\r\n        </el-anchor-link>\r\n        <el-anchor-link :href=\"`#看了又看`\">\r\n          <a class=\"link-item\">{{ locale['Looks good'] }}</a>\r\n        </el-anchor-link>\r\n      </el-anchor>\r\n      <el-container>\r\n        <div class=\"good-comment\">\r\n          <h1 style=\"font-size: 24px; font-weight: bold; margin-bottom: 20px;\" id=\"用户评价\">\r\n            用户评价</h1>\r\n          <el-tabs v-model=\"activeName\" class=\"demo-tabs\" @tab-click=\"handleTabClick\">\r\n            <el-tab-pane label=\"全部\" name=\"first\">\r\n              <div class=\"good-comment-item\" v-for=\"(comment, index) in filterComment\" :key=\"index\">\r\n                <div class=\"good-comment-avatar\">\r\n                  <img :src=\"comment.userAvatar\" alt=\"good-avatar\">\r\n                </div>\r\n                <div class=\"good-comment-content\">\r\n                  <h3 class=\"good-comment-title\">{{ comment.userName }}</h3>\r\n                  <el-rate\r\n                      v-model=\"comment.rate\"\r\n                      disabled\r\n                      text-color=\"#ff9900\"\r\n                  />\r\n                  <p class=\"good-comment-desc\">\r\n                    {{ comment.commentText }}\r\n                  </p>\r\n                  <p class=\"good-comment-spec\">\r\n                    规格: <span>{{ comment.specname }}</span>\r\n                  </p>\r\n                  <p class=\"good-comment-time\">\r\n                    时间: <span>{{ formatDate(comment.time) }}</span>\r\n                  </p>\r\n                  <div class=\"good-comment-images\" v-if=\"comment.images!== null\">\r\n                    <div v-for=\"(image, index) in comment.images\" :key=\"index\">\r\n                      <el-image :src=\"image\" fit=\"contain\" width=\"50px\" height=\"50px\"></el-image>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"有图\" name=\"second\">\r\n              <div class=\"good-comment-item\" v-for=\"(comment, index) in filterComment\" :key=\"index\">\r\n                <div class=\"good-comment-avatar\">\r\n                  <img :src=\"comment.userAvatar\" alt=\"good-avatar\">\r\n                </div>\r\n                <div class=\"good-comment-content\">\r\n                  <h3 class=\"good-comment-title\">{{ comment.userName }}</h3>\r\n                  <el-rate\r\n                      v-model=\"comment.rate\"\r\n                      disabled\r\n                      text-color=\"#ff9900\"\r\n                  />\r\n                  <p class=\"good-comment-desc\">\r\n                    {{ comment.commentText }}\r\n                  </p>\r\n                  <p class=\"good-comment-spec\">\r\n                    规格: <span>{{ comment.specname }}</span>\r\n                  </p>\r\n                  <p class=\"good-comment-time\">\r\n                    时间: <span>{{ formatDate(comment.time) }}</span>\r\n                  </p>\r\n                  <div class=\"good-comment-images\">\r\n                    <div v-for=\"(image, index) in comment.images\" :key=\"index\">\r\n                      <el-image :src=\"image\" fit=\"contain\" width=\"50px\" height=\"50px\"></el-image>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n          <div class=\"good-desc\">\r\n            <h1 style=\"font-size: 24px; font-weight: bold; margin-bottom: 20px;\" id=\"参数信息\">\r\n              参数信息</h1>\r\n            <el-descriptions\r\n                class=\"margin-top\"\r\n                :column=\"3\"\r\n                border\r\n            >\r\n              <el-descriptions-item>\r\n                <template #label>\r\n                  <div class=\"cell-item\">\r\n                    商品名称\r\n                  </div>\r\n                </template>\r\n                {{ goodForm.name }}\r\n              </el-descriptions-item>\r\n              <el-descriptions-item>\r\n                <template #label>\r\n                  <div class=\"cell-item\">\r\n                    上架时间\r\n                  </div>\r\n                </template>\r\n                {{ goodForm.uploadTime }}\r\n              </el-descriptions-item>\r\n              <el-descriptions-item>\r\n                <template #label>\r\n                  <div class=\"cell-item\">\r\n                    <el-icon :style=\"iconStyle\">\r\n                      <location/>\r\n                    </el-icon>\r\n                    产地\r\n                  </div>\r\n                </template>\r\n                {{ goodForm.location }}\r\n              </el-descriptions-item>\r\n              <el-descriptions-item>\r\n                <template #label>\r\n                  <div class=\"cell-item\">\r\n                    <el-icon :style=\"iconStyle\">\r\n                      <tickets/>\r\n                    </el-icon>\r\n                    种类\r\n                  </div>\r\n                </template>\r\n                <el-tag size=\"small\">School</el-tag>\r\n              </el-descriptions-item>\r\n              <el-descriptions-item>\r\n                <template #label>\r\n                  <div class=\"cell-item\">\r\n                    <el-icon :style=\"iconStyle\">\r\n                      <office-building/>\r\n                    </el-icon>\r\n                    地址\r\n                  </div>\r\n                </template>\r\n                {{ goodForm.location }}\r\n              </el-descriptions-item>\r\n            </el-descriptions>\r\n            <el-divider/>\r\n          </div>\r\n          <div class=\"good-desc\">\r\n            <h1 style=\"font-size: 24px; font-weight: bold; margin-bottom: 20px;\" id=\"看了又看\">\r\n              图文详细</h1>\r\n            <div class=\"good-desc-content\">\r\n              <p>\r\n                商品详情页的图文详情，可以是商品的介绍、规格、包装、售后保障等内容，让用户更直观的了解商品。\r\n              </p>\r\n              <p>\r\n                图文详情页的布局可以根据产品的类型、内容、阅读习惯等因素进行调整，以提升用户的阅读体验。\r\n              </p>\r\n              <p>\r\n                图文详情页的设计要突出商品的主要特点，突出商品的图片、文字，并配合配色、字体、排版等元素，让用户快速理解商品的价值。\r\n              </p>\r\n            </div>\r\n            <el-divider/>\r\n            <div class=\"good-desc\">\r\n              <h1 style=\"font-size: 24px; font-weight: bold; margin-bottom: 20px;\" id=\"${locale['looks-good']}\">\r\n                看了又看</h1>\r\n              <div class=\"promotion-section\">\r\n                <div class=\"promotion-card\" v-for=\"product in recommendedProducts\" :key=\"product.id\">\r\n                  <img :src=\"product.image\" alt=\"Promotion\" class=\"promotion-image\">\r\n                  <div class=\"promotion-info\">\r\n                    <h3>{{ product.name.slice(0, 10) + '...' }}</h3>\r\n                    <span class=\"promotion-price\">￥{{ product.price }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-container>\r\n    </div>\r\n    <el-drawer\r\n        v-model=\"table\"\r\n        title=\"溯源信息\"\r\n        direction=\"rtl\"\r\n        size=\"25%\"\r\n    >\r\n      <el-tabs v-model=\"activeTab\" class=\"trace-tabs\">\r\n        <el-tab-pane\r\n            v-for=\"trace in traceData\"\r\n            :key=\"trace.id\"\r\n            :label=\"formatDate(trace.date)\"\r\n            :name=\"trace.id\"\r\n        >\r\n          <!-- 时间线展示 -->\r\n          <el-timeline>\r\n            <el-timeline-item\r\n                v-for=\"(entry, index) in trace.entries\"\r\n                :key=\"index\"\r\n                :timestamp=\"formatDate(entry.timestamp)\"\r\n                placement=\"top\"\r\n            >\r\n              <div class=\"timeline-entry\">\r\n                <p class=\"timeline-content\">\r\n                  <strong>操作人:</strong> {{ entry.operator }}\r\n                  <br/>\r\n                  {{ entry.content }}\r\n                </p>\r\n                <!-- 图片展示 -->\r\n                <div class=\"timeline-images\" v-if=\"entry.images && entry.images.length\">\r\n                  <el-image\r\n                      v-for=\"(image, imgIndex) in entry.images\"\r\n                      :key=\"imgIndex\"\r\n                      :src=\"image\"\r\n                      class=\"timeline-image\"\r\n                  ></el-image>\r\n                </div>\r\n              </div>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-drawer>\r\n\r\n  </el-container>\r\n  <FooterComponent/>\r\n  <RightWidgetComponent ref=\"rightWidget\"/>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport HeaderComponent from \"@/components/HeaderComponent.vue\";\r\nimport FooterComponent from \"@/components/FooterComponent.vue\";\r\nimport RightWidgetComponent from \"@/components/RightWidgetComponent.vue\";\r\nimport {ArrowDown, ArrowUp, Location, OfficeBuilding, Tickets} from \"@element-plus/icons-vue\";\r\nimport {onBeforeUnmount, onMounted, ref} from \"vue\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport axios from \"axios\";\r\nimport router from \"@/router\";\r\nimport useUser from \"@/composables/useUser\";\r\n\r\nconst {UserInfoForm, initUserSession} = useUser()\r\n\r\nconst goodID = ref();\r\nconst shopForm = ref({\r\n  id: \"\",\r\n  name: \"\",\r\n  description: \"\",\r\n  avatar: \"\",\r\n});\r\n\r\nconst goodForm = ref({\r\n  name: \"\",\r\n  location: \"\",\r\n  uploadTime: \"\",\r\n  spec: [\r\n    {\r\n      name: \"\",\r\n      value: \"\",\r\n    }\r\n  ],\r\n  images: [\r\n    {\r\n      image: \"\",\r\n    }\r\n  ],\r\n})\r\n\r\nconst good_big_show = ref();\r\nconst showPrice = ref();\r\nconst selectSpecId = ref();\r\nconst addresses = []\r\nconst showAddress = ref();\r\nconst selectAddressId = ref();\r\nconst isFavorite = ref(false);\r\nconst traceData = ref([]);\r\nconst table = ref(false);\r\nconst activeTab = ref(\"\");\r\n\r\nasync function loadTraceData() {\r\n  try {\r\n    const response = await axios.post('/api/trace/getGoodTrace', {\r\n      GoodID: goodID.value\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data != null)\r\n      traceData.value = response.data;\r\n    else\r\n      ElMessage.error(\"获取溯源信息失败\")\r\n  } catch (e) {\r\n    ElMessage.error(\"获取溯源信息失败\")\r\n  }\r\n}\r\n\r\nconst openDrawer = async () => {\r\n  await loadTraceData();\r\n  activeTab.value = traceData.value[0]?.id; // 默认激活第一个标签\r\n  table.value = true;\r\n};\r\n\r\nasync function getAddressList() {\r\n  try {\r\n    const response = await axios.post('/api/addresses/getAllAddresses', {\r\n      userId: UserInfoForm.value.id,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data) {\r\n      addresses.value = response.data.map(address => ({\r\n        id: address.id,\r\n        name: address.consignee,\r\n        phone: address.phone,\r\n        address: address.area,\r\n        isDefault: address.status === 'default'\r\n      }));\r\n      showAddress.value = addresses.value[0].address;\r\n      selectAddressId.value = addresses.value[0].id;\r\n    } else {\r\n      ElMessage.error('获取地址列表失败');\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error('获取地址列表失败');\r\n  }\r\n}\r\n\r\nasync function getFavoriteStatus(goodsId) {\r\n  try {\r\n    const response = await axios.post('/api/good/isFavourite', {\r\n      userId: UserInfoForm.value.id,\r\n      goodId: goodsId\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n      },\r\n      withCredentials: true\r\n    });\r\n    if (response.data.code === 200) {\r\n      isFavorite.value = true;\r\n    }\r\n  } catch (err) {\r\n    ElMessage.error('获取收藏状态失败')\r\n  }\r\n}\r\n\r\nasync function init() {\r\n  try {\r\n    const response = await axios.post('/api/good/getGoodAllInfo', {\r\n      goodId: goodID.value\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.shopAvatar !== null) {\r\n      // 商家信息\r\n      shopForm.value.id = response.data.shopID;\r\n      shopForm.value.name = response.data.shopName;\r\n      shopForm.value.avatar = response.data.shopAvatar;\r\n      shopForm.value.description = response.data.shopDesc.substring(0, 10) + \"...\";\r\n      // 主商品信息\r\n      goodForm.value.name = response.data.goodName;\r\n      document.title = response.data.goodName;\r\n      goodForm.value.location = response.data.goodLocation;\r\n      goodForm.value.uploadTime = response.data.goodUploadTime;\r\n      // 规则信息\r\n      const showUrls = response.data.specificationEntities.map(item => item.Showurl);\r\n      goodForm.value.images = [];\r\n      showUrls.forEach(image => {\r\n        goodForm.value.images.push({\r\n          image: image\r\n        })\r\n      })\r\n      goodForm.value.spec = response.data.specificationEntities.map(item => {\r\n        return {\r\n          id: item.specificationID,\r\n          name: item.specName,\r\n          value: item.price\r\n        }\r\n      })\r\n      good_big_show.value = goodForm.value.images[0].image;\r\n      showPrice.value = goodForm.value.spec[0].value;\r\n      selectSpecId.value = goodForm.value.spec[0].id;\r\n      await getAddressList();\r\n      await addFootMark();\r\n      await getFavoriteStatus(goodID.value);\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(\"获取商品信息失败\");\r\n  }\r\n}\r\n\r\nasync function addFootMark() {\r\n  try {\r\n    const response = await axios.post('/api/good/addGoodFootMark', {\r\n      goodId: goodID.value,\r\n      userId: UserInfoForm.value.id\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.code === 400)\r\n      ElMessage.error(\"历史记录添加失败\")\r\n  } catch (error) {\r\n    ElMessage.error(\"历史记录添加失败\")\r\n  }\r\n}\r\n\r\ndocument.title = \"Good Info\";\r\n\r\nconst value = 4.8;\r\n\r\n// 数据定义\r\nconst topStyle = ref({transform: \"\"});\r\nconst r_img = ref({});\r\nconst topShow = ref(false);\r\nconst rShow = ref(false);\r\n\r\n// 鼠标进入原图空间函数\r\nconst enterHandler = () => {\r\n  topShow.value = true;\r\n  rShow.value = true;\r\n};\r\n\r\n// 鼠标移动函数\r\nconst moveHandler = (event) => {\r\n  let x = event.offsetX;\r\n  let y = event.offsetY;\r\n  let topX = x - 100 < 0 ? 0 : x - 100;\r\n  let topY = y - 100 < 0 ? 0 : y - 100;\r\n\r\n  if (topX > 300) {\r\n    topX = 300;\r\n  }\r\n  if (topY > 300) {\r\n    topY = 300;\r\n  }\r\n\r\n  topStyle.value.transform = `translate(${topX}px,${topY}px)`;\r\n  r_img.value.transform = `translate(-${2 * topX}px,-${2 * topY}px)`;\r\n};\r\n\r\n// 鼠标移出函数\r\nconst outHandler = () => {\r\n  topShow.value = false;\r\n  rShow.value = false;\r\n};\r\n\r\nfunction handleChat() {\r\n  router.push('/talkToStore?id=' + shopForm.value.id);\r\n}\r\n\r\nfunction handleShop() {\r\n  router.push('/shop?shopId=' + shopForm.value.id);\r\n}\r\n\r\nconst showAddressModal = ref(false);\r\nconst activeSpec = ref();\r\n\r\nfunction changPrice(spec) {\r\n  activeSpec.value = spec;\r\n  showPrice.value = spec.value;\r\n  selectSpecId.value = spec.id;\r\n  num.value = 1;\r\n}\r\n\r\nconst boxRef = ref(null);\r\n\r\nconst addressListTop = ref(0);\r\nconst addressListLeft = ref(0);\r\nconst toggleAddressList = () => {\r\n  if (showAddressModal.value) {\r\n    addressListTop.value = boxRef.value.offsetTop + 30; // 上方位置\r\n    addressListLeft.value = boxRef.value.offsetLeft - 100; // 左侧位置\r\n  }\r\n};\r\n\r\nfunction changeAddress(item) {\r\n  showAddress.value = item.address;\r\n  selectAddressId.value = item.id;\r\n}\r\n\r\nconst num = ref(1);\r\nconst isDark = false;\r\n\r\nasync function checkOut() {\r\n  const data = {\r\n    specId: selectSpecId.value,\r\n    goodId: goodID.value,\r\n    goodName: goodForm.value.name,\r\n    specName: goodForm.value.spec.find(item => item.id === selectSpecId.value).name,\r\n    specPrice: goodForm.value.spec.find(item => item.id === selectSpecId.value).value,\r\n    specImage: goodForm.value.images[0].image,\r\n    specNumber: num.value,\r\n  }\r\n  try {\r\n    const response = await axios.post('/api/pay/storePayGoods', {\r\n      buy_now: data,\r\n      user_id: UserInfoForm.value.id,\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.code === \"fail\")\r\n      ElMessage.error(\"下单失败\")\r\n    else\r\n      await router.push('/payGoods/ready?token=' + response.data)\r\n  } catch (error) {\r\n    ElMessage.error(\"下单失败\")\r\n  }\r\n}\r\n\r\nconst rightWidget = ref(null);\r\n\r\nasync function addToCart() {\r\n  const data = {\r\n    userId: UserInfoForm.value.id,\r\n    goodId: goodID.value,\r\n    specId: selectSpecId.value,\r\n    number: num.value,\r\n  }\r\n  try {\r\n    const response = await axios.post('/api/good/addGoodCart', data, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.code === 200) {\r\n      ElMessage.success(\"加入购物车成功\")\r\n      await rightWidget.value.getCartCount();\r\n    } else if (response.data.code === 400) {\r\n      ElMessage.error(\"加入购物车失败\")\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(\"加入购物车失败\")\r\n  }\r\n}\r\n\r\nasync function changeFavorite(status) {\r\n  if (status) {\r\n    try {\r\n      const response = await axios.post('/api/good/addFavourite', {\r\n        userId: UserInfoForm.value.id,\r\n        goodId: goodID.value\r\n      }, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        withCredentials: true\r\n      })\r\n      if (response.data.code === 200) {\r\n        isFavorite.value = true;\r\n      } else if (response.data.code === 400) {\r\n        ElMessage.error(\"收藏失败\")\r\n      }\r\n    } catch (error) {\r\n      ElMessage.error(\"收藏失败\")\r\n    }\r\n  } else {\r\n    try {\r\n      const response = await axios.post('/api/good/deleteFavourite', {\r\n        userId: UserInfoForm.value.id,\r\n        goodId: goodID.value\r\n      }, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        withCredentials: true\r\n      })\r\n      if (response.data.code === 200) {\r\n        isFavorite.value = false;\r\n      } else if (response.data.code === 400) {\r\n        ElMessage.error(\"取消收藏失败\")\r\n      }\r\n    } catch (error) {\r\n      ElMessage.error(\"取消收藏失败\")\r\n    }\r\n  }\r\n}\r\n\r\nconst locale = {\r\n  \"Basic Usage\": \"用户评价\",\r\n  \"Horizontal Mode\": \"参数信息\",\r\n  \"Scroll Container\": \"图文详细\",\r\n  \"Looks good\": \"看了又看\",\r\n}\r\nconst activeName = ref(\"first\");\r\nconst CommentList = ref([]);\r\nconst filterComment = ref([]);\r\n\r\nasync function initComment() {\r\n  try {\r\n    const response = await axios.post('/api/pay/comment/getCommentByGoodId', {\r\n      goodId: goodID.value,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data !== null) {\r\n      CommentList.value = response.data;\r\n      filterComment.value = CommentList.value;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取评论失败')\r\n  }\r\n}\r\n\r\nfunction formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n  const year = date.getFullYear();\r\n  const month = String(date.getMonth() + 1).padStart(2, '0'); // 月份需加1，并补零\r\n  const day = String(date.getDate()).padStart(2, '0'); // 补零\r\n\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nfunction handleTabClick() {\r\n  if (activeName.value === \"first\") {\r\n    filterComment.value = CommentList.value.filter(item => item.images !== null)\r\n  } else {\r\n    filterComment.value = CommentList.value\r\n  }\r\n}\r\n\r\nconst handleScroll = () => {\r\n  // 判断是否到达底部并加载更多商品\r\n  if (loading_recommend.value) return; // 如果正在加载中，则不触发新的请求\r\n  const scrollHeight = document.documentElement.scrollHeight;\r\n  const scrollTop = window.scrollY;\r\n  const windowHeight = window.innerHeight;\r\n\r\n  // 判断是否到达底部\r\n  if (scrollTop + windowHeight >= scrollHeight - 200) {\r\n    if (recommendedProducts.value.length < total_recommend.value) {\r\n      initRecommendedProducts();\r\n    }\r\n  }\r\n};\r\nconst recommendedProducts = ref([]);\r\nconst page_recommend = ref(1);\r\nconst pageSize = ref(14);\r\nconst total_recommend = ref(0);\r\nconst loading_recommend = ref(false); // 用于控制加载状态\r\nasync function getCount() {\r\n  try {\r\n    const response = await axios.post('/api/good/getCount', {}, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data !== null) {\r\n      total_recommend.value = response.data;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取商品总数失败');\r\n  }\r\n}\r\n\r\nasync function initRecommendedProducts() {\r\n  if (loading_recommend.value) return; // 防止重复加载\r\n  loading_recommend.value = true; // 设置加载状态为 true，表示正在加载\r\n\r\n  try {\r\n    const response = await axios.post('/api/good/getGoods', {\r\n      userId: UserInfoForm.value.id,\r\n      page: page_recommend.value,\r\n      pageSize: pageSize.value,\r\n    }, {\r\n      headers: {'Content-Type': 'application/json'},\r\n      withCredentials: true\r\n    });\r\n\r\n    if (response.data.length > 0) {\r\n      response.data.forEach(good => {\r\n        recommendedProducts.value.push({\r\n          id: good.goodID,\r\n          name: good.goodName,\r\n          price: good.price.toString(),\r\n          image: good.showURL,\r\n          commentCount: good.comments\r\n        });\r\n      });\r\n      page_recommend.value++;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取推荐商品失败');\r\n  } finally {\r\n    loading_recommend.value = false; // 请求完成后重置加载状态\r\n  }\r\n}\r\n\r\nconst isLive = ref(false);\r\n\r\nasync function checkLive() {\r\n  try {\r\n    const response = await axios.post('/api/live/isLiveVisible', {\r\n      roomId: shopForm.value.id,\r\n    }, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    if (response.data.code === 200) {\r\n      isLive.value = true;\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取直播状态失败')\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  goodID.value = new URLSearchParams(window.location.search).get(\"id\");\r\n  window.addEventListener('scroll', handleScroll);\r\n  initUserSession();\r\n  await init();\r\n  await getCount();\r\n  await initComment();\r\n  await initRecommendedProducts();\r\n  await checkLive();\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('scroll', handleScroll);\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.shop-container {\r\n  margin: 120px 20px 20px;\r\n  width: 100%;\r\n  height: 10vh;\r\n  padding: 20px;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n\r\n.shop-avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.shop-name {\r\n  font-weight: bold;\r\n}\r\n\r\n.good-container {\r\n  margin: 0 20px 20px;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 20px;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n\r\n.good-show {\r\n  height: 65vh;\r\n}\r\n\r\n/* 放大的图片，通过定位将左上角定位到(0,0) */\r\n.rightImg {\r\n  display: inline-block;\r\n  width: 800px;\r\n  height: 800px;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  border-radius: 10px;\r\n}\r\n\r\n/* 右边的区域图片放大空间 */\r\n.right {\r\n  margin-left: 500px;\r\n  width: 400px;\r\n  height: 400px;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  z-index: 500;\r\n  border-radius: 0 10px 10px 0;\r\n}\r\n\r\n/* 一个最高层层罩 */\r\n.maskTop {\r\n  width: 500px;\r\n  height: 500px;\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n/* 层罩，通过定位将左上角定位到(0,0) */\r\n.top {\r\n  width: 200px;\r\n  height: 200px;\r\n  background-color: lightcoral;\r\n  opacity: 0.4;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n/* 原图的容器 */\r\n.left {\r\n  width: 500px;\r\n  height: 500px;\r\n  border: none;\r\n  float: left;\r\n  position: relative;\r\n}\r\n\r\n.active {\r\n  border: 2px solid #e02020;\r\n}\r\n\r\n.address-list {\r\n  position: absolute; /* 使地址列表绝对定位 */\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 15px;\r\n  z-index: 1000; /* 确保显示在其他元素之上 */\r\n  background-color: white; /* 背景色，以便于区分 */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */\r\n  padding: 10px;\r\n  border-radius: 8px; /* 圆角设计 */\r\n  max-height: 40vh;\r\n}\r\n\r\n.address-item {\r\n  border: 1px solid #cccccc;\r\n  border-radius: 8px;\r\n  padding: 10px;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.address-item:hover {\r\n  background-color: #e0e0e0;\r\n  border-color: #e02020;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.default {\r\n  color: #ff8800;\r\n  border: 1px solid #ff8800;\r\n  border-radius: 4px;\r\n  padding: 2px 4px;\r\n}\r\n\r\n.good-item {\r\n  margin: 10px;\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 5px;\r\n}\r\n\r\n.good-item:hover {\r\n  border-color: #e02020;\r\n}\r\n\r\n.good-buy {\r\n  background-color: #e02020;\r\n  color: white;\r\n  border: none;\r\n  font-size: 20px;\r\n  border-radius: 10px 0 0 10px;\r\n  width: 50%;\r\n}\r\n\r\n.good-star {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  color: #121212;\r\n  margin-left: 30px;\r\n  text-decoration: none;\r\n}\r\n\r\n.good-star:hover {\r\n  color: #e02020;\r\n}\r\n\r\n.good-star i {\r\n  font-size: 24px; /* 调整图标大小 */\r\n}\r\n\r\n.good-star span {\r\n  font-size: 14px; /* 调整文本大小 */\r\n}\r\n\r\n.el-anchor-link {\r\n  color: #e02020;\r\n  font-size: 18px;\r\n}\r\n\r\n.link-item {\r\n  font-size: 18px;\r\n  color: #4c4c4c;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n\r\n.link-item:hover {\r\n  color: #e02020;\r\n}\r\n\r\n.good-comment {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n  padding: 10px;\r\n  background-color: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.good-comment-item {\r\n  display: flex;\r\n  margin-bottom: 15px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  padding-bottom: 15px;\r\n}\r\n\r\n.good-comment-avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  margin-right: 15px;\r\n}\r\n\r\n.good-comment-avatar img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n}\r\n\r\n.good-comment-content {\r\n  flex: 1;\r\n}\r\n\r\n.good-comment-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n\r\n.good-comment-desc {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-top: 5px;\r\n}\r\n\r\n.good-comment-spec {\r\n  font-size: 14px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n}\r\n\r\n.good-comment-time {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n}\r\n\r\n.good-comment-images {\r\n  display: flex;\r\n  flex-wrap: wrap; /* 如果图片过多，可以换行 */\r\n  gap: 10px; /* 根据需要调整图片之间的间距 */\r\n}\r\n\r\n.el-tabs {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-tabs__header {\r\n  border-bottom: 2px solid #e0e0e0;\r\n}\r\n\r\n.el-tabs__item {\r\n  font-size: 16px;\r\n  color: #e02020;\r\n}\r\n\r\n.el-tabs__item {\r\n  font-size: 20px !important;\r\n  font-weight: bold;\r\n}\r\n\r\n.el-tabs__item.is-active {\r\n  color: #e02020;\r\n  font-weight: bold;\r\n}\r\n\r\n.el-image {\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  max-width: 300px;\r\n}\r\n\r\n.el-tooltip__trigger:focus-visible {\r\n  outline: unset;\r\n}\r\n\r\n.promotion-section {\r\n  display: flex;\r\n  gap: 20px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.promotion-card {\r\n  width: 200px;\r\n  padding: 10px;\r\n  background-color: #ffffff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.promotion-card:hover {\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n  border: 1px solid #e02020;\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.promotion-image {\r\n  width: 100%;\r\n  height: 120px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n}\r\n\r\n.promotion-info {\r\n  text-align: center;\r\n}\r\n\r\n.promotion-price {\r\n  color: #e02020;\r\n  font-weight: bold;\r\n}\r\n\r\n.trace-tabs {\r\n  margin-top: 10px;\r\n}\r\n\r\n.timeline-entry {\r\n  padding: 12px 0;\r\n}\r\n\r\n.timeline-content {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.timeline-images {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.timeline-image {\r\n  width: 80px;\r\n  height: 80px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.live-indicator {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.live-label {\r\n  position: absolute;\r\n  bottom: -10px; /* 调整位置 */\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: rgba(255, 0, 0, 0.8);\r\n  color: white;\r\n  padding: 5px 1px;\r\n  border-radius: 10px;\r\n  font-size: 6px;\r\n  font-weight: bold;\r\n}\r\n\r\n@keyframes ripple {\r\n  0% {\r\n    transform: scale(1);\r\n    opacity: 1.5;\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n    opacity: 2;\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    opacity: 1.5;\r\n  }\r\n}\r\n\r\n.live-indicator::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  border-radius: 50%;\r\n  border: 2px solid rgba(255, 0, 0, 0.5); /* 外圈颜色 */\r\n  animation: ripple 1.5s infinite; /* 动画周期 */\r\n  z-index: 1; /* 位于图片下面 */\r\n}\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}