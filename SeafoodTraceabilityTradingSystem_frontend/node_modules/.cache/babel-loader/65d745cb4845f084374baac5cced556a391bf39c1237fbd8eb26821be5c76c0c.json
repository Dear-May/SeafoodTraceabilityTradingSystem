{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport router from \"@/router\";\nexport default function useUser() {\n  const UserInfoForm = ref({\n    id: '',\n    name: '',\n    avatar: '',\n    nickname: ''\n  });\n  const router = useRouter();\n  const initUserSession = () => {\n    const userBaseInfoFromSession = JSON.parse(sessionStorage.getItem('userBaseInfo'));\n    if (userBaseInfoFromSession) {\n      UserInfoForm.value.id = userBaseInfoFromSession.id;\n      UserInfoForm.value.name = userBaseInfoFromSession.username;\n      UserInfoForm.value.avatar = userBaseInfoFromSession.avatar;\n      UserInfoForm.value.nickname = userBaseInfoFromSession.nickname;\n    } else {\n      if (router.push !== '/store/login' && router.push !== '/store/register') router.push('/');\n    }\n  };\n  return {\n    UserInfoForm,\n    initUserSession\n  };\n}","map":{"version":3,"names":["ref","useRouter","router","useUser","UserInfoForm","id","name","avatar","nickname","initUserSession","userBaseInfoFromSession","JSON","parse","sessionStorage","getItem","value","username","push"],"sources":["D:/Cache/Java/shopping/shoppping_c_frontend/src/composables/useUser.js"],"sourcesContent":["import {ref} from 'vue';\r\nimport {useRouter} from 'vue-router';\r\nimport router from \"@/router\";\r\n\r\nexport default function useUser() {\r\n    const UserInfoForm = ref({\r\n        id: '',\r\n        name: '',\r\n        avatar: '',\r\n        nickname: '',\r\n    });\r\n\r\n    const router = useRouter();\r\n\r\n    const initUserSession = () => {\r\n        const userBaseInfoFromSession = JSON.parse(sessionStorage.getItem('userBaseInfo'));\r\n        if (userBaseInfoFromSession) {\r\n            UserInfoForm.value.id = userBaseInfoFromSession.id;\r\n            UserInfoForm.value.name = userBaseInfoFromSession.username;\r\n            UserInfoForm.value.avatar = userBaseInfoFromSession.avatar;\r\n            UserInfoForm.value.nickname = userBaseInfoFromSession.nickname;\r\n        } else {\r\n            if (router.push !== '/store/login' && router.push !== '/store/register')\r\n                router.push('/');\r\n        }\r\n    }\r\n\r\n    return {\r\n        UserInfoForm,\r\n        initUserSession,\r\n    }\r\n}"],"mappings":";AAAA,SAAQA,GAAG,QAAO,KAAK;AACvB,SAAQC,SAAS,QAAO,YAAY;AACpC,OAAOC,MAAM,MAAM,UAAU;AAE7B,eAAe,SAASC,OAAOA,CAAA,EAAG;EAC9B,MAAMC,YAAY,GAAGJ,GAAG,CAAC;IACrBK,EAAE,EAAE,EAAE;IACNC,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE;EACd,CAAC,CAAC;EAEF,MAAMN,MAAM,GAAGD,SAAS,CAAC,CAAC;EAE1B,MAAMQ,eAAe,GAAGA,CAAA,KAAM;IAC1B,MAAMC,uBAAuB,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;IAClF,IAAIJ,uBAAuB,EAAE;MACzBN,YAAY,CAACW,KAAK,CAACV,EAAE,GAAGK,uBAAuB,CAACL,EAAE;MAClDD,YAAY,CAACW,KAAK,CAACT,IAAI,GAAGI,uBAAuB,CAACM,QAAQ;MAC1DZ,YAAY,CAACW,KAAK,CAACR,MAAM,GAAGG,uBAAuB,CAACH,MAAM;MAC1DH,YAAY,CAACW,KAAK,CAACP,QAAQ,GAAGE,uBAAuB,CAACF,QAAQ;IAClE,CAAC,MAAM;MACH,IAAIN,MAAM,CAACe,IAAI,KAAK,cAAc,IAAIf,MAAM,CAACe,IAAI,KAAK,iBAAiB,EACnEf,MAAM,CAACe,IAAI,CAAC,GAAG,CAAC;IACxB;EACJ,CAAC;EAED,OAAO;IACHb,YAAY;IACZK;EACJ,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}